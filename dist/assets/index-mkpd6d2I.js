(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))i(o);new MutationObserver(o=>{for(const a of o)if(a.type==="childList")for(const c of a.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&i(c)}).observe(document,{childList:!0,subtree:!0});function t(o){const a={};return o.integrity&&(a.integrity=o.integrity),o.referrerPolicy&&(a.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?a.credentials="include":o.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function i(o){if(o.ep)return;o.ep=!0;const a=t(o);fetch(o.href,a)}})();function Dv(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var Uh={exports:{}},Ua={},jh={exports:{}},De={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Bg;function MT(){if(Bg)return De;Bg=1;var n=Symbol.for("react.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),c=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),_=Symbol.for("react.lazy"),E=Symbol.iterator;function T(F){return F===null||typeof F!="object"?null:(F=E&&F[E]||F["@@iterator"],typeof F=="function"?F:null)}var C={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},b=Object.assign,M={};function D(F,W,le){this.props=F,this.context=W,this.refs=M,this.updater=le||C}D.prototype.isReactComponent={},D.prototype.setState=function(F,W){if(typeof F!="object"&&typeof F!="function"&&F!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,F,W,"setState")},D.prototype.forceUpdate=function(F){this.updater.enqueueForceUpdate(this,F,"forceUpdate")};function H(){}H.prototype=D.prototype;function K(F,W,le){this.props=F,this.context=W,this.refs=M,this.updater=le||C}var Y=K.prototype=new H;Y.constructor=K,b(Y,D.prototype),Y.isPureReactComponent=!0;var ie=Array.isArray,ce=Object.prototype.hasOwnProperty,ue={current:null},x={key:!0,ref:!0,__self:!0,__source:!0};function S(F,W,le){var pe,ve={},_e=null,xe=null;if(W!=null)for(pe in W.ref!==void 0&&(xe=W.ref),W.key!==void 0&&(_e=""+W.key),W)ce.call(W,pe)&&!x.hasOwnProperty(pe)&&(ve[pe]=W[pe]);var be=arguments.length-2;if(be===1)ve.children=le;else if(1<be){for(var Oe=Array(be),Re=0;Re<be;Re++)Oe[Re]=arguments[Re+2];ve.children=Oe}if(F&&F.defaultProps)for(pe in be=F.defaultProps,be)ve[pe]===void 0&&(ve[pe]=be[pe]);return{$$typeof:n,type:F,key:_e,ref:xe,props:ve,_owner:ue.current}}function R(F,W){return{$$typeof:n,type:F.type,key:W,ref:F.ref,props:F.props,_owner:F._owner}}function N(F){return typeof F=="object"&&F!==null&&F.$$typeof===n}function O(F){var W={"=":"=0",":":"=2"};return"$"+F.replace(/[=:]/g,function(le){return W[le]})}var j=/\/+/g;function k(F,W){return typeof F=="object"&&F!==null&&F.key!=null?O(""+F.key):W.toString(36)}function je(F,W,le,pe,ve){var _e=typeof F;(_e==="undefined"||_e==="boolean")&&(F=null);var xe=!1;if(F===null)xe=!0;else switch(_e){case"string":case"number":xe=!0;break;case"object":switch(F.$$typeof){case n:case e:xe=!0}}if(xe)return xe=F,ve=ve(xe),F=pe===""?"."+k(xe,0):pe,ie(ve)?(le="",F!=null&&(le=F.replace(j,"$&/")+"/"),je(ve,W,le,"",function(Re){return Re})):ve!=null&&(N(ve)&&(ve=R(ve,le+(!ve.key||xe&&xe.key===ve.key?"":(""+ve.key).replace(j,"$&/")+"/")+F)),W.push(ve)),1;if(xe=0,pe=pe===""?".":pe+":",ie(F))for(var be=0;be<F.length;be++){_e=F[be];var Oe=pe+k(_e,be);xe+=je(_e,W,le,Oe,ve)}else if(Oe=T(F),typeof Oe=="function")for(F=Oe.call(F),be=0;!(_e=F.next()).done;)_e=_e.value,Oe=pe+k(_e,be++),xe+=je(_e,W,le,Oe,ve);else if(_e==="object")throw W=String(F),Error("Objects are not valid as a React child (found: "+(W==="[object Object]"?"object with keys {"+Object.keys(F).join(", ")+"}":W)+"). If you meant to render a collection of children, use an array instead.");return xe}function et(F,W,le){if(F==null)return F;var pe=[],ve=0;return je(F,pe,"","",function(_e){return W.call(le,_e,ve++)}),pe}function st(F){if(F._status===-1){var W=F._result;W=W(),W.then(function(le){(F._status===0||F._status===-1)&&(F._status=1,F._result=le)},function(le){(F._status===0||F._status===-1)&&(F._status=2,F._result=le)}),F._status===-1&&(F._status=0,F._result=W)}if(F._status===1)return F._result.default;throw F._result}var ee={current:null},Q={transition:null},se={ReactCurrentDispatcher:ee,ReactCurrentBatchConfig:Q,ReactCurrentOwner:ue};function re(){throw Error("act(...) is not supported in production builds of React.")}return De.Children={map:et,forEach:function(F,W,le){et(F,function(){W.apply(this,arguments)},le)},count:function(F){var W=0;return et(F,function(){W++}),W},toArray:function(F){return et(F,function(W){return W})||[]},only:function(F){if(!N(F))throw Error("React.Children.only expected to receive a single React element child.");return F}},De.Component=D,De.Fragment=t,De.Profiler=o,De.PureComponent=K,De.StrictMode=i,De.Suspense=p,De.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=se,De.act=re,De.cloneElement=function(F,W,le){if(F==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+F+".");var pe=b({},F.props),ve=F.key,_e=F.ref,xe=F._owner;if(W!=null){if(W.ref!==void 0&&(_e=W.ref,xe=ue.current),W.key!==void 0&&(ve=""+W.key),F.type&&F.type.defaultProps)var be=F.type.defaultProps;for(Oe in W)ce.call(W,Oe)&&!x.hasOwnProperty(Oe)&&(pe[Oe]=W[Oe]===void 0&&be!==void 0?be[Oe]:W[Oe])}var Oe=arguments.length-2;if(Oe===1)pe.children=le;else if(1<Oe){be=Array(Oe);for(var Re=0;Re<Oe;Re++)be[Re]=arguments[Re+2];pe.children=be}return{$$typeof:n,type:F.type,key:ve,ref:_e,props:pe,_owner:xe}},De.createContext=function(F){return F={$$typeof:c,_currentValue:F,_currentValue2:F,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},F.Provider={$$typeof:a,_context:F},F.Consumer=F},De.createElement=S,De.createFactory=function(F){var W=S.bind(null,F);return W.type=F,W},De.createRef=function(){return{current:null}},De.forwardRef=function(F){return{$$typeof:h,render:F}},De.isValidElement=N,De.lazy=function(F){return{$$typeof:_,_payload:{_status:-1,_result:F},_init:st}},De.memo=function(F,W){return{$$typeof:y,type:F,compare:W===void 0?null:W}},De.startTransition=function(F){var W=Q.transition;Q.transition={};try{F()}finally{Q.transition=W}},De.unstable_act=re,De.useCallback=function(F,W){return ee.current.useCallback(F,W)},De.useContext=function(F){return ee.current.useContext(F)},De.useDebugValue=function(){},De.useDeferredValue=function(F){return ee.current.useDeferredValue(F)},De.useEffect=function(F,W){return ee.current.useEffect(F,W)},De.useId=function(){return ee.current.useId()},De.useImperativeHandle=function(F,W,le){return ee.current.useImperativeHandle(F,W,le)},De.useInsertionEffect=function(F,W){return ee.current.useInsertionEffect(F,W)},De.useLayoutEffect=function(F,W){return ee.current.useLayoutEffect(F,W)},De.useMemo=function(F,W){return ee.current.useMemo(F,W)},De.useReducer=function(F,W,le){return ee.current.useReducer(F,W,le)},De.useRef=function(F){return ee.current.useRef(F)},De.useState=function(F){return ee.current.useState(F)},De.useSyncExternalStore=function(F,W,le){return ee.current.useSyncExternalStore(F,W,le)},De.useTransition=function(){return ee.current.useTransition()},De.version="18.3.1",De}var $g;function Mf(){return $g||($g=1,jh.exports=MT()),jh.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Hg;function FT(){if(Hg)return Ua;Hg=1;var n=Mf(),e=Symbol.for("react.element"),t=Symbol.for("react.fragment"),i=Object.prototype.hasOwnProperty,o=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a={key:!0,ref:!0,__self:!0,__source:!0};function c(h,p,y){var _,E={},T=null,C=null;y!==void 0&&(T=""+y),p.key!==void 0&&(T=""+p.key),p.ref!==void 0&&(C=p.ref);for(_ in p)i.call(p,_)&&!a.hasOwnProperty(_)&&(E[_]=p[_]);if(h&&h.defaultProps)for(_ in p=h.defaultProps,p)E[_]===void 0&&(E[_]=p[_]);return{$$typeof:e,type:h,key:T,ref:C,props:E,_owner:o.current}}return Ua.Fragment=t,Ua.jsx=c,Ua.jsxs=c,Ua}var Wg;function UT(){return Wg||(Wg=1,Uh.exports=FT()),Uh.exports}var V=UT(),A=Mf();const mt=Dv(A);var qu={},zh={exports:{}},Tn={},Bh={exports:{}},$h={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qg;function jT(){return qg||(qg=1,function(n){function e(Q,se){var re=Q.length;Q.push(se);e:for(;0<re;){var F=re-1>>>1,W=Q[F];if(0<o(W,se))Q[F]=se,Q[re]=W,re=F;else break e}}function t(Q){return Q.length===0?null:Q[0]}function i(Q){if(Q.length===0)return null;var se=Q[0],re=Q.pop();if(re!==se){Q[0]=re;e:for(var F=0,W=Q.length,le=W>>>1;F<le;){var pe=2*(F+1)-1,ve=Q[pe],_e=pe+1,xe=Q[_e];if(0>o(ve,re))_e<W&&0>o(xe,ve)?(Q[F]=xe,Q[_e]=re,F=_e):(Q[F]=ve,Q[pe]=re,F=pe);else if(_e<W&&0>o(xe,re))Q[F]=xe,Q[_e]=re,F=_e;else break e}}return se}function o(Q,se){var re=Q.sortIndex-se.sortIndex;return re!==0?re:Q.id-se.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;n.unstable_now=function(){return a.now()}}else{var c=Date,h=c.now();n.unstable_now=function(){return c.now()-h}}var p=[],y=[],_=1,E=null,T=3,C=!1,b=!1,M=!1,D=typeof setTimeout=="function"?setTimeout:null,H=typeof clearTimeout=="function"?clearTimeout:null,K=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function Y(Q){for(var se=t(y);se!==null;){if(se.callback===null)i(y);else if(se.startTime<=Q)i(y),se.sortIndex=se.expirationTime,e(p,se);else break;se=t(y)}}function ie(Q){if(M=!1,Y(Q),!b)if(t(p)!==null)b=!0,st(ce);else{var se=t(y);se!==null&&ee(ie,se.startTime-Q)}}function ce(Q,se){b=!1,M&&(M=!1,H(S),S=-1),C=!0;var re=T;try{for(Y(se),E=t(p);E!==null&&(!(E.expirationTime>se)||Q&&!O());){var F=E.callback;if(typeof F=="function"){E.callback=null,T=E.priorityLevel;var W=F(E.expirationTime<=se);se=n.unstable_now(),typeof W=="function"?E.callback=W:E===t(p)&&i(p),Y(se)}else i(p);E=t(p)}if(E!==null)var le=!0;else{var pe=t(y);pe!==null&&ee(ie,pe.startTime-se),le=!1}return le}finally{E=null,T=re,C=!1}}var ue=!1,x=null,S=-1,R=5,N=-1;function O(){return!(n.unstable_now()-N<R)}function j(){if(x!==null){var Q=n.unstable_now();N=Q;var se=!0;try{se=x(!0,Q)}finally{se?k():(ue=!1,x=null)}}else ue=!1}var k;if(typeof K=="function")k=function(){K(j)};else if(typeof MessageChannel<"u"){var je=new MessageChannel,et=je.port2;je.port1.onmessage=j,k=function(){et.postMessage(null)}}else k=function(){D(j,0)};function st(Q){x=Q,ue||(ue=!0,k())}function ee(Q,se){S=D(function(){Q(n.unstable_now())},se)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(Q){Q.callback=null},n.unstable_continueExecution=function(){b||C||(b=!0,st(ce))},n.unstable_forceFrameRate=function(Q){0>Q||125<Q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<Q?Math.floor(1e3/Q):5},n.unstable_getCurrentPriorityLevel=function(){return T},n.unstable_getFirstCallbackNode=function(){return t(p)},n.unstable_next=function(Q){switch(T){case 1:case 2:case 3:var se=3;break;default:se=T}var re=T;T=se;try{return Q()}finally{T=re}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(Q,se){switch(Q){case 1:case 2:case 3:case 4:case 5:break;default:Q=3}var re=T;T=Q;try{return se()}finally{T=re}},n.unstable_scheduleCallback=function(Q,se,re){var F=n.unstable_now();switch(typeof re=="object"&&re!==null?(re=re.delay,re=typeof re=="number"&&0<re?F+re:F):re=F,Q){case 1:var W=-1;break;case 2:W=250;break;case 5:W=1073741823;break;case 4:W=1e4;break;default:W=5e3}return W=re+W,Q={id:_++,callback:se,priorityLevel:Q,startTime:re,expirationTime:W,sortIndex:-1},re>F?(Q.sortIndex=re,e(y,Q),t(p)===null&&Q===t(y)&&(M?(H(S),S=-1):M=!0,ee(ie,re-F))):(Q.sortIndex=W,e(p,Q),b||C||(b=!0,st(ce))),Q},n.unstable_shouldYield=O,n.unstable_wrapCallback=function(Q){var se=T;return function(){var re=T;T=se;try{return Q.apply(this,arguments)}finally{T=re}}}}($h)),$h}var Kg;function zT(){return Kg||(Kg=1,Bh.exports=jT()),Bh.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Gg;function BT(){if(Gg)return Tn;Gg=1;var n=Mf(),e=zT();function t(r){for(var s="https://reactjs.org/docs/error-decoder.html?invariant="+r,l=1;l<arguments.length;l++)s+="&args[]="+encodeURIComponent(arguments[l]);return"Minified React error #"+r+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var i=new Set,o={};function a(r,s){c(r,s),c(r+"Capture",s)}function c(r,s){for(o[r]=s,r=0;r<s.length;r++)i.add(s[r])}var h=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),p=Object.prototype.hasOwnProperty,y=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,_={},E={};function T(r){return p.call(E,r)?!0:p.call(_,r)?!1:y.test(r)?E[r]=!0:(_[r]=!0,!1)}function C(r,s,l,d){if(l!==null&&l.type===0)return!1;switch(typeof s){case"function":case"symbol":return!0;case"boolean":return d?!1:l!==null?!l.acceptsBooleans:(r=r.toLowerCase().slice(0,5),r!=="data-"&&r!=="aria-");default:return!1}}function b(r,s,l,d){if(s===null||typeof s>"u"||C(r,s,l,d))return!0;if(d)return!1;if(l!==null)switch(l.type){case 3:return!s;case 4:return s===!1;case 5:return isNaN(s);case 6:return isNaN(s)||1>s}return!1}function M(r,s,l,d,f,g,w){this.acceptsBooleans=s===2||s===3||s===4,this.attributeName=d,this.attributeNamespace=f,this.mustUseProperty=l,this.propertyName=r,this.type=s,this.sanitizeURL=g,this.removeEmptyString=w}var D={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(r){D[r]=new M(r,0,!1,r,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(r){var s=r[0];D[s]=new M(s,1,!1,r[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(r){D[r]=new M(r,2,!1,r.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(r){D[r]=new M(r,2,!1,r,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(r){D[r]=new M(r,3,!1,r.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(r){D[r]=new M(r,3,!0,r,null,!1,!1)}),["capture","download"].forEach(function(r){D[r]=new M(r,4,!1,r,null,!1,!1)}),["cols","rows","size","span"].forEach(function(r){D[r]=new M(r,6,!1,r,null,!1,!1)}),["rowSpan","start"].forEach(function(r){D[r]=new M(r,5,!1,r.toLowerCase(),null,!1,!1)});var H=/[\-:]([a-z])/g;function K(r){return r[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(r){var s=r.replace(H,K);D[s]=new M(s,1,!1,r,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(r){var s=r.replace(H,K);D[s]=new M(s,1,!1,r,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(r){var s=r.replace(H,K);D[s]=new M(s,1,!1,r,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(r){D[r]=new M(r,1,!1,r.toLowerCase(),null,!1,!1)}),D.xlinkHref=new M("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(r){D[r]=new M(r,1,!1,r.toLowerCase(),null,!0,!0)});function Y(r,s,l,d){var f=D.hasOwnProperty(s)?D[s]:null;(f!==null?f.type!==0:d||!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(b(s,l,f,d)&&(l=null),d||f===null?T(s)&&(l===null?r.removeAttribute(s):r.setAttribute(s,""+l)):f.mustUseProperty?r[f.propertyName]=l===null?f.type===3?!1:"":l:(s=f.attributeName,d=f.attributeNamespace,l===null?r.removeAttribute(s):(f=f.type,l=f===3||f===4&&l===!0?"":""+l,d?r.setAttributeNS(d,s,l):r.setAttribute(s,l))))}var ie=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ce=Symbol.for("react.element"),ue=Symbol.for("react.portal"),x=Symbol.for("react.fragment"),S=Symbol.for("react.strict_mode"),R=Symbol.for("react.profiler"),N=Symbol.for("react.provider"),O=Symbol.for("react.context"),j=Symbol.for("react.forward_ref"),k=Symbol.for("react.suspense"),je=Symbol.for("react.suspense_list"),et=Symbol.for("react.memo"),st=Symbol.for("react.lazy"),ee=Symbol.for("react.offscreen"),Q=Symbol.iterator;function se(r){return r===null||typeof r!="object"?null:(r=Q&&r[Q]||r["@@iterator"],typeof r=="function"?r:null)}var re=Object.assign,F;function W(r){if(F===void 0)try{throw Error()}catch(l){var s=l.stack.trim().match(/\n( *(at )?)/);F=s&&s[1]||""}return`
`+F+r}var le=!1;function pe(r,s){if(!r||le)return"";le=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(s)if(s=function(){throw Error()},Object.defineProperty(s.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(s,[])}catch(q){var d=q}Reflect.construct(r,[],s)}else{try{s.call()}catch(q){d=q}r.call(s.prototype)}else{try{throw Error()}catch(q){d=q}r()}}catch(q){if(q&&d&&typeof q.stack=="string"){for(var f=q.stack.split(`
`),g=d.stack.split(`
`),w=f.length-1,P=g.length-1;1<=w&&0<=P&&f[w]!==g[P];)P--;for(;1<=w&&0<=P;w--,P--)if(f[w]!==g[P]){if(w!==1||P!==1)do if(w--,P--,0>P||f[w]!==g[P]){var L=`
`+f[w].replace(" at new "," at ");return r.displayName&&L.includes("<anonymous>")&&(L=L.replace("<anonymous>",r.displayName)),L}while(1<=w&&0<=P);break}}}finally{le=!1,Error.prepareStackTrace=l}return(r=r?r.displayName||r.name:"")?W(r):""}function ve(r){switch(r.tag){case 5:return W(r.type);case 16:return W("Lazy");case 13:return W("Suspense");case 19:return W("SuspenseList");case 0:case 2:case 15:return r=pe(r.type,!1),r;case 11:return r=pe(r.type.render,!1),r;case 1:return r=pe(r.type,!0),r;default:return""}}function _e(r){if(r==null)return null;if(typeof r=="function")return r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case x:return"Fragment";case ue:return"Portal";case R:return"Profiler";case S:return"StrictMode";case k:return"Suspense";case je:return"SuspenseList"}if(typeof r=="object")switch(r.$$typeof){case O:return(r.displayName||"Context")+".Consumer";case N:return(r._context.displayName||"Context")+".Provider";case j:var s=r.render;return r=r.displayName,r||(r=s.displayName||s.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case et:return s=r.displayName||null,s!==null?s:_e(r.type)||"Memo";case st:s=r._payload,r=r._init;try{return _e(r(s))}catch{}}return null}function xe(r){var s=r.type;switch(r.tag){case 24:return"Cache";case 9:return(s.displayName||"Context")+".Consumer";case 10:return(s._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return r=s.render,r=r.displayName||r.name||"",s.displayName||(r!==""?"ForwardRef("+r+")":"ForwardRef");case 7:return"Fragment";case 5:return s;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return _e(s);case 8:return s===S?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s}return null}function be(r){switch(typeof r){case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function Oe(r){var s=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function Re(r){var s=Oe(r)?"checked":"value",l=Object.getOwnPropertyDescriptor(r.constructor.prototype,s),d=""+r[s];if(!r.hasOwnProperty(s)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var f=l.get,g=l.set;return Object.defineProperty(r,s,{configurable:!0,get:function(){return f.call(this)},set:function(w){d=""+w,g.call(this,w)}}),Object.defineProperty(r,s,{enumerable:l.enumerable}),{getValue:function(){return d},setValue:function(w){d=""+w},stopTracking:function(){r._valueTracker=null,delete r[s]}}}}function sn(r){r._valueTracker||(r._valueTracker=Re(r))}function Ft(r){if(!r)return!1;var s=r._valueTracker;if(!s)return!0;var l=s.getValue(),d="";return r&&(d=Oe(r)?r.checked?"true":"false":r.value),r=d,r!==l?(s.setValue(r),!0):!1}function on(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}function Ut(r,s){var l=s.checked;return re({},s,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:l??r._wrapperState.initialChecked})}function Rn(r,s){var l=s.defaultValue==null?"":s.defaultValue,d=s.checked!=null?s.checked:s.defaultChecked;l=be(s.value!=null?s.value:l),r._wrapperState={initialChecked:d,initialValue:l,controlled:s.type==="checkbox"||s.type==="radio"?s.checked!=null:s.value!=null}}function Ln(r,s){s=s.checked,s!=null&&Y(r,"checked",s,!1)}function fi(r,s){Ln(r,s);var l=be(s.value),d=s.type;if(l!=null)d==="number"?(l===0&&r.value===""||r.value!=l)&&(r.value=""+l):r.value!==""+l&&(r.value=""+l);else if(d==="submit"||d==="reset"){r.removeAttribute("value");return}s.hasOwnProperty("value")?mr(r,s.type,l):s.hasOwnProperty("defaultValue")&&mr(r,s.type,be(s.defaultValue)),s.checked==null&&s.defaultChecked!=null&&(r.defaultChecked=!!s.defaultChecked)}function as(r,s,l){if(s.hasOwnProperty("value")||s.hasOwnProperty("defaultValue")){var d=s.type;if(!(d!=="submit"&&d!=="reset"||s.value!==void 0&&s.value!==null))return;s=""+r._wrapperState.initialValue,l||s===r.value||(r.value=s),r.defaultValue=s}l=r.name,l!==""&&(r.name=""),r.defaultChecked=!!r._wrapperState.initialChecked,l!==""&&(r.name=l)}function mr(r,s,l){(s!=="number"||on(r.ownerDocument)!==r)&&(l==null?r.defaultValue=""+r._wrapperState.initialValue:r.defaultValue!==""+l&&(r.defaultValue=""+l))}var bt=Array.isArray;function hn(r,s,l,d){if(r=r.options,s){s={};for(var f=0;f<l.length;f++)s["$"+l[f]]=!0;for(l=0;l<r.length;l++)f=s.hasOwnProperty("$"+r[l].value),r[l].selected!==f&&(r[l].selected=f),f&&d&&(r[l].defaultSelected=!0)}else{for(l=""+be(l),s=null,f=0;f<r.length;f++){if(r[f].value===l){r[f].selected=!0,d&&(r[f].defaultSelected=!0);return}s!==null||r[f].disabled||(s=r[f])}s!==null&&(s.selected=!0)}}function gr(r,s){if(s.dangerouslySetInnerHTML!=null)throw Error(t(91));return re({},s,{value:void 0,defaultValue:void 0,children:""+r._wrapperState.initialValue})}function Fr(r,s){var l=s.value;if(l==null){if(l=s.children,s=s.defaultValue,l!=null){if(s!=null)throw Error(t(92));if(bt(l)){if(1<l.length)throw Error(t(93));l=l[0]}s=l}s==null&&(s=""),l=s}r._wrapperState={initialValue:be(l)}}function Ur(r,s){var l=be(s.value),d=be(s.defaultValue);l!=null&&(l=""+l,l!==r.value&&(r.value=l),s.defaultValue==null&&r.defaultValue!==l&&(r.defaultValue=l)),d!=null&&(r.defaultValue=""+d)}function ls(r){var s=r.textContent;s===r._wrapperState.initialValue&&s!==""&&s!==null&&(r.value=s)}function ht(r){switch(r){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Qe(r,s){return r==null||r==="http://www.w3.org/1999/xhtml"?ht(s):r==="http://www.w3.org/2000/svg"&&s==="foreignObject"?"http://www.w3.org/1999/xhtml":r}var Gt,Yn=function(r){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(s,l,d,f){MSApp.execUnsafeLocalFunction(function(){return r(s,l,d,f)})}:r}(function(r,s){if(r.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in r)r.innerHTML=s;else{for(Gt=Gt||document.createElement("div"),Gt.innerHTML="<svg>"+s.valueOf().toString()+"</svg>",s=Gt.firstChild;r.firstChild;)r.removeChild(r.firstChild);for(;s.firstChild;)r.appendChild(s.firstChild)}});function Xn(r,s){if(s){var l=r.firstChild;if(l&&l===r.lastChild&&l.nodeType===3){l.nodeValue=s;return}}r.textContent=s}var Qt={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},yr=["Webkit","ms","Moz","O"];Object.keys(Qt).forEach(function(r){yr.forEach(function(s){s=s+r.charAt(0).toUpperCase()+r.substring(1),Qt[s]=Qt[r]})});function us(r,s,l){return s==null||typeof s=="boolean"||s===""?"":l||typeof s!="number"||s===0||Qt.hasOwnProperty(r)&&Qt[r]?(""+s).trim():s+"px"}function cs(r,s){r=r.style;for(var l in s)if(s.hasOwnProperty(l)){var d=l.indexOf("--")===0,f=us(l,s[l],d);l==="float"&&(l="cssFloat"),d?r.setProperty(l,f):r[l]=f}}var jr=re({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function pi(r,s){if(s){if(jr[r]&&(s.children!=null||s.dangerouslySetInnerHTML!=null))throw Error(t(137,r));if(s.dangerouslySetInnerHTML!=null){if(s.children!=null)throw Error(t(60));if(typeof s.dangerouslySetInnerHTML!="object"||!("__html"in s.dangerouslySetInnerHTML))throw Error(t(61))}if(s.style!=null&&typeof s.style!="object")throw Error(t(62))}}function ds(r,s){if(r.indexOf("-")===-1)return typeof s.is=="string";switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var vr=null;function mi(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var gi=null,fn=null,Ke=null;function gt(r){if(r=Sa(r)){if(typeof gi!="function")throw Error(t(280));var s=r.stateNode;s&&(s=au(s),gi(r.stateNode,r.type,s))}}function tt(r){fn?Ke?Ke.push(r):Ke=[r]:fn=r}function pn(){if(fn){var r=fn,s=Ke;if(Ke=fn=null,gt(r),s)for(r=0;r<s.length;r++)gt(s[r])}}function yt(r,s){return r(s)}function It(){}var vt=!1;function Vn(r,s,l){if(vt)return r(s,l);vt=!0;try{return yt(r,s,l)}finally{vt=!1,(fn!==null||Ke!==null)&&(It(),pn())}}function Ne(r,s){var l=r.stateNode;if(l===null)return null;var d=au(l);if(d===null)return null;l=d[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(d=!d.disabled)||(r=r.type,d=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!d;break e;default:r=!1}if(r)return null;if(l&&typeof l!="function")throw Error(t(231,s,typeof l));return l}var an=!1;if(h)try{var ct={};Object.defineProperty(ct,"passive",{get:function(){an=!0}}),window.addEventListener("test",ct,ct),window.removeEventListener("test",ct,ct)}catch{an=!1}function jt(r,s,l,d,f,g,w,P,L){var q=Array.prototype.slice.call(arguments,3);try{s.apply(l,q)}catch(Z){this.onError(Z)}}var Cn=!1,Mn=null,_t=!1,Jn=null,hs={onError:function(r){Cn=!0,Mn=r}};function Ws(r,s,l,d,f,g,w,P,L){Cn=!1,Mn=null,jt.apply(hs,arguments)}function Nl(r,s,l,d,f,g,w,P,L){if(Ws.apply(this,arguments),Cn){if(Cn){var q=Mn;Cn=!1,Mn=null}else throw Error(t(198));_t||(_t=!0,Jn=q)}}function Zn(r){var s=r,l=r;if(r.alternate)for(;s.return;)s=s.return;else{r=s;do s=r,s.flags&4098&&(l=s.return),r=s.return;while(r)}return s.tag===3?l:null}function fs(r){if(r.tag===13){var s=r.memoizedState;if(s===null&&(r=r.alternate,r!==null&&(s=r.memoizedState)),s!==null)return s.dehydrated}return null}function er(r){if(Zn(r)!==r)throw Error(t(188))}function Dl(r){var s=r.alternate;if(!s){if(s=Zn(r),s===null)throw Error(t(188));return s!==r?null:r}for(var l=r,d=s;;){var f=l.return;if(f===null)break;var g=f.alternate;if(g===null){if(d=f.return,d!==null){l=d;continue}break}if(f.child===g.child){for(g=f.child;g;){if(g===l)return er(f),r;if(g===d)return er(f),s;g=g.sibling}throw Error(t(188))}if(l.return!==d.return)l=f,d=g;else{for(var w=!1,P=f.child;P;){if(P===l){w=!0,l=f,d=g;break}if(P===d){w=!0,d=f,l=g;break}P=P.sibling}if(!w){for(P=g.child;P;){if(P===l){w=!0,l=g,d=f;break}if(P===d){w=!0,d=g,l=f;break}P=P.sibling}if(!w)throw Error(t(189))}}if(l.alternate!==d)throw Error(t(190))}if(l.tag!==3)throw Error(t(188));return l.stateNode.current===l?r:s}function sa(r){return r=Dl(r),r!==null?qs(r):null}function qs(r){if(r.tag===5||r.tag===6)return r;for(r=r.child;r!==null;){var s=qs(r);if(s!==null)return s;r=r.sibling}return null}var Ks=e.unstable_scheduleCallback,oa=e.unstable_cancelCallback,Ol=e.unstable_shouldYield,pd=e.unstable_requestPaint,Ye=e.unstable_now,Ll=e.unstable_getCurrentPriorityLevel,ps=e.unstable_ImmediatePriority,yi=e.unstable_UserBlockingPriority,Fn=e.unstable_NormalPriority,aa=e.unstable_LowPriority,Vl=e.unstable_IdlePriority,ms=null,An=null;function Ml(r){if(An&&typeof An.onCommitFiberRoot=="function")try{An.onCommitFiberRoot(ms,r,void 0,(r.current.flags&128)===128)}catch{}}var ln=Math.clz32?Math.clz32:Ul,la=Math.log,Fl=Math.LN2;function Ul(r){return r>>>=0,r===0?32:31-(la(r)/Fl|0)|0}var Gs=64,Qs=4194304;function vi(r){switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return r&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return r}}function gs(r,s){var l=r.pendingLanes;if(l===0)return 0;var d=0,f=r.suspendedLanes,g=r.pingedLanes,w=l&268435455;if(w!==0){var P=w&~f;P!==0?d=vi(P):(g&=w,g!==0&&(d=vi(g)))}else w=l&~f,w!==0?d=vi(w):g!==0&&(d=vi(g));if(d===0)return 0;if(s!==0&&s!==d&&!(s&f)&&(f=d&-d,g=s&-s,f>=g||f===16&&(g&4194240)!==0))return s;if(d&4&&(d|=l&16),s=r.entangledLanes,s!==0)for(r=r.entanglements,s&=d;0<s;)l=31-ln(s),f=1<<l,d|=r[l],s&=~f;return d}function md(r,s){switch(r){case 1:case 2:case 4:return s+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function zr(r,s){for(var l=r.suspendedLanes,d=r.pingedLanes,f=r.expirationTimes,g=r.pendingLanes;0<g;){var w=31-ln(g),P=1<<w,L=f[w];L===-1?(!(P&l)||P&d)&&(f[w]=md(P,s)):L<=s&&(r.expiredLanes|=P),g&=~P}}function Pn(r){return r=r.pendingLanes&-1073741825,r!==0?r:r&1073741824?1073741824:0}function ys(){var r=Gs;return Gs<<=1,!(Gs&4194240)&&(Gs=64),r}function _i(r){for(var s=[],l=0;31>l;l++)s.push(r);return s}function wi(r,s,l){r.pendingLanes|=s,s!==536870912&&(r.suspendedLanes=0,r.pingedLanes=0),r=r.eventTimes,s=31-ln(s),r[s]=l}function Ge(r,s){var l=r.pendingLanes&~s;r.pendingLanes=s,r.suspendedLanes=0,r.pingedLanes=0,r.expiredLanes&=s,r.mutableReadLanes&=s,r.entangledLanes&=s,s=r.entanglements;var d=r.eventTimes;for(r=r.expirationTimes;0<l;){var f=31-ln(l),g=1<<f;s[f]=0,d[f]=-1,r[f]=-1,l&=~g}}function Ei(r,s){var l=r.entangledLanes|=s;for(r=r.entanglements;l;){var d=31-ln(l),f=1<<d;f&s|r[d]&s&&(r[d]|=s),l&=~f}}var Me=0;function Ti(r){return r&=-r,1<r?4<r?r&268435455?16:536870912:4:1}var jl,Ys,zl,Bl,$l,ua=!1,_r=[],zt=null,tr=null,nr=null,Ii=new Map,Un=new Map,wr=[],gd="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Hl(r,s){switch(r){case"focusin":case"focusout":zt=null;break;case"dragenter":case"dragleave":tr=null;break;case"mouseover":case"mouseout":nr=null;break;case"pointerover":case"pointerout":Ii.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":Un.delete(s.pointerId)}}function mn(r,s,l,d,f,g){return r===null||r.nativeEvent!==g?(r={blockedOn:s,domEventName:l,eventSystemFlags:d,nativeEvent:g,targetContainers:[f]},s!==null&&(s=Sa(s),s!==null&&Ys(s)),r):(r.eventSystemFlags|=d,s=r.targetContainers,f!==null&&s.indexOf(f)===-1&&s.push(f),r)}function yd(r,s,l,d,f){switch(s){case"focusin":return zt=mn(zt,r,s,l,d,f),!0;case"dragenter":return tr=mn(tr,r,s,l,d,f),!0;case"mouseover":return nr=mn(nr,r,s,l,d,f),!0;case"pointerover":var g=f.pointerId;return Ii.set(g,mn(Ii.get(g)||null,r,s,l,d,f)),!0;case"gotpointercapture":return g=f.pointerId,Un.set(g,mn(Un.get(g)||null,r,s,l,d,f)),!0}return!1}function Wl(r){var s=Ts(r.target);if(s!==null){var l=Zn(s);if(l!==null){if(s=l.tag,s===13){if(s=fs(l),s!==null){r.blockedOn=s,$l(r.priority,function(){zl(l)});return}}else if(s===3&&l.stateNode.current.memoizedState.isDehydrated){r.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}r.blockedOn=null}function Br(r){if(r.blockedOn!==null)return!1;for(var s=r.targetContainers;0<s.length;){var l=Xs(r.domEventName,r.eventSystemFlags,s[0],r.nativeEvent);if(l===null){l=r.nativeEvent;var d=new l.constructor(l.type,l);vr=d,l.target.dispatchEvent(d),vr=null}else return s=Sa(l),s!==null&&Ys(s),r.blockedOn=l,!1;s.shift()}return!0}function vs(r,s,l){Br(r)&&l.delete(s)}function ql(){ua=!1,zt!==null&&Br(zt)&&(zt=null),tr!==null&&Br(tr)&&(tr=null),nr!==null&&Br(nr)&&(nr=null),Ii.forEach(vs),Un.forEach(vs)}function rr(r,s){r.blockedOn===s&&(r.blockedOn=null,ua||(ua=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,ql)))}function ir(r){function s(f){return rr(f,r)}if(0<_r.length){rr(_r[0],r);for(var l=1;l<_r.length;l++){var d=_r[l];d.blockedOn===r&&(d.blockedOn=null)}}for(zt!==null&&rr(zt,r),tr!==null&&rr(tr,r),nr!==null&&rr(nr,r),Ii.forEach(s),Un.forEach(s),l=0;l<wr.length;l++)d=wr[l],d.blockedOn===r&&(d.blockedOn=null);for(;0<wr.length&&(l=wr[0],l.blockedOn===null);)Wl(l),l.blockedOn===null&&wr.shift()}var $r=ie.ReactCurrentBatchConfig,Si=!0;function nt(r,s,l,d){var f=Me,g=$r.transition;$r.transition=null;try{Me=1,ca(r,s,l,d)}finally{Me=f,$r.transition=g}}function vd(r,s,l,d){var f=Me,g=$r.transition;$r.transition=null;try{Me=4,ca(r,s,l,d)}finally{Me=f,$r.transition=g}}function ca(r,s,l,d){if(Si){var f=Xs(r,s,l,d);if(f===null)kd(r,s,d,_s,l),Hl(r,d);else if(yd(f,r,s,l,d))d.stopPropagation();else if(Hl(r,d),s&4&&-1<gd.indexOf(r)){for(;f!==null;){var g=Sa(f);if(g!==null&&jl(g),g=Xs(r,s,l,d),g===null&&kd(r,s,d,_s,l),g===f)break;f=g}f!==null&&d.stopPropagation()}else kd(r,s,d,null,l)}}var _s=null;function Xs(r,s,l,d){if(_s=null,r=mi(d),r=Ts(r),r!==null)if(s=Zn(r),s===null)r=null;else if(l=s.tag,l===13){if(r=fs(s),r!==null)return r;r=null}else if(l===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;r=null}else s!==r&&(r=null);return _s=r,null}function da(r){switch(r){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Ll()){case ps:return 1;case yi:return 4;case Fn:case aa:return 16;case Vl:return 536870912;default:return 16}default:return 16}}var kn=null,Js=null,gn=null;function ha(){if(gn)return gn;var r,s=Js,l=s.length,d,f="value"in kn?kn.value:kn.textContent,g=f.length;for(r=0;r<l&&s[r]===f[r];r++);var w=l-r;for(d=1;d<=w&&s[l-d]===f[g-d];d++);return gn=f.slice(r,1<d?1-d:void 0)}function Zs(r){var s=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&s===13&&(r=13)):r=s,r===10&&(r=13),32<=r||r===13?r:0}function Er(){return!0}function fa(){return!1}function Bt(r){function s(l,d,f,g,w){this._reactName=l,this._targetInst=f,this.type=d,this.nativeEvent=g,this.target=w,this.currentTarget=null;for(var P in r)r.hasOwnProperty(P)&&(l=r[P],this[P]=l?l(g):g[P]);return this.isDefaultPrevented=(g.defaultPrevented!=null?g.defaultPrevented:g.returnValue===!1)?Er:fa,this.isPropagationStopped=fa,this}return re(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=Er)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=Er)},persist:function(){},isPersistent:Er}),s}var sr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},eo=Bt(sr),Tr=re({},sr,{view:0,detail:0}),_d=Bt(Tr),to,Hr,Ri,ws=re({},Tr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ir,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==Ri&&(Ri&&r.type==="mousemove"?(to=r.screenX-Ri.screenX,Hr=r.screenY-Ri.screenY):Hr=to=0,Ri=r),to)},movementY:function(r){return"movementY"in r?r.movementY:Hr}}),no=Bt(ws),pa=re({},ws,{dataTransfer:0}),Kl=Bt(pa),ro=re({},Tr,{relatedTarget:0}),io=Bt(ro),Gl=re({},sr,{animationName:0,elapsedTime:0,pseudoElement:0}),Wr=Bt(Gl),Ql=re({},sr,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),Yl=Bt(Ql),Xl=re({},sr,{data:0}),ma=Bt(Xl),so={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},un={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Jl={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Zl(r){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(r):(r=Jl[r])?!!s[r]:!1}function Ir(){return Zl}var u=re({},Tr,{key:function(r){if(r.key){var s=so[r.key]||r.key;if(s!=="Unidentified")return s}return r.type==="keypress"?(r=Zs(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?un[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ir,charCode:function(r){return r.type==="keypress"?Zs(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?Zs(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),m=Bt(u),v=re({},ws,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),I=Bt(v),z=re({},Tr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ir}),G=Bt(z),ae=re({},sr,{propertyName:0,elapsedTime:0,pseudoElement:0}),qe=Bt(ae),St=re({},ws,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),ze=Bt(St),Nt=[9,13,27,32],wt=h&&"CompositionEvent"in window,jn=null;h&&"documentMode"in document&&(jn=document.documentMode);var xn=h&&"TextEvent"in window&&!jn,Es=h&&(!wt||jn&&8<jn&&11>=jn),oo=" ",Vp=!1;function Mp(r,s){switch(r){case"keyup":return Nt.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Fp(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var ao=!1;function LE(r,s){switch(r){case"compositionend":return Fp(s);case"keypress":return s.which!==32?null:(Vp=!0,oo);case"textInput":return r=s.data,r===oo&&Vp?null:r;default:return null}}function VE(r,s){if(ao)return r==="compositionend"||!wt&&Mp(r,s)?(r=ha(),gn=Js=kn=null,ao=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return Es&&s.locale!=="ko"?null:s.data;default:return null}}var ME={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Up(r){var s=r&&r.nodeName&&r.nodeName.toLowerCase();return s==="input"?!!ME[r.type]:s==="textarea"}function jp(r,s,l,d){tt(d),s=iu(s,"onChange"),0<s.length&&(l=new eo("onChange","change",null,l,d),r.push({event:l,listeners:s}))}var ga=null,ya=null;function FE(r){im(r,0)}function eu(r){var s=fo(r);if(Ft(s))return r}function UE(r,s){if(r==="change")return s}var zp=!1;if(h){var wd;if(h){var Ed="oninput"in document;if(!Ed){var Bp=document.createElement("div");Bp.setAttribute("oninput","return;"),Ed=typeof Bp.oninput=="function"}wd=Ed}else wd=!1;zp=wd&&(!document.documentMode||9<document.documentMode)}function $p(){ga&&(ga.detachEvent("onpropertychange",Hp),ya=ga=null)}function Hp(r){if(r.propertyName==="value"&&eu(ya)){var s=[];jp(s,ya,r,mi(r)),Vn(FE,s)}}function jE(r,s,l){r==="focusin"?($p(),ga=s,ya=l,ga.attachEvent("onpropertychange",Hp)):r==="focusout"&&$p()}function zE(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return eu(ya)}function BE(r,s){if(r==="click")return eu(s)}function $E(r,s){if(r==="input"||r==="change")return eu(s)}function HE(r,s){return r===s&&(r!==0||1/r===1/s)||r!==r&&s!==s}var or=typeof Object.is=="function"?Object.is:HE;function va(r,s){if(or(r,s))return!0;if(typeof r!="object"||r===null||typeof s!="object"||s===null)return!1;var l=Object.keys(r),d=Object.keys(s);if(l.length!==d.length)return!1;for(d=0;d<l.length;d++){var f=l[d];if(!p.call(s,f)||!or(r[f],s[f]))return!1}return!0}function Wp(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function qp(r,s){var l=Wp(r);r=0;for(var d;l;){if(l.nodeType===3){if(d=r+l.textContent.length,r<=s&&d>=s)return{node:l,offset:s-r};r=d}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=Wp(l)}}function Kp(r,s){return r&&s?r===s?!0:r&&r.nodeType===3?!1:s&&s.nodeType===3?Kp(r,s.parentNode):"contains"in r?r.contains(s):r.compareDocumentPosition?!!(r.compareDocumentPosition(s)&16):!1:!1}function Gp(){for(var r=window,s=on();s instanceof r.HTMLIFrameElement;){try{var l=typeof s.contentWindow.location.href=="string"}catch{l=!1}if(l)r=s.contentWindow;else break;s=on(r.document)}return s}function Td(r){var s=r&&r.nodeName&&r.nodeName.toLowerCase();return s&&(s==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||s==="textarea"||r.contentEditable==="true")}function WE(r){var s=Gp(),l=r.focusedElem,d=r.selectionRange;if(s!==l&&l&&l.ownerDocument&&Kp(l.ownerDocument.documentElement,l)){if(d!==null&&Td(l)){if(s=d.start,r=d.end,r===void 0&&(r=s),"selectionStart"in l)l.selectionStart=s,l.selectionEnd=Math.min(r,l.value.length);else if(r=(s=l.ownerDocument||document)&&s.defaultView||window,r.getSelection){r=r.getSelection();var f=l.textContent.length,g=Math.min(d.start,f);d=d.end===void 0?g:Math.min(d.end,f),!r.extend&&g>d&&(f=d,d=g,g=f),f=qp(l,g);var w=qp(l,d);f&&w&&(r.rangeCount!==1||r.anchorNode!==f.node||r.anchorOffset!==f.offset||r.focusNode!==w.node||r.focusOffset!==w.offset)&&(s=s.createRange(),s.setStart(f.node,f.offset),r.removeAllRanges(),g>d?(r.addRange(s),r.extend(w.node,w.offset)):(s.setEnd(w.node,w.offset),r.addRange(s)))}}for(s=[],r=l;r=r.parentNode;)r.nodeType===1&&s.push({element:r,left:r.scrollLeft,top:r.scrollTop});for(typeof l.focus=="function"&&l.focus(),l=0;l<s.length;l++)r=s[l],r.element.scrollLeft=r.left,r.element.scrollTop=r.top}}var qE=h&&"documentMode"in document&&11>=document.documentMode,lo=null,Id=null,_a=null,Sd=!1;function Qp(r,s,l){var d=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;Sd||lo==null||lo!==on(d)||(d=lo,"selectionStart"in d&&Td(d)?d={start:d.selectionStart,end:d.selectionEnd}:(d=(d.ownerDocument&&d.ownerDocument.defaultView||window).getSelection(),d={anchorNode:d.anchorNode,anchorOffset:d.anchorOffset,focusNode:d.focusNode,focusOffset:d.focusOffset}),_a&&va(_a,d)||(_a=d,d=iu(Id,"onSelect"),0<d.length&&(s=new eo("onSelect","select",null,s,l),r.push({event:s,listeners:d}),s.target=lo)))}function tu(r,s){var l={};return l[r.toLowerCase()]=s.toLowerCase(),l["Webkit"+r]="webkit"+s,l["Moz"+r]="moz"+s,l}var uo={animationend:tu("Animation","AnimationEnd"),animationiteration:tu("Animation","AnimationIteration"),animationstart:tu("Animation","AnimationStart"),transitionend:tu("Transition","TransitionEnd")},Rd={},Yp={};h&&(Yp=document.createElement("div").style,"AnimationEvent"in window||(delete uo.animationend.animation,delete uo.animationiteration.animation,delete uo.animationstart.animation),"TransitionEvent"in window||delete uo.transitionend.transition);function nu(r){if(Rd[r])return Rd[r];if(!uo[r])return r;var s=uo[r],l;for(l in s)if(s.hasOwnProperty(l)&&l in Yp)return Rd[r]=s[l];return r}var Xp=nu("animationend"),Jp=nu("animationiteration"),Zp=nu("animationstart"),em=nu("transitionend"),tm=new Map,nm="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ci(r,s){tm.set(r,s),a(s,[r])}for(var Cd=0;Cd<nm.length;Cd++){var Ad=nm[Cd],KE=Ad.toLowerCase(),GE=Ad[0].toUpperCase()+Ad.slice(1);Ci(KE,"on"+GE)}Ci(Xp,"onAnimationEnd"),Ci(Jp,"onAnimationIteration"),Ci(Zp,"onAnimationStart"),Ci("dblclick","onDoubleClick"),Ci("focusin","onFocus"),Ci("focusout","onBlur"),Ci(em,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),a("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),a("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),a("onBeforeInput",["compositionend","keypress","textInput","paste"]),a("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var wa="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),QE=new Set("cancel close invalid load scroll toggle".split(" ").concat(wa));function rm(r,s,l){var d=r.type||"unknown-event";r.currentTarget=l,Nl(d,s,void 0,r),r.currentTarget=null}function im(r,s){s=(s&4)!==0;for(var l=0;l<r.length;l++){var d=r[l],f=d.event;d=d.listeners;e:{var g=void 0;if(s)for(var w=d.length-1;0<=w;w--){var P=d[w],L=P.instance,q=P.currentTarget;if(P=P.listener,L!==g&&f.isPropagationStopped())break e;rm(f,P,q),g=L}else for(w=0;w<d.length;w++){if(P=d[w],L=P.instance,q=P.currentTarget,P=P.listener,L!==g&&f.isPropagationStopped())break e;rm(f,P,q),g=L}}}if(_t)throw r=Jn,_t=!1,Jn=null,r}function Je(r,s){var l=s[Ld];l===void 0&&(l=s[Ld]=new Set);var d=r+"__bubble";l.has(d)||(sm(s,r,2,!1),l.add(d))}function Pd(r,s,l){var d=0;s&&(d|=4),sm(l,r,d,s)}var ru="_reactListening"+Math.random().toString(36).slice(2);function Ea(r){if(!r[ru]){r[ru]=!0,i.forEach(function(l){l!=="selectionchange"&&(QE.has(l)||Pd(l,!1,r),Pd(l,!0,r))});var s=r.nodeType===9?r:r.ownerDocument;s===null||s[ru]||(s[ru]=!0,Pd("selectionchange",!1,s))}}function sm(r,s,l,d){switch(da(s)){case 1:var f=nt;break;case 4:f=vd;break;default:f=ca}l=f.bind(null,s,l,r),f=void 0,!an||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(f=!0),d?f!==void 0?r.addEventListener(s,l,{capture:!0,passive:f}):r.addEventListener(s,l,!0):f!==void 0?r.addEventListener(s,l,{passive:f}):r.addEventListener(s,l,!1)}function kd(r,s,l,d,f){var g=d;if(!(s&1)&&!(s&2)&&d!==null)e:for(;;){if(d===null)return;var w=d.tag;if(w===3||w===4){var P=d.stateNode.containerInfo;if(P===f||P.nodeType===8&&P.parentNode===f)break;if(w===4)for(w=d.return;w!==null;){var L=w.tag;if((L===3||L===4)&&(L=w.stateNode.containerInfo,L===f||L.nodeType===8&&L.parentNode===f))return;w=w.return}for(;P!==null;){if(w=Ts(P),w===null)return;if(L=w.tag,L===5||L===6){d=g=w;continue e}P=P.parentNode}}d=d.return}Vn(function(){var q=g,Z=mi(l),ne=[];e:{var J=tm.get(r);if(J!==void 0){var de=eo,me=r;switch(r){case"keypress":if(Zs(l)===0)break e;case"keydown":case"keyup":de=m;break;case"focusin":me="focus",de=io;break;case"focusout":me="blur",de=io;break;case"beforeblur":case"afterblur":de=io;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":de=no;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":de=Kl;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":de=G;break;case Xp:case Jp:case Zp:de=Wr;break;case em:de=qe;break;case"scroll":de=_d;break;case"wheel":de=ze;break;case"copy":case"cut":case"paste":de=Yl;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":de=I}var ge=(s&4)!==0,ft=!ge&&r==="scroll",B=ge?J!==null?J+"Capture":null:J;ge=[];for(var U=q,$;U!==null;){$=U;var oe=$.stateNode;if($.tag===5&&oe!==null&&($=oe,B!==null&&(oe=Ne(U,B),oe!=null&&ge.push(Ta(U,oe,$)))),ft)break;U=U.return}0<ge.length&&(J=new de(J,me,null,l,Z),ne.push({event:J,listeners:ge}))}}if(!(s&7)){e:{if(J=r==="mouseover"||r==="pointerover",de=r==="mouseout"||r==="pointerout",J&&l!==vr&&(me=l.relatedTarget||l.fromElement)&&(Ts(me)||me[qr]))break e;if((de||J)&&(J=Z.window===Z?Z:(J=Z.ownerDocument)?J.defaultView||J.parentWindow:window,de?(me=l.relatedTarget||l.toElement,de=q,me=me?Ts(me):null,me!==null&&(ft=Zn(me),me!==ft||me.tag!==5&&me.tag!==6)&&(me=null)):(de=null,me=q),de!==me)){if(ge=no,oe="onMouseLeave",B="onMouseEnter",U="mouse",(r==="pointerout"||r==="pointerover")&&(ge=I,oe="onPointerLeave",B="onPointerEnter",U="pointer"),ft=de==null?J:fo(de),$=me==null?J:fo(me),J=new ge(oe,U+"leave",de,l,Z),J.target=ft,J.relatedTarget=$,oe=null,Ts(Z)===q&&(ge=new ge(B,U+"enter",me,l,Z),ge.target=$,ge.relatedTarget=ft,oe=ge),ft=oe,de&&me)t:{for(ge=de,B=me,U=0,$=ge;$;$=co($))U++;for($=0,oe=B;oe;oe=co(oe))$++;for(;0<U-$;)ge=co(ge),U--;for(;0<$-U;)B=co(B),$--;for(;U--;){if(ge===B||B!==null&&ge===B.alternate)break t;ge=co(ge),B=co(B)}ge=null}else ge=null;de!==null&&om(ne,J,de,ge,!1),me!==null&&ft!==null&&om(ne,ft,me,ge,!0)}}e:{if(J=q?fo(q):window,de=J.nodeName&&J.nodeName.toLowerCase(),de==="select"||de==="input"&&J.type==="file")var ye=UE;else if(Up(J))if(zp)ye=$E;else{ye=zE;var Ee=jE}else(de=J.nodeName)&&de.toLowerCase()==="input"&&(J.type==="checkbox"||J.type==="radio")&&(ye=BE);if(ye&&(ye=ye(r,q))){jp(ne,ye,l,Z);break e}Ee&&Ee(r,J,q),r==="focusout"&&(Ee=J._wrapperState)&&Ee.controlled&&J.type==="number"&&mr(J,"number",J.value)}switch(Ee=q?fo(q):window,r){case"focusin":(Up(Ee)||Ee.contentEditable==="true")&&(lo=Ee,Id=q,_a=null);break;case"focusout":_a=Id=lo=null;break;case"mousedown":Sd=!0;break;case"contextmenu":case"mouseup":case"dragend":Sd=!1,Qp(ne,l,Z);break;case"selectionchange":if(qE)break;case"keydown":case"keyup":Qp(ne,l,Z)}var Te;if(wt)e:{switch(r){case"compositionstart":var Ce="onCompositionStart";break e;case"compositionend":Ce="onCompositionEnd";break e;case"compositionupdate":Ce="onCompositionUpdate";break e}Ce=void 0}else ao?Mp(r,l)&&(Ce="onCompositionEnd"):r==="keydown"&&l.keyCode===229&&(Ce="onCompositionStart");Ce&&(Es&&l.locale!=="ko"&&(ao||Ce!=="onCompositionStart"?Ce==="onCompositionEnd"&&ao&&(Te=ha()):(kn=Z,Js="value"in kn?kn.value:kn.textContent,ao=!0)),Ee=iu(q,Ce),0<Ee.length&&(Ce=new ma(Ce,r,null,l,Z),ne.push({event:Ce,listeners:Ee}),Te?Ce.data=Te:(Te=Fp(l),Te!==null&&(Ce.data=Te)))),(Te=xn?LE(r,l):VE(r,l))&&(q=iu(q,"onBeforeInput"),0<q.length&&(Z=new ma("onBeforeInput","beforeinput",null,l,Z),ne.push({event:Z,listeners:q}),Z.data=Te))}im(ne,s)})}function Ta(r,s,l){return{instance:r,listener:s,currentTarget:l}}function iu(r,s){for(var l=s+"Capture",d=[];r!==null;){var f=r,g=f.stateNode;f.tag===5&&g!==null&&(f=g,g=Ne(r,l),g!=null&&d.unshift(Ta(r,g,f)),g=Ne(r,s),g!=null&&d.push(Ta(r,g,f))),r=r.return}return d}function co(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5);return r||null}function om(r,s,l,d,f){for(var g=s._reactName,w=[];l!==null&&l!==d;){var P=l,L=P.alternate,q=P.stateNode;if(L!==null&&L===d)break;P.tag===5&&q!==null&&(P=q,f?(L=Ne(l,g),L!=null&&w.unshift(Ta(l,L,P))):f||(L=Ne(l,g),L!=null&&w.push(Ta(l,L,P)))),l=l.return}w.length!==0&&r.push({event:s,listeners:w})}var YE=/\r\n?/g,XE=/\u0000|\uFFFD/g;function am(r){return(typeof r=="string"?r:""+r).replace(YE,`
`).replace(XE,"")}function su(r,s,l){if(s=am(s),am(r)!==s&&l)throw Error(t(425))}function ou(){}var xd=null,bd=null;function Nd(r,s){return r==="textarea"||r==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var Dd=typeof setTimeout=="function"?setTimeout:void 0,JE=typeof clearTimeout=="function"?clearTimeout:void 0,lm=typeof Promise=="function"?Promise:void 0,ZE=typeof queueMicrotask=="function"?queueMicrotask:typeof lm<"u"?function(r){return lm.resolve(null).then(r).catch(eT)}:Dd;function eT(r){setTimeout(function(){throw r})}function Od(r,s){var l=s,d=0;do{var f=l.nextSibling;if(r.removeChild(l),f&&f.nodeType===8)if(l=f.data,l==="/$"){if(d===0){r.removeChild(f),ir(s);return}d--}else l!=="$"&&l!=="$?"&&l!=="$!"||d++;l=f}while(l);ir(s)}function Ai(r){for(;r!=null;r=r.nextSibling){var s=r.nodeType;if(s===1||s===3)break;if(s===8){if(s=r.data,s==="$"||s==="$!"||s==="$?")break;if(s==="/$")return null}}return r}function um(r){r=r.previousSibling;for(var s=0;r;){if(r.nodeType===8){var l=r.data;if(l==="$"||l==="$!"||l==="$?"){if(s===0)return r;s--}else l==="/$"&&s++}r=r.previousSibling}return null}var ho=Math.random().toString(36).slice(2),Sr="__reactFiber$"+ho,Ia="__reactProps$"+ho,qr="__reactContainer$"+ho,Ld="__reactEvents$"+ho,tT="__reactListeners$"+ho,nT="__reactHandles$"+ho;function Ts(r){var s=r[Sr];if(s)return s;for(var l=r.parentNode;l;){if(s=l[qr]||l[Sr]){if(l=s.alternate,s.child!==null||l!==null&&l.child!==null)for(r=um(r);r!==null;){if(l=r[Sr])return l;r=um(r)}return s}r=l,l=r.parentNode}return null}function Sa(r){return r=r[Sr]||r[qr],!r||r.tag!==5&&r.tag!==6&&r.tag!==13&&r.tag!==3?null:r}function fo(r){if(r.tag===5||r.tag===6)return r.stateNode;throw Error(t(33))}function au(r){return r[Ia]||null}var Vd=[],po=-1;function Pi(r){return{current:r}}function Ze(r){0>po||(r.current=Vd[po],Vd[po]=null,po--)}function Xe(r,s){po++,Vd[po]=r.current,r.current=s}var ki={},Yt=Pi(ki),yn=Pi(!1),Is=ki;function mo(r,s){var l=r.type.contextTypes;if(!l)return ki;var d=r.stateNode;if(d&&d.__reactInternalMemoizedUnmaskedChildContext===s)return d.__reactInternalMemoizedMaskedChildContext;var f={},g;for(g in l)f[g]=s[g];return d&&(r=r.stateNode,r.__reactInternalMemoizedUnmaskedChildContext=s,r.__reactInternalMemoizedMaskedChildContext=f),f}function vn(r){return r=r.childContextTypes,r!=null}function lu(){Ze(yn),Ze(Yt)}function cm(r,s,l){if(Yt.current!==ki)throw Error(t(168));Xe(Yt,s),Xe(yn,l)}function dm(r,s,l){var d=r.stateNode;if(s=s.childContextTypes,typeof d.getChildContext!="function")return l;d=d.getChildContext();for(var f in d)if(!(f in s))throw Error(t(108,xe(r)||"Unknown",f));return re({},l,d)}function uu(r){return r=(r=r.stateNode)&&r.__reactInternalMemoizedMergedChildContext||ki,Is=Yt.current,Xe(Yt,r),Xe(yn,yn.current),!0}function hm(r,s,l){var d=r.stateNode;if(!d)throw Error(t(169));l?(r=dm(r,s,Is),d.__reactInternalMemoizedMergedChildContext=r,Ze(yn),Ze(Yt),Xe(Yt,r)):Ze(yn),Xe(yn,l)}var Kr=null,cu=!1,Md=!1;function fm(r){Kr===null?Kr=[r]:Kr.push(r)}function rT(r){cu=!0,fm(r)}function xi(){if(!Md&&Kr!==null){Md=!0;var r=0,s=Me;try{var l=Kr;for(Me=1;r<l.length;r++){var d=l[r];do d=d(!0);while(d!==null)}Kr=null,cu=!1}catch(f){throw Kr!==null&&(Kr=Kr.slice(r+1)),Ks(ps,xi),f}finally{Me=s,Md=!1}}return null}var go=[],yo=0,du=null,hu=0,zn=[],Bn=0,Ss=null,Gr=1,Qr="";function Rs(r,s){go[yo++]=hu,go[yo++]=du,du=r,hu=s}function pm(r,s,l){zn[Bn++]=Gr,zn[Bn++]=Qr,zn[Bn++]=Ss,Ss=r;var d=Gr;r=Qr;var f=32-ln(d)-1;d&=~(1<<f),l+=1;var g=32-ln(s)+f;if(30<g){var w=f-f%5;g=(d&(1<<w)-1).toString(32),d>>=w,f-=w,Gr=1<<32-ln(s)+f|l<<f|d,Qr=g+r}else Gr=1<<g|l<<f|d,Qr=r}function Fd(r){r.return!==null&&(Rs(r,1),pm(r,1,0))}function Ud(r){for(;r===du;)du=go[--yo],go[yo]=null,hu=go[--yo],go[yo]=null;for(;r===Ss;)Ss=zn[--Bn],zn[Bn]=null,Qr=zn[--Bn],zn[Bn]=null,Gr=zn[--Bn],zn[Bn]=null}var bn=null,Nn=null,rt=!1,ar=null;function mm(r,s){var l=qn(5,null,null,0);l.elementType="DELETED",l.stateNode=s,l.return=r,s=r.deletions,s===null?(r.deletions=[l],r.flags|=16):s.push(l)}function gm(r,s){switch(r.tag){case 5:var l=r.type;return s=s.nodeType!==1||l.toLowerCase()!==s.nodeName.toLowerCase()?null:s,s!==null?(r.stateNode=s,bn=r,Nn=Ai(s.firstChild),!0):!1;case 6:return s=r.pendingProps===""||s.nodeType!==3?null:s,s!==null?(r.stateNode=s,bn=r,Nn=null,!0):!1;case 13:return s=s.nodeType!==8?null:s,s!==null?(l=Ss!==null?{id:Gr,overflow:Qr}:null,r.memoizedState={dehydrated:s,treeContext:l,retryLane:1073741824},l=qn(18,null,null,0),l.stateNode=s,l.return=r,r.child=l,bn=r,Nn=null,!0):!1;default:return!1}}function jd(r){return(r.mode&1)!==0&&(r.flags&128)===0}function zd(r){if(rt){var s=Nn;if(s){var l=s;if(!gm(r,s)){if(jd(r))throw Error(t(418));s=Ai(l.nextSibling);var d=bn;s&&gm(r,s)?mm(d,l):(r.flags=r.flags&-4097|2,rt=!1,bn=r)}}else{if(jd(r))throw Error(t(418));r.flags=r.flags&-4097|2,rt=!1,bn=r}}}function ym(r){for(r=r.return;r!==null&&r.tag!==5&&r.tag!==3&&r.tag!==13;)r=r.return;bn=r}function fu(r){if(r!==bn)return!1;if(!rt)return ym(r),rt=!0,!1;var s;if((s=r.tag!==3)&&!(s=r.tag!==5)&&(s=r.type,s=s!=="head"&&s!=="body"&&!Nd(r.type,r.memoizedProps)),s&&(s=Nn)){if(jd(r))throw vm(),Error(t(418));for(;s;)mm(r,s),s=Ai(s.nextSibling)}if(ym(r),r.tag===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(t(317));e:{for(r=r.nextSibling,s=0;r;){if(r.nodeType===8){var l=r.data;if(l==="/$"){if(s===0){Nn=Ai(r.nextSibling);break e}s--}else l!=="$"&&l!=="$!"&&l!=="$?"||s++}r=r.nextSibling}Nn=null}}else Nn=bn?Ai(r.stateNode.nextSibling):null;return!0}function vm(){for(var r=Nn;r;)r=Ai(r.nextSibling)}function vo(){Nn=bn=null,rt=!1}function Bd(r){ar===null?ar=[r]:ar.push(r)}var iT=ie.ReactCurrentBatchConfig;function Ra(r,s,l){if(r=l.ref,r!==null&&typeof r!="function"&&typeof r!="object"){if(l._owner){if(l=l._owner,l){if(l.tag!==1)throw Error(t(309));var d=l.stateNode}if(!d)throw Error(t(147,r));var f=d,g=""+r;return s!==null&&s.ref!==null&&typeof s.ref=="function"&&s.ref._stringRef===g?s.ref:(s=function(w){var P=f.refs;w===null?delete P[g]:P[g]=w},s._stringRef=g,s)}if(typeof r!="string")throw Error(t(284));if(!l._owner)throw Error(t(290,r))}return r}function pu(r,s){throw r=Object.prototype.toString.call(s),Error(t(31,r==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":r))}function _m(r){var s=r._init;return s(r._payload)}function wm(r){function s(B,U){if(r){var $=B.deletions;$===null?(B.deletions=[U],B.flags|=16):$.push(U)}}function l(B,U){if(!r)return null;for(;U!==null;)s(B,U),U=U.sibling;return null}function d(B,U){for(B=new Map;U!==null;)U.key!==null?B.set(U.key,U):B.set(U.index,U),U=U.sibling;return B}function f(B,U){return B=Fi(B,U),B.index=0,B.sibling=null,B}function g(B,U,$){return B.index=$,r?($=B.alternate,$!==null?($=$.index,$<U?(B.flags|=2,U):$):(B.flags|=2,U)):(B.flags|=1048576,U)}function w(B){return r&&B.alternate===null&&(B.flags|=2),B}function P(B,U,$,oe){return U===null||U.tag!==6?(U=Dh($,B.mode,oe),U.return=B,U):(U=f(U,$),U.return=B,U)}function L(B,U,$,oe){var ye=$.type;return ye===x?Z(B,U,$.props.children,oe,$.key):U!==null&&(U.elementType===ye||typeof ye=="object"&&ye!==null&&ye.$$typeof===st&&_m(ye)===U.type)?(oe=f(U,$.props),oe.ref=Ra(B,U,$),oe.return=B,oe):(oe=Fu($.type,$.key,$.props,null,B.mode,oe),oe.ref=Ra(B,U,$),oe.return=B,oe)}function q(B,U,$,oe){return U===null||U.tag!==4||U.stateNode.containerInfo!==$.containerInfo||U.stateNode.implementation!==$.implementation?(U=Oh($,B.mode,oe),U.return=B,U):(U=f(U,$.children||[]),U.return=B,U)}function Z(B,U,$,oe,ye){return U===null||U.tag!==7?(U=Ds($,B.mode,oe,ye),U.return=B,U):(U=f(U,$),U.return=B,U)}function ne(B,U,$){if(typeof U=="string"&&U!==""||typeof U=="number")return U=Dh(""+U,B.mode,$),U.return=B,U;if(typeof U=="object"&&U!==null){switch(U.$$typeof){case ce:return $=Fu(U.type,U.key,U.props,null,B.mode,$),$.ref=Ra(B,null,U),$.return=B,$;case ue:return U=Oh(U,B.mode,$),U.return=B,U;case st:var oe=U._init;return ne(B,oe(U._payload),$)}if(bt(U)||se(U))return U=Ds(U,B.mode,$,null),U.return=B,U;pu(B,U)}return null}function J(B,U,$,oe){var ye=U!==null?U.key:null;if(typeof $=="string"&&$!==""||typeof $=="number")return ye!==null?null:P(B,U,""+$,oe);if(typeof $=="object"&&$!==null){switch($.$$typeof){case ce:return $.key===ye?L(B,U,$,oe):null;case ue:return $.key===ye?q(B,U,$,oe):null;case st:return ye=$._init,J(B,U,ye($._payload),oe)}if(bt($)||se($))return ye!==null?null:Z(B,U,$,oe,null);pu(B,$)}return null}function de(B,U,$,oe,ye){if(typeof oe=="string"&&oe!==""||typeof oe=="number")return B=B.get($)||null,P(U,B,""+oe,ye);if(typeof oe=="object"&&oe!==null){switch(oe.$$typeof){case ce:return B=B.get(oe.key===null?$:oe.key)||null,L(U,B,oe,ye);case ue:return B=B.get(oe.key===null?$:oe.key)||null,q(U,B,oe,ye);case st:var Ee=oe._init;return de(B,U,$,Ee(oe._payload),ye)}if(bt(oe)||se(oe))return B=B.get($)||null,Z(U,B,oe,ye,null);pu(U,oe)}return null}function me(B,U,$,oe){for(var ye=null,Ee=null,Te=U,Ce=U=0,Lt=null;Te!==null&&Ce<$.length;Ce++){Te.index>Ce?(Lt=Te,Te=null):Lt=Te.sibling;var He=J(B,Te,$[Ce],oe);if(He===null){Te===null&&(Te=Lt);break}r&&Te&&He.alternate===null&&s(B,Te),U=g(He,U,Ce),Ee===null?ye=He:Ee.sibling=He,Ee=He,Te=Lt}if(Ce===$.length)return l(B,Te),rt&&Rs(B,Ce),ye;if(Te===null){for(;Ce<$.length;Ce++)Te=ne(B,$[Ce],oe),Te!==null&&(U=g(Te,U,Ce),Ee===null?ye=Te:Ee.sibling=Te,Ee=Te);return rt&&Rs(B,Ce),ye}for(Te=d(B,Te);Ce<$.length;Ce++)Lt=de(Te,B,Ce,$[Ce],oe),Lt!==null&&(r&&Lt.alternate!==null&&Te.delete(Lt.key===null?Ce:Lt.key),U=g(Lt,U,Ce),Ee===null?ye=Lt:Ee.sibling=Lt,Ee=Lt);return r&&Te.forEach(function(Ui){return s(B,Ui)}),rt&&Rs(B,Ce),ye}function ge(B,U,$,oe){var ye=se($);if(typeof ye!="function")throw Error(t(150));if($=ye.call($),$==null)throw Error(t(151));for(var Ee=ye=null,Te=U,Ce=U=0,Lt=null,He=$.next();Te!==null&&!He.done;Ce++,He=$.next()){Te.index>Ce?(Lt=Te,Te=null):Lt=Te.sibling;var Ui=J(B,Te,He.value,oe);if(Ui===null){Te===null&&(Te=Lt);break}r&&Te&&Ui.alternate===null&&s(B,Te),U=g(Ui,U,Ce),Ee===null?ye=Ui:Ee.sibling=Ui,Ee=Ui,Te=Lt}if(He.done)return l(B,Te),rt&&Rs(B,Ce),ye;if(Te===null){for(;!He.done;Ce++,He=$.next())He=ne(B,He.value,oe),He!==null&&(U=g(He,U,Ce),Ee===null?ye=He:Ee.sibling=He,Ee=He);return rt&&Rs(B,Ce),ye}for(Te=d(B,Te);!He.done;Ce++,He=$.next())He=de(Te,B,Ce,He.value,oe),He!==null&&(r&&He.alternate!==null&&Te.delete(He.key===null?Ce:He.key),U=g(He,U,Ce),Ee===null?ye=He:Ee.sibling=He,Ee=He);return r&&Te.forEach(function(VT){return s(B,VT)}),rt&&Rs(B,Ce),ye}function ft(B,U,$,oe){if(typeof $=="object"&&$!==null&&$.type===x&&$.key===null&&($=$.props.children),typeof $=="object"&&$!==null){switch($.$$typeof){case ce:e:{for(var ye=$.key,Ee=U;Ee!==null;){if(Ee.key===ye){if(ye=$.type,ye===x){if(Ee.tag===7){l(B,Ee.sibling),U=f(Ee,$.props.children),U.return=B,B=U;break e}}else if(Ee.elementType===ye||typeof ye=="object"&&ye!==null&&ye.$$typeof===st&&_m(ye)===Ee.type){l(B,Ee.sibling),U=f(Ee,$.props),U.ref=Ra(B,Ee,$),U.return=B,B=U;break e}l(B,Ee);break}else s(B,Ee);Ee=Ee.sibling}$.type===x?(U=Ds($.props.children,B.mode,oe,$.key),U.return=B,B=U):(oe=Fu($.type,$.key,$.props,null,B.mode,oe),oe.ref=Ra(B,U,$),oe.return=B,B=oe)}return w(B);case ue:e:{for(Ee=$.key;U!==null;){if(U.key===Ee)if(U.tag===4&&U.stateNode.containerInfo===$.containerInfo&&U.stateNode.implementation===$.implementation){l(B,U.sibling),U=f(U,$.children||[]),U.return=B,B=U;break e}else{l(B,U);break}else s(B,U);U=U.sibling}U=Oh($,B.mode,oe),U.return=B,B=U}return w(B);case st:return Ee=$._init,ft(B,U,Ee($._payload),oe)}if(bt($))return me(B,U,$,oe);if(se($))return ge(B,U,$,oe);pu(B,$)}return typeof $=="string"&&$!==""||typeof $=="number"?($=""+$,U!==null&&U.tag===6?(l(B,U.sibling),U=f(U,$),U.return=B,B=U):(l(B,U),U=Dh($,B.mode,oe),U.return=B,B=U),w(B)):l(B,U)}return ft}var _o=wm(!0),Em=wm(!1),mu=Pi(null),gu=null,wo=null,$d=null;function Hd(){$d=wo=gu=null}function Wd(r){var s=mu.current;Ze(mu),r._currentValue=s}function qd(r,s,l){for(;r!==null;){var d=r.alternate;if((r.childLanes&s)!==s?(r.childLanes|=s,d!==null&&(d.childLanes|=s)):d!==null&&(d.childLanes&s)!==s&&(d.childLanes|=s),r===l)break;r=r.return}}function Eo(r,s){gu=r,$d=wo=null,r=r.dependencies,r!==null&&r.firstContext!==null&&(r.lanes&s&&(_n=!0),r.firstContext=null)}function $n(r){var s=r._currentValue;if($d!==r)if(r={context:r,memoizedValue:s,next:null},wo===null){if(gu===null)throw Error(t(308));wo=r,gu.dependencies={lanes:0,firstContext:r}}else wo=wo.next=r;return s}var Cs=null;function Kd(r){Cs===null?Cs=[r]:Cs.push(r)}function Tm(r,s,l,d){var f=s.interleaved;return f===null?(l.next=l,Kd(s)):(l.next=f.next,f.next=l),s.interleaved=l,Yr(r,d)}function Yr(r,s){r.lanes|=s;var l=r.alternate;for(l!==null&&(l.lanes|=s),l=r,r=r.return;r!==null;)r.childLanes|=s,l=r.alternate,l!==null&&(l.childLanes|=s),l=r,r=r.return;return l.tag===3?l.stateNode:null}var bi=!1;function Gd(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Im(r,s){r=r.updateQueue,s.updateQueue===r&&(s.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,effects:r.effects})}function Xr(r,s){return{eventTime:r,lane:s,tag:0,payload:null,callback:null,next:null}}function Ni(r,s,l){var d=r.updateQueue;if(d===null)return null;if(d=d.shared,$e&2){var f=d.pending;return f===null?s.next=s:(s.next=f.next,f.next=s),d.pending=s,Yr(r,l)}return f=d.interleaved,f===null?(s.next=s,Kd(d)):(s.next=f.next,f.next=s),d.interleaved=s,Yr(r,l)}function yu(r,s,l){if(s=s.updateQueue,s!==null&&(s=s.shared,(l&4194240)!==0)){var d=s.lanes;d&=r.pendingLanes,l|=d,s.lanes=l,Ei(r,l)}}function Sm(r,s){var l=r.updateQueue,d=r.alternate;if(d!==null&&(d=d.updateQueue,l===d)){var f=null,g=null;if(l=l.firstBaseUpdate,l!==null){do{var w={eventTime:l.eventTime,lane:l.lane,tag:l.tag,payload:l.payload,callback:l.callback,next:null};g===null?f=g=w:g=g.next=w,l=l.next}while(l!==null);g===null?f=g=s:g=g.next=s}else f=g=s;l={baseState:d.baseState,firstBaseUpdate:f,lastBaseUpdate:g,shared:d.shared,effects:d.effects},r.updateQueue=l;return}r=l.lastBaseUpdate,r===null?l.firstBaseUpdate=s:r.next=s,l.lastBaseUpdate=s}function vu(r,s,l,d){var f=r.updateQueue;bi=!1;var g=f.firstBaseUpdate,w=f.lastBaseUpdate,P=f.shared.pending;if(P!==null){f.shared.pending=null;var L=P,q=L.next;L.next=null,w===null?g=q:w.next=q,w=L;var Z=r.alternate;Z!==null&&(Z=Z.updateQueue,P=Z.lastBaseUpdate,P!==w&&(P===null?Z.firstBaseUpdate=q:P.next=q,Z.lastBaseUpdate=L))}if(g!==null){var ne=f.baseState;w=0,Z=q=L=null,P=g;do{var J=P.lane,de=P.eventTime;if((d&J)===J){Z!==null&&(Z=Z.next={eventTime:de,lane:0,tag:P.tag,payload:P.payload,callback:P.callback,next:null});e:{var me=r,ge=P;switch(J=s,de=l,ge.tag){case 1:if(me=ge.payload,typeof me=="function"){ne=me.call(de,ne,J);break e}ne=me;break e;case 3:me.flags=me.flags&-65537|128;case 0:if(me=ge.payload,J=typeof me=="function"?me.call(de,ne,J):me,J==null)break e;ne=re({},ne,J);break e;case 2:bi=!0}}P.callback!==null&&P.lane!==0&&(r.flags|=64,J=f.effects,J===null?f.effects=[P]:J.push(P))}else de={eventTime:de,lane:J,tag:P.tag,payload:P.payload,callback:P.callback,next:null},Z===null?(q=Z=de,L=ne):Z=Z.next=de,w|=J;if(P=P.next,P===null){if(P=f.shared.pending,P===null)break;J=P,P=J.next,J.next=null,f.lastBaseUpdate=J,f.shared.pending=null}}while(!0);if(Z===null&&(L=ne),f.baseState=L,f.firstBaseUpdate=q,f.lastBaseUpdate=Z,s=f.shared.interleaved,s!==null){f=s;do w|=f.lane,f=f.next;while(f!==s)}else g===null&&(f.shared.lanes=0);ks|=w,r.lanes=w,r.memoizedState=ne}}function Rm(r,s,l){if(r=s.effects,s.effects=null,r!==null)for(s=0;s<r.length;s++){var d=r[s],f=d.callback;if(f!==null){if(d.callback=null,d=l,typeof f!="function")throw Error(t(191,f));f.call(d)}}}var Ca={},Rr=Pi(Ca),Aa=Pi(Ca),Pa=Pi(Ca);function As(r){if(r===Ca)throw Error(t(174));return r}function Qd(r,s){switch(Xe(Pa,s),Xe(Aa,r),Xe(Rr,Ca),r=s.nodeType,r){case 9:case 11:s=(s=s.documentElement)?s.namespaceURI:Qe(null,"");break;default:r=r===8?s.parentNode:s,s=r.namespaceURI||null,r=r.tagName,s=Qe(s,r)}Ze(Rr),Xe(Rr,s)}function To(){Ze(Rr),Ze(Aa),Ze(Pa)}function Cm(r){As(Pa.current);var s=As(Rr.current),l=Qe(s,r.type);s!==l&&(Xe(Aa,r),Xe(Rr,l))}function Yd(r){Aa.current===r&&(Ze(Rr),Ze(Aa))}var ot=Pi(0);function _u(r){for(var s=r;s!==null;){if(s.tag===13){var l=s.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||l.data==="$?"||l.data==="$!"))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if(s.flags&128)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===r)break;for(;s.sibling===null;){if(s.return===null||s.return===r)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var Xd=[];function Jd(){for(var r=0;r<Xd.length;r++)Xd[r]._workInProgressVersionPrimary=null;Xd.length=0}var wu=ie.ReactCurrentDispatcher,Zd=ie.ReactCurrentBatchConfig,Ps=0,at=null,Rt=null,Dt=null,Eu=!1,ka=!1,xa=0,sT=0;function Xt(){throw Error(t(321))}function eh(r,s){if(s===null)return!1;for(var l=0;l<s.length&&l<r.length;l++)if(!or(r[l],s[l]))return!1;return!0}function th(r,s,l,d,f,g){if(Ps=g,at=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,wu.current=r===null||r.memoizedState===null?uT:cT,r=l(d,f),ka){g=0;do{if(ka=!1,xa=0,25<=g)throw Error(t(301));g+=1,Dt=Rt=null,s.updateQueue=null,wu.current=dT,r=l(d,f)}while(ka)}if(wu.current=Su,s=Rt!==null&&Rt.next!==null,Ps=0,Dt=Rt=at=null,Eu=!1,s)throw Error(t(300));return r}function nh(){var r=xa!==0;return xa=0,r}function Cr(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Dt===null?at.memoizedState=Dt=r:Dt=Dt.next=r,Dt}function Hn(){if(Rt===null){var r=at.alternate;r=r!==null?r.memoizedState:null}else r=Rt.next;var s=Dt===null?at.memoizedState:Dt.next;if(s!==null)Dt=s,Rt=r;else{if(r===null)throw Error(t(310));Rt=r,r={memoizedState:Rt.memoizedState,baseState:Rt.baseState,baseQueue:Rt.baseQueue,queue:Rt.queue,next:null},Dt===null?at.memoizedState=Dt=r:Dt=Dt.next=r}return Dt}function ba(r,s){return typeof s=="function"?s(r):s}function rh(r){var s=Hn(),l=s.queue;if(l===null)throw Error(t(311));l.lastRenderedReducer=r;var d=Rt,f=d.baseQueue,g=l.pending;if(g!==null){if(f!==null){var w=f.next;f.next=g.next,g.next=w}d.baseQueue=f=g,l.pending=null}if(f!==null){g=f.next,d=d.baseState;var P=w=null,L=null,q=g;do{var Z=q.lane;if((Ps&Z)===Z)L!==null&&(L=L.next={lane:0,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null}),d=q.hasEagerState?q.eagerState:r(d,q.action);else{var ne={lane:Z,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null};L===null?(P=L=ne,w=d):L=L.next=ne,at.lanes|=Z,ks|=Z}q=q.next}while(q!==null&&q!==g);L===null?w=d:L.next=P,or(d,s.memoizedState)||(_n=!0),s.memoizedState=d,s.baseState=w,s.baseQueue=L,l.lastRenderedState=d}if(r=l.interleaved,r!==null){f=r;do g=f.lane,at.lanes|=g,ks|=g,f=f.next;while(f!==r)}else f===null&&(l.lanes=0);return[s.memoizedState,l.dispatch]}function ih(r){var s=Hn(),l=s.queue;if(l===null)throw Error(t(311));l.lastRenderedReducer=r;var d=l.dispatch,f=l.pending,g=s.memoizedState;if(f!==null){l.pending=null;var w=f=f.next;do g=r(g,w.action),w=w.next;while(w!==f);or(g,s.memoizedState)||(_n=!0),s.memoizedState=g,s.baseQueue===null&&(s.baseState=g),l.lastRenderedState=g}return[g,d]}function Am(){}function Pm(r,s){var l=at,d=Hn(),f=s(),g=!or(d.memoizedState,f);if(g&&(d.memoizedState=f,_n=!0),d=d.queue,sh(bm.bind(null,l,d,r),[r]),d.getSnapshot!==s||g||Dt!==null&&Dt.memoizedState.tag&1){if(l.flags|=2048,Na(9,xm.bind(null,l,d,f,s),void 0,null),Ot===null)throw Error(t(349));Ps&30||km(l,s,f)}return f}function km(r,s,l){r.flags|=16384,r={getSnapshot:s,value:l},s=at.updateQueue,s===null?(s={lastEffect:null,stores:null},at.updateQueue=s,s.stores=[r]):(l=s.stores,l===null?s.stores=[r]:l.push(r))}function xm(r,s,l,d){s.value=l,s.getSnapshot=d,Nm(s)&&Dm(r)}function bm(r,s,l){return l(function(){Nm(s)&&Dm(r)})}function Nm(r){var s=r.getSnapshot;r=r.value;try{var l=s();return!or(r,l)}catch{return!0}}function Dm(r){var s=Yr(r,1);s!==null&&dr(s,r,1,-1)}function Om(r){var s=Cr();return typeof r=="function"&&(r=r()),s.memoizedState=s.baseState=r,r={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ba,lastRenderedState:r},s.queue=r,r=r.dispatch=lT.bind(null,at,r),[s.memoizedState,r]}function Na(r,s,l,d){return r={tag:r,create:s,destroy:l,deps:d,next:null},s=at.updateQueue,s===null?(s={lastEffect:null,stores:null},at.updateQueue=s,s.lastEffect=r.next=r):(l=s.lastEffect,l===null?s.lastEffect=r.next=r:(d=l.next,l.next=r,r.next=d,s.lastEffect=r)),r}function Lm(){return Hn().memoizedState}function Tu(r,s,l,d){var f=Cr();at.flags|=r,f.memoizedState=Na(1|s,l,void 0,d===void 0?null:d)}function Iu(r,s,l,d){var f=Hn();d=d===void 0?null:d;var g=void 0;if(Rt!==null){var w=Rt.memoizedState;if(g=w.destroy,d!==null&&eh(d,w.deps)){f.memoizedState=Na(s,l,g,d);return}}at.flags|=r,f.memoizedState=Na(1|s,l,g,d)}function Vm(r,s){return Tu(8390656,8,r,s)}function sh(r,s){return Iu(2048,8,r,s)}function Mm(r,s){return Iu(4,2,r,s)}function Fm(r,s){return Iu(4,4,r,s)}function Um(r,s){if(typeof s=="function")return r=r(),s(r),function(){s(null)};if(s!=null)return r=r(),s.current=r,function(){s.current=null}}function jm(r,s,l){return l=l!=null?l.concat([r]):null,Iu(4,4,Um.bind(null,s,r),l)}function oh(){}function zm(r,s){var l=Hn();s=s===void 0?null:s;var d=l.memoizedState;return d!==null&&s!==null&&eh(s,d[1])?d[0]:(l.memoizedState=[r,s],r)}function Bm(r,s){var l=Hn();s=s===void 0?null:s;var d=l.memoizedState;return d!==null&&s!==null&&eh(s,d[1])?d[0]:(r=r(),l.memoizedState=[r,s],r)}function $m(r,s,l){return Ps&21?(or(l,s)||(l=ys(),at.lanes|=l,ks|=l,r.baseState=!0),s):(r.baseState&&(r.baseState=!1,_n=!0),r.memoizedState=l)}function oT(r,s){var l=Me;Me=l!==0&&4>l?l:4,r(!0);var d=Zd.transition;Zd.transition={};try{r(!1),s()}finally{Me=l,Zd.transition=d}}function Hm(){return Hn().memoizedState}function aT(r,s,l){var d=Vi(r);if(l={lane:d,action:l,hasEagerState:!1,eagerState:null,next:null},Wm(r))qm(s,l);else if(l=Tm(r,s,l,d),l!==null){var f=dn();dr(l,r,d,f),Km(l,s,d)}}function lT(r,s,l){var d=Vi(r),f={lane:d,action:l,hasEagerState:!1,eagerState:null,next:null};if(Wm(r))qm(s,f);else{var g=r.alternate;if(r.lanes===0&&(g===null||g.lanes===0)&&(g=s.lastRenderedReducer,g!==null))try{var w=s.lastRenderedState,P=g(w,l);if(f.hasEagerState=!0,f.eagerState=P,or(P,w)){var L=s.interleaved;L===null?(f.next=f,Kd(s)):(f.next=L.next,L.next=f),s.interleaved=f;return}}catch{}finally{}l=Tm(r,s,f,d),l!==null&&(f=dn(),dr(l,r,d,f),Km(l,s,d))}}function Wm(r){var s=r.alternate;return r===at||s!==null&&s===at}function qm(r,s){ka=Eu=!0;var l=r.pending;l===null?s.next=s:(s.next=l.next,l.next=s),r.pending=s}function Km(r,s,l){if(l&4194240){var d=s.lanes;d&=r.pendingLanes,l|=d,s.lanes=l,Ei(r,l)}}var Su={readContext:$n,useCallback:Xt,useContext:Xt,useEffect:Xt,useImperativeHandle:Xt,useInsertionEffect:Xt,useLayoutEffect:Xt,useMemo:Xt,useReducer:Xt,useRef:Xt,useState:Xt,useDebugValue:Xt,useDeferredValue:Xt,useTransition:Xt,useMutableSource:Xt,useSyncExternalStore:Xt,useId:Xt,unstable_isNewReconciler:!1},uT={readContext:$n,useCallback:function(r,s){return Cr().memoizedState=[r,s===void 0?null:s],r},useContext:$n,useEffect:Vm,useImperativeHandle:function(r,s,l){return l=l!=null?l.concat([r]):null,Tu(4194308,4,Um.bind(null,s,r),l)},useLayoutEffect:function(r,s){return Tu(4194308,4,r,s)},useInsertionEffect:function(r,s){return Tu(4,2,r,s)},useMemo:function(r,s){var l=Cr();return s=s===void 0?null:s,r=r(),l.memoizedState=[r,s],r},useReducer:function(r,s,l){var d=Cr();return s=l!==void 0?l(s):s,d.memoizedState=d.baseState=s,r={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:s},d.queue=r,r=r.dispatch=aT.bind(null,at,r),[d.memoizedState,r]},useRef:function(r){var s=Cr();return r={current:r},s.memoizedState=r},useState:Om,useDebugValue:oh,useDeferredValue:function(r){return Cr().memoizedState=r},useTransition:function(){var r=Om(!1),s=r[0];return r=oT.bind(null,r[1]),Cr().memoizedState=r,[s,r]},useMutableSource:function(){},useSyncExternalStore:function(r,s,l){var d=at,f=Cr();if(rt){if(l===void 0)throw Error(t(407));l=l()}else{if(l=s(),Ot===null)throw Error(t(349));Ps&30||km(d,s,l)}f.memoizedState=l;var g={value:l,getSnapshot:s};return f.queue=g,Vm(bm.bind(null,d,g,r),[r]),d.flags|=2048,Na(9,xm.bind(null,d,g,l,s),void 0,null),l},useId:function(){var r=Cr(),s=Ot.identifierPrefix;if(rt){var l=Qr,d=Gr;l=(d&~(1<<32-ln(d)-1)).toString(32)+l,s=":"+s+"R"+l,l=xa++,0<l&&(s+="H"+l.toString(32)),s+=":"}else l=sT++,s=":"+s+"r"+l.toString(32)+":";return r.memoizedState=s},unstable_isNewReconciler:!1},cT={readContext:$n,useCallback:zm,useContext:$n,useEffect:sh,useImperativeHandle:jm,useInsertionEffect:Mm,useLayoutEffect:Fm,useMemo:Bm,useReducer:rh,useRef:Lm,useState:function(){return rh(ba)},useDebugValue:oh,useDeferredValue:function(r){var s=Hn();return $m(s,Rt.memoizedState,r)},useTransition:function(){var r=rh(ba)[0],s=Hn().memoizedState;return[r,s]},useMutableSource:Am,useSyncExternalStore:Pm,useId:Hm,unstable_isNewReconciler:!1},dT={readContext:$n,useCallback:zm,useContext:$n,useEffect:sh,useImperativeHandle:jm,useInsertionEffect:Mm,useLayoutEffect:Fm,useMemo:Bm,useReducer:ih,useRef:Lm,useState:function(){return ih(ba)},useDebugValue:oh,useDeferredValue:function(r){var s=Hn();return Rt===null?s.memoizedState=r:$m(s,Rt.memoizedState,r)},useTransition:function(){var r=ih(ba)[0],s=Hn().memoizedState;return[r,s]},useMutableSource:Am,useSyncExternalStore:Pm,useId:Hm,unstable_isNewReconciler:!1};function lr(r,s){if(r&&r.defaultProps){s=re({},s),r=r.defaultProps;for(var l in r)s[l]===void 0&&(s[l]=r[l]);return s}return s}function ah(r,s,l,d){s=r.memoizedState,l=l(d,s),l=l==null?s:re({},s,l),r.memoizedState=l,r.lanes===0&&(r.updateQueue.baseState=l)}var Ru={isMounted:function(r){return(r=r._reactInternals)?Zn(r)===r:!1},enqueueSetState:function(r,s,l){r=r._reactInternals;var d=dn(),f=Vi(r),g=Xr(d,f);g.payload=s,l!=null&&(g.callback=l),s=Ni(r,g,f),s!==null&&(dr(s,r,f,d),yu(s,r,f))},enqueueReplaceState:function(r,s,l){r=r._reactInternals;var d=dn(),f=Vi(r),g=Xr(d,f);g.tag=1,g.payload=s,l!=null&&(g.callback=l),s=Ni(r,g,f),s!==null&&(dr(s,r,f,d),yu(s,r,f))},enqueueForceUpdate:function(r,s){r=r._reactInternals;var l=dn(),d=Vi(r),f=Xr(l,d);f.tag=2,s!=null&&(f.callback=s),s=Ni(r,f,d),s!==null&&(dr(s,r,d,l),yu(s,r,d))}};function Gm(r,s,l,d,f,g,w){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(d,g,w):s.prototype&&s.prototype.isPureReactComponent?!va(l,d)||!va(f,g):!0}function Qm(r,s,l){var d=!1,f=ki,g=s.contextType;return typeof g=="object"&&g!==null?g=$n(g):(f=vn(s)?Is:Yt.current,d=s.contextTypes,g=(d=d!=null)?mo(r,f):ki),s=new s(l,g),r.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,s.updater=Ru,r.stateNode=s,s._reactInternals=r,d&&(r=r.stateNode,r.__reactInternalMemoizedUnmaskedChildContext=f,r.__reactInternalMemoizedMaskedChildContext=g),s}function Ym(r,s,l,d){r=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(l,d),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(l,d),s.state!==r&&Ru.enqueueReplaceState(s,s.state,null)}function lh(r,s,l,d){var f=r.stateNode;f.props=l,f.state=r.memoizedState,f.refs={},Gd(r);var g=s.contextType;typeof g=="object"&&g!==null?f.context=$n(g):(g=vn(s)?Is:Yt.current,f.context=mo(r,g)),f.state=r.memoizedState,g=s.getDerivedStateFromProps,typeof g=="function"&&(ah(r,s,g,l),f.state=r.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(s=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),s!==f.state&&Ru.enqueueReplaceState(f,f.state,null),vu(r,l,f,d),f.state=r.memoizedState),typeof f.componentDidMount=="function"&&(r.flags|=4194308)}function Io(r,s){try{var l="",d=s;do l+=ve(d),d=d.return;while(d);var f=l}catch(g){f=`
Error generating stack: `+g.message+`
`+g.stack}return{value:r,source:s,stack:f,digest:null}}function uh(r,s,l){return{value:r,source:null,stack:l??null,digest:s??null}}function ch(r,s){try{console.error(s.value)}catch(l){setTimeout(function(){throw l})}}var hT=typeof WeakMap=="function"?WeakMap:Map;function Xm(r,s,l){l=Xr(-1,l),l.tag=3,l.payload={element:null};var d=s.value;return l.callback=function(){Nu||(Nu=!0,Rh=d),ch(r,s)},l}function Jm(r,s,l){l=Xr(-1,l),l.tag=3;var d=r.type.getDerivedStateFromError;if(typeof d=="function"){var f=s.value;l.payload=function(){return d(f)},l.callback=function(){ch(r,s)}}var g=r.stateNode;return g!==null&&typeof g.componentDidCatch=="function"&&(l.callback=function(){ch(r,s),typeof d!="function"&&(Oi===null?Oi=new Set([this]):Oi.add(this));var w=s.stack;this.componentDidCatch(s.value,{componentStack:w!==null?w:""})}),l}function Zm(r,s,l){var d=r.pingCache;if(d===null){d=r.pingCache=new hT;var f=new Set;d.set(s,f)}else f=d.get(s),f===void 0&&(f=new Set,d.set(s,f));f.has(l)||(f.add(l),r=CT.bind(null,r,s,l),s.then(r,r))}function eg(r){do{var s;if((s=r.tag===13)&&(s=r.memoizedState,s=s!==null?s.dehydrated!==null:!0),s)return r;r=r.return}while(r!==null);return null}function tg(r,s,l,d,f){return r.mode&1?(r.flags|=65536,r.lanes=f,r):(r===s?r.flags|=65536:(r.flags|=128,l.flags|=131072,l.flags&=-52805,l.tag===1&&(l.alternate===null?l.tag=17:(s=Xr(-1,1),s.tag=2,Ni(l,s,1))),l.lanes|=1),r)}var fT=ie.ReactCurrentOwner,_n=!1;function cn(r,s,l,d){s.child=r===null?Em(s,null,l,d):_o(s,r.child,l,d)}function ng(r,s,l,d,f){l=l.render;var g=s.ref;return Eo(s,f),d=th(r,s,l,d,g,f),l=nh(),r!==null&&!_n?(s.updateQueue=r.updateQueue,s.flags&=-2053,r.lanes&=~f,Jr(r,s,f)):(rt&&l&&Fd(s),s.flags|=1,cn(r,s,d,f),s.child)}function rg(r,s,l,d,f){if(r===null){var g=l.type;return typeof g=="function"&&!Nh(g)&&g.defaultProps===void 0&&l.compare===null&&l.defaultProps===void 0?(s.tag=15,s.type=g,ig(r,s,g,d,f)):(r=Fu(l.type,null,d,s,s.mode,f),r.ref=s.ref,r.return=s,s.child=r)}if(g=r.child,!(r.lanes&f)){var w=g.memoizedProps;if(l=l.compare,l=l!==null?l:va,l(w,d)&&r.ref===s.ref)return Jr(r,s,f)}return s.flags|=1,r=Fi(g,d),r.ref=s.ref,r.return=s,s.child=r}function ig(r,s,l,d,f){if(r!==null){var g=r.memoizedProps;if(va(g,d)&&r.ref===s.ref)if(_n=!1,s.pendingProps=d=g,(r.lanes&f)!==0)r.flags&131072&&(_n=!0);else return s.lanes=r.lanes,Jr(r,s,f)}return dh(r,s,l,d,f)}function sg(r,s,l){var d=s.pendingProps,f=d.children,g=r!==null?r.memoizedState:null;if(d.mode==="hidden")if(!(s.mode&1))s.memoizedState={baseLanes:0,cachePool:null,transitions:null},Xe(Ro,Dn),Dn|=l;else{if(!(l&1073741824))return r=g!==null?g.baseLanes|l:l,s.lanes=s.childLanes=1073741824,s.memoizedState={baseLanes:r,cachePool:null,transitions:null},s.updateQueue=null,Xe(Ro,Dn),Dn|=r,null;s.memoizedState={baseLanes:0,cachePool:null,transitions:null},d=g!==null?g.baseLanes:l,Xe(Ro,Dn),Dn|=d}else g!==null?(d=g.baseLanes|l,s.memoizedState=null):d=l,Xe(Ro,Dn),Dn|=d;return cn(r,s,f,l),s.child}function og(r,s){var l=s.ref;(r===null&&l!==null||r!==null&&r.ref!==l)&&(s.flags|=512,s.flags|=2097152)}function dh(r,s,l,d,f){var g=vn(l)?Is:Yt.current;return g=mo(s,g),Eo(s,f),l=th(r,s,l,d,g,f),d=nh(),r!==null&&!_n?(s.updateQueue=r.updateQueue,s.flags&=-2053,r.lanes&=~f,Jr(r,s,f)):(rt&&d&&Fd(s),s.flags|=1,cn(r,s,l,f),s.child)}function ag(r,s,l,d,f){if(vn(l)){var g=!0;uu(s)}else g=!1;if(Eo(s,f),s.stateNode===null)Au(r,s),Qm(s,l,d),lh(s,l,d,f),d=!0;else if(r===null){var w=s.stateNode,P=s.memoizedProps;w.props=P;var L=w.context,q=l.contextType;typeof q=="object"&&q!==null?q=$n(q):(q=vn(l)?Is:Yt.current,q=mo(s,q));var Z=l.getDerivedStateFromProps,ne=typeof Z=="function"||typeof w.getSnapshotBeforeUpdate=="function";ne||typeof w.UNSAFE_componentWillReceiveProps!="function"&&typeof w.componentWillReceiveProps!="function"||(P!==d||L!==q)&&Ym(s,w,d,q),bi=!1;var J=s.memoizedState;w.state=J,vu(s,d,w,f),L=s.memoizedState,P!==d||J!==L||yn.current||bi?(typeof Z=="function"&&(ah(s,l,Z,d),L=s.memoizedState),(P=bi||Gm(s,l,P,d,J,L,q))?(ne||typeof w.UNSAFE_componentWillMount!="function"&&typeof w.componentWillMount!="function"||(typeof w.componentWillMount=="function"&&w.componentWillMount(),typeof w.UNSAFE_componentWillMount=="function"&&w.UNSAFE_componentWillMount()),typeof w.componentDidMount=="function"&&(s.flags|=4194308)):(typeof w.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=d,s.memoizedState=L),w.props=d,w.state=L,w.context=q,d=P):(typeof w.componentDidMount=="function"&&(s.flags|=4194308),d=!1)}else{w=s.stateNode,Im(r,s),P=s.memoizedProps,q=s.type===s.elementType?P:lr(s.type,P),w.props=q,ne=s.pendingProps,J=w.context,L=l.contextType,typeof L=="object"&&L!==null?L=$n(L):(L=vn(l)?Is:Yt.current,L=mo(s,L));var de=l.getDerivedStateFromProps;(Z=typeof de=="function"||typeof w.getSnapshotBeforeUpdate=="function")||typeof w.UNSAFE_componentWillReceiveProps!="function"&&typeof w.componentWillReceiveProps!="function"||(P!==ne||J!==L)&&Ym(s,w,d,L),bi=!1,J=s.memoizedState,w.state=J,vu(s,d,w,f);var me=s.memoizedState;P!==ne||J!==me||yn.current||bi?(typeof de=="function"&&(ah(s,l,de,d),me=s.memoizedState),(q=bi||Gm(s,l,q,d,J,me,L)||!1)?(Z||typeof w.UNSAFE_componentWillUpdate!="function"&&typeof w.componentWillUpdate!="function"||(typeof w.componentWillUpdate=="function"&&w.componentWillUpdate(d,me,L),typeof w.UNSAFE_componentWillUpdate=="function"&&w.UNSAFE_componentWillUpdate(d,me,L)),typeof w.componentDidUpdate=="function"&&(s.flags|=4),typeof w.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof w.componentDidUpdate!="function"||P===r.memoizedProps&&J===r.memoizedState||(s.flags|=4),typeof w.getSnapshotBeforeUpdate!="function"||P===r.memoizedProps&&J===r.memoizedState||(s.flags|=1024),s.memoizedProps=d,s.memoizedState=me),w.props=d,w.state=me,w.context=L,d=q):(typeof w.componentDidUpdate!="function"||P===r.memoizedProps&&J===r.memoizedState||(s.flags|=4),typeof w.getSnapshotBeforeUpdate!="function"||P===r.memoizedProps&&J===r.memoizedState||(s.flags|=1024),d=!1)}return hh(r,s,l,d,g,f)}function hh(r,s,l,d,f,g){og(r,s);var w=(s.flags&128)!==0;if(!d&&!w)return f&&hm(s,l,!1),Jr(r,s,g);d=s.stateNode,fT.current=s;var P=w&&typeof l.getDerivedStateFromError!="function"?null:d.render();return s.flags|=1,r!==null&&w?(s.child=_o(s,r.child,null,g),s.child=_o(s,null,P,g)):cn(r,s,P,g),s.memoizedState=d.state,f&&hm(s,l,!0),s.child}function lg(r){var s=r.stateNode;s.pendingContext?cm(r,s.pendingContext,s.pendingContext!==s.context):s.context&&cm(r,s.context,!1),Qd(r,s.containerInfo)}function ug(r,s,l,d,f){return vo(),Bd(f),s.flags|=256,cn(r,s,l,d),s.child}var fh={dehydrated:null,treeContext:null,retryLane:0};function ph(r){return{baseLanes:r,cachePool:null,transitions:null}}function cg(r,s,l){var d=s.pendingProps,f=ot.current,g=!1,w=(s.flags&128)!==0,P;if((P=w)||(P=r!==null&&r.memoizedState===null?!1:(f&2)!==0),P?(g=!0,s.flags&=-129):(r===null||r.memoizedState!==null)&&(f|=1),Xe(ot,f&1),r===null)return zd(s),r=s.memoizedState,r!==null&&(r=r.dehydrated,r!==null)?(s.mode&1?r.data==="$!"?s.lanes=8:s.lanes=1073741824:s.lanes=1,null):(w=d.children,r=d.fallback,g?(d=s.mode,g=s.child,w={mode:"hidden",children:w},!(d&1)&&g!==null?(g.childLanes=0,g.pendingProps=w):g=Uu(w,d,0,null),r=Ds(r,d,l,null),g.return=s,r.return=s,g.sibling=r,s.child=g,s.child.memoizedState=ph(l),s.memoizedState=fh,r):mh(s,w));if(f=r.memoizedState,f!==null&&(P=f.dehydrated,P!==null))return pT(r,s,w,d,P,f,l);if(g){g=d.fallback,w=s.mode,f=r.child,P=f.sibling;var L={mode:"hidden",children:d.children};return!(w&1)&&s.child!==f?(d=s.child,d.childLanes=0,d.pendingProps=L,s.deletions=null):(d=Fi(f,L),d.subtreeFlags=f.subtreeFlags&14680064),P!==null?g=Fi(P,g):(g=Ds(g,w,l,null),g.flags|=2),g.return=s,d.return=s,d.sibling=g,s.child=d,d=g,g=s.child,w=r.child.memoizedState,w=w===null?ph(l):{baseLanes:w.baseLanes|l,cachePool:null,transitions:w.transitions},g.memoizedState=w,g.childLanes=r.childLanes&~l,s.memoizedState=fh,d}return g=r.child,r=g.sibling,d=Fi(g,{mode:"visible",children:d.children}),!(s.mode&1)&&(d.lanes=l),d.return=s,d.sibling=null,r!==null&&(l=s.deletions,l===null?(s.deletions=[r],s.flags|=16):l.push(r)),s.child=d,s.memoizedState=null,d}function mh(r,s){return s=Uu({mode:"visible",children:s},r.mode,0,null),s.return=r,r.child=s}function Cu(r,s,l,d){return d!==null&&Bd(d),_o(s,r.child,null,l),r=mh(s,s.pendingProps.children),r.flags|=2,s.memoizedState=null,r}function pT(r,s,l,d,f,g,w){if(l)return s.flags&256?(s.flags&=-257,d=uh(Error(t(422))),Cu(r,s,w,d)):s.memoizedState!==null?(s.child=r.child,s.flags|=128,null):(g=d.fallback,f=s.mode,d=Uu({mode:"visible",children:d.children},f,0,null),g=Ds(g,f,w,null),g.flags|=2,d.return=s,g.return=s,d.sibling=g,s.child=d,s.mode&1&&_o(s,r.child,null,w),s.child.memoizedState=ph(w),s.memoizedState=fh,g);if(!(s.mode&1))return Cu(r,s,w,null);if(f.data==="$!"){if(d=f.nextSibling&&f.nextSibling.dataset,d)var P=d.dgst;return d=P,g=Error(t(419)),d=uh(g,d,void 0),Cu(r,s,w,d)}if(P=(w&r.childLanes)!==0,_n||P){if(d=Ot,d!==null){switch(w&-w){case 4:f=2;break;case 16:f=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:f=32;break;case 536870912:f=268435456;break;default:f=0}f=f&(d.suspendedLanes|w)?0:f,f!==0&&f!==g.retryLane&&(g.retryLane=f,Yr(r,f),dr(d,r,f,-1))}return bh(),d=uh(Error(t(421))),Cu(r,s,w,d)}return f.data==="$?"?(s.flags|=128,s.child=r.child,s=AT.bind(null,r),f._reactRetry=s,null):(r=g.treeContext,Nn=Ai(f.nextSibling),bn=s,rt=!0,ar=null,r!==null&&(zn[Bn++]=Gr,zn[Bn++]=Qr,zn[Bn++]=Ss,Gr=r.id,Qr=r.overflow,Ss=s),s=mh(s,d.children),s.flags|=4096,s)}function dg(r,s,l){r.lanes|=s;var d=r.alternate;d!==null&&(d.lanes|=s),qd(r.return,s,l)}function gh(r,s,l,d,f){var g=r.memoizedState;g===null?r.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:d,tail:l,tailMode:f}:(g.isBackwards=s,g.rendering=null,g.renderingStartTime=0,g.last=d,g.tail=l,g.tailMode=f)}function hg(r,s,l){var d=s.pendingProps,f=d.revealOrder,g=d.tail;if(cn(r,s,d.children,l),d=ot.current,d&2)d=d&1|2,s.flags|=128;else{if(r!==null&&r.flags&128)e:for(r=s.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&dg(r,l,s);else if(r.tag===19)dg(r,l,s);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===s)break e;for(;r.sibling===null;){if(r.return===null||r.return===s)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}d&=1}if(Xe(ot,d),!(s.mode&1))s.memoizedState=null;else switch(f){case"forwards":for(l=s.child,f=null;l!==null;)r=l.alternate,r!==null&&_u(r)===null&&(f=l),l=l.sibling;l=f,l===null?(f=s.child,s.child=null):(f=l.sibling,l.sibling=null),gh(s,!1,f,l,g);break;case"backwards":for(l=null,f=s.child,s.child=null;f!==null;){if(r=f.alternate,r!==null&&_u(r)===null){s.child=f;break}r=f.sibling,f.sibling=l,l=f,f=r}gh(s,!0,l,null,g);break;case"together":gh(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function Au(r,s){!(s.mode&1)&&r!==null&&(r.alternate=null,s.alternate=null,s.flags|=2)}function Jr(r,s,l){if(r!==null&&(s.dependencies=r.dependencies),ks|=s.lanes,!(l&s.childLanes))return null;if(r!==null&&s.child!==r.child)throw Error(t(153));if(s.child!==null){for(r=s.child,l=Fi(r,r.pendingProps),s.child=l,l.return=s;r.sibling!==null;)r=r.sibling,l=l.sibling=Fi(r,r.pendingProps),l.return=s;l.sibling=null}return s.child}function mT(r,s,l){switch(s.tag){case 3:lg(s),vo();break;case 5:Cm(s);break;case 1:vn(s.type)&&uu(s);break;case 4:Qd(s,s.stateNode.containerInfo);break;case 10:var d=s.type._context,f=s.memoizedProps.value;Xe(mu,d._currentValue),d._currentValue=f;break;case 13:if(d=s.memoizedState,d!==null)return d.dehydrated!==null?(Xe(ot,ot.current&1),s.flags|=128,null):l&s.child.childLanes?cg(r,s,l):(Xe(ot,ot.current&1),r=Jr(r,s,l),r!==null?r.sibling:null);Xe(ot,ot.current&1);break;case 19:if(d=(l&s.childLanes)!==0,r.flags&128){if(d)return hg(r,s,l);s.flags|=128}if(f=s.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),Xe(ot,ot.current),d)break;return null;case 22:case 23:return s.lanes=0,sg(r,s,l)}return Jr(r,s,l)}var fg,yh,pg,mg;fg=function(r,s){for(var l=s.child;l!==null;){if(l.tag===5||l.tag===6)r.appendChild(l.stateNode);else if(l.tag!==4&&l.child!==null){l.child.return=l,l=l.child;continue}if(l===s)break;for(;l.sibling===null;){if(l.return===null||l.return===s)return;l=l.return}l.sibling.return=l.return,l=l.sibling}},yh=function(){},pg=function(r,s,l,d){var f=r.memoizedProps;if(f!==d){r=s.stateNode,As(Rr.current);var g=null;switch(l){case"input":f=Ut(r,f),d=Ut(r,d),g=[];break;case"select":f=re({},f,{value:void 0}),d=re({},d,{value:void 0}),g=[];break;case"textarea":f=gr(r,f),d=gr(r,d),g=[];break;default:typeof f.onClick!="function"&&typeof d.onClick=="function"&&(r.onclick=ou)}pi(l,d);var w;l=null;for(q in f)if(!d.hasOwnProperty(q)&&f.hasOwnProperty(q)&&f[q]!=null)if(q==="style"){var P=f[q];for(w in P)P.hasOwnProperty(w)&&(l||(l={}),l[w]="")}else q!=="dangerouslySetInnerHTML"&&q!=="children"&&q!=="suppressContentEditableWarning"&&q!=="suppressHydrationWarning"&&q!=="autoFocus"&&(o.hasOwnProperty(q)?g||(g=[]):(g=g||[]).push(q,null));for(q in d){var L=d[q];if(P=f!=null?f[q]:void 0,d.hasOwnProperty(q)&&L!==P&&(L!=null||P!=null))if(q==="style")if(P){for(w in P)!P.hasOwnProperty(w)||L&&L.hasOwnProperty(w)||(l||(l={}),l[w]="");for(w in L)L.hasOwnProperty(w)&&P[w]!==L[w]&&(l||(l={}),l[w]=L[w])}else l||(g||(g=[]),g.push(q,l)),l=L;else q==="dangerouslySetInnerHTML"?(L=L?L.__html:void 0,P=P?P.__html:void 0,L!=null&&P!==L&&(g=g||[]).push(q,L)):q==="children"?typeof L!="string"&&typeof L!="number"||(g=g||[]).push(q,""+L):q!=="suppressContentEditableWarning"&&q!=="suppressHydrationWarning"&&(o.hasOwnProperty(q)?(L!=null&&q==="onScroll"&&Je("scroll",r),g||P===L||(g=[])):(g=g||[]).push(q,L))}l&&(g=g||[]).push("style",l);var q=g;(s.updateQueue=q)&&(s.flags|=4)}},mg=function(r,s,l,d){l!==d&&(s.flags|=4)};function Da(r,s){if(!rt)switch(r.tailMode){case"hidden":s=r.tail;for(var l=null;s!==null;)s.alternate!==null&&(l=s),s=s.sibling;l===null?r.tail=null:l.sibling=null;break;case"collapsed":l=r.tail;for(var d=null;l!==null;)l.alternate!==null&&(d=l),l=l.sibling;d===null?s||r.tail===null?r.tail=null:r.tail.sibling=null:d.sibling=null}}function Jt(r){var s=r.alternate!==null&&r.alternate.child===r.child,l=0,d=0;if(s)for(var f=r.child;f!==null;)l|=f.lanes|f.childLanes,d|=f.subtreeFlags&14680064,d|=f.flags&14680064,f.return=r,f=f.sibling;else for(f=r.child;f!==null;)l|=f.lanes|f.childLanes,d|=f.subtreeFlags,d|=f.flags,f.return=r,f=f.sibling;return r.subtreeFlags|=d,r.childLanes=l,s}function gT(r,s,l){var d=s.pendingProps;switch(Ud(s),s.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Jt(s),null;case 1:return vn(s.type)&&lu(),Jt(s),null;case 3:return d=s.stateNode,To(),Ze(yn),Ze(Yt),Jd(),d.pendingContext&&(d.context=d.pendingContext,d.pendingContext=null),(r===null||r.child===null)&&(fu(s)?s.flags|=4:r===null||r.memoizedState.isDehydrated&&!(s.flags&256)||(s.flags|=1024,ar!==null&&(Ph(ar),ar=null))),yh(r,s),Jt(s),null;case 5:Yd(s);var f=As(Pa.current);if(l=s.type,r!==null&&s.stateNode!=null)pg(r,s,l,d,f),r.ref!==s.ref&&(s.flags|=512,s.flags|=2097152);else{if(!d){if(s.stateNode===null)throw Error(t(166));return Jt(s),null}if(r=As(Rr.current),fu(s)){d=s.stateNode,l=s.type;var g=s.memoizedProps;switch(d[Sr]=s,d[Ia]=g,r=(s.mode&1)!==0,l){case"dialog":Je("cancel",d),Je("close",d);break;case"iframe":case"object":case"embed":Je("load",d);break;case"video":case"audio":for(f=0;f<wa.length;f++)Je(wa[f],d);break;case"source":Je("error",d);break;case"img":case"image":case"link":Je("error",d),Je("load",d);break;case"details":Je("toggle",d);break;case"input":Rn(d,g),Je("invalid",d);break;case"select":d._wrapperState={wasMultiple:!!g.multiple},Je("invalid",d);break;case"textarea":Fr(d,g),Je("invalid",d)}pi(l,g),f=null;for(var w in g)if(g.hasOwnProperty(w)){var P=g[w];w==="children"?typeof P=="string"?d.textContent!==P&&(g.suppressHydrationWarning!==!0&&su(d.textContent,P,r),f=["children",P]):typeof P=="number"&&d.textContent!==""+P&&(g.suppressHydrationWarning!==!0&&su(d.textContent,P,r),f=["children",""+P]):o.hasOwnProperty(w)&&P!=null&&w==="onScroll"&&Je("scroll",d)}switch(l){case"input":sn(d),as(d,g,!0);break;case"textarea":sn(d),ls(d);break;case"select":case"option":break;default:typeof g.onClick=="function"&&(d.onclick=ou)}d=f,s.updateQueue=d,d!==null&&(s.flags|=4)}else{w=f.nodeType===9?f:f.ownerDocument,r==="http://www.w3.org/1999/xhtml"&&(r=ht(l)),r==="http://www.w3.org/1999/xhtml"?l==="script"?(r=w.createElement("div"),r.innerHTML="<script><\/script>",r=r.removeChild(r.firstChild)):typeof d.is=="string"?r=w.createElement(l,{is:d.is}):(r=w.createElement(l),l==="select"&&(w=r,d.multiple?w.multiple=!0:d.size&&(w.size=d.size))):r=w.createElementNS(r,l),r[Sr]=s,r[Ia]=d,fg(r,s,!1,!1),s.stateNode=r;e:{switch(w=ds(l,d),l){case"dialog":Je("cancel",r),Je("close",r),f=d;break;case"iframe":case"object":case"embed":Je("load",r),f=d;break;case"video":case"audio":for(f=0;f<wa.length;f++)Je(wa[f],r);f=d;break;case"source":Je("error",r),f=d;break;case"img":case"image":case"link":Je("error",r),Je("load",r),f=d;break;case"details":Je("toggle",r),f=d;break;case"input":Rn(r,d),f=Ut(r,d),Je("invalid",r);break;case"option":f=d;break;case"select":r._wrapperState={wasMultiple:!!d.multiple},f=re({},d,{value:void 0}),Je("invalid",r);break;case"textarea":Fr(r,d),f=gr(r,d),Je("invalid",r);break;default:f=d}pi(l,f),P=f;for(g in P)if(P.hasOwnProperty(g)){var L=P[g];g==="style"?cs(r,L):g==="dangerouslySetInnerHTML"?(L=L?L.__html:void 0,L!=null&&Yn(r,L)):g==="children"?typeof L=="string"?(l!=="textarea"||L!=="")&&Xn(r,L):typeof L=="number"&&Xn(r,""+L):g!=="suppressContentEditableWarning"&&g!=="suppressHydrationWarning"&&g!=="autoFocus"&&(o.hasOwnProperty(g)?L!=null&&g==="onScroll"&&Je("scroll",r):L!=null&&Y(r,g,L,w))}switch(l){case"input":sn(r),as(r,d,!1);break;case"textarea":sn(r),ls(r);break;case"option":d.value!=null&&r.setAttribute("value",""+be(d.value));break;case"select":r.multiple=!!d.multiple,g=d.value,g!=null?hn(r,!!d.multiple,g,!1):d.defaultValue!=null&&hn(r,!!d.multiple,d.defaultValue,!0);break;default:typeof f.onClick=="function"&&(r.onclick=ou)}switch(l){case"button":case"input":case"select":case"textarea":d=!!d.autoFocus;break e;case"img":d=!0;break e;default:d=!1}}d&&(s.flags|=4)}s.ref!==null&&(s.flags|=512,s.flags|=2097152)}return Jt(s),null;case 6:if(r&&s.stateNode!=null)mg(r,s,r.memoizedProps,d);else{if(typeof d!="string"&&s.stateNode===null)throw Error(t(166));if(l=As(Pa.current),As(Rr.current),fu(s)){if(d=s.stateNode,l=s.memoizedProps,d[Sr]=s,(g=d.nodeValue!==l)&&(r=bn,r!==null))switch(r.tag){case 3:su(d.nodeValue,l,(r.mode&1)!==0);break;case 5:r.memoizedProps.suppressHydrationWarning!==!0&&su(d.nodeValue,l,(r.mode&1)!==0)}g&&(s.flags|=4)}else d=(l.nodeType===9?l:l.ownerDocument).createTextNode(d),d[Sr]=s,s.stateNode=d}return Jt(s),null;case 13:if(Ze(ot),d=s.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(rt&&Nn!==null&&s.mode&1&&!(s.flags&128))vm(),vo(),s.flags|=98560,g=!1;else if(g=fu(s),d!==null&&d.dehydrated!==null){if(r===null){if(!g)throw Error(t(318));if(g=s.memoizedState,g=g!==null?g.dehydrated:null,!g)throw Error(t(317));g[Sr]=s}else vo(),!(s.flags&128)&&(s.memoizedState=null),s.flags|=4;Jt(s),g=!1}else ar!==null&&(Ph(ar),ar=null),g=!0;if(!g)return s.flags&65536?s:null}return s.flags&128?(s.lanes=l,s):(d=d!==null,d!==(r!==null&&r.memoizedState!==null)&&d&&(s.child.flags|=8192,s.mode&1&&(r===null||ot.current&1?Ct===0&&(Ct=3):bh())),s.updateQueue!==null&&(s.flags|=4),Jt(s),null);case 4:return To(),yh(r,s),r===null&&Ea(s.stateNode.containerInfo),Jt(s),null;case 10:return Wd(s.type._context),Jt(s),null;case 17:return vn(s.type)&&lu(),Jt(s),null;case 19:if(Ze(ot),g=s.memoizedState,g===null)return Jt(s),null;if(d=(s.flags&128)!==0,w=g.rendering,w===null)if(d)Da(g,!1);else{if(Ct!==0||r!==null&&r.flags&128)for(r=s.child;r!==null;){if(w=_u(r),w!==null){for(s.flags|=128,Da(g,!1),d=w.updateQueue,d!==null&&(s.updateQueue=d,s.flags|=4),s.subtreeFlags=0,d=l,l=s.child;l!==null;)g=l,r=d,g.flags&=14680066,w=g.alternate,w===null?(g.childLanes=0,g.lanes=r,g.child=null,g.subtreeFlags=0,g.memoizedProps=null,g.memoizedState=null,g.updateQueue=null,g.dependencies=null,g.stateNode=null):(g.childLanes=w.childLanes,g.lanes=w.lanes,g.child=w.child,g.subtreeFlags=0,g.deletions=null,g.memoizedProps=w.memoizedProps,g.memoizedState=w.memoizedState,g.updateQueue=w.updateQueue,g.type=w.type,r=w.dependencies,g.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),l=l.sibling;return Xe(ot,ot.current&1|2),s.child}r=r.sibling}g.tail!==null&&Ye()>Co&&(s.flags|=128,d=!0,Da(g,!1),s.lanes=4194304)}else{if(!d)if(r=_u(w),r!==null){if(s.flags|=128,d=!0,l=r.updateQueue,l!==null&&(s.updateQueue=l,s.flags|=4),Da(g,!0),g.tail===null&&g.tailMode==="hidden"&&!w.alternate&&!rt)return Jt(s),null}else 2*Ye()-g.renderingStartTime>Co&&l!==1073741824&&(s.flags|=128,d=!0,Da(g,!1),s.lanes=4194304);g.isBackwards?(w.sibling=s.child,s.child=w):(l=g.last,l!==null?l.sibling=w:s.child=w,g.last=w)}return g.tail!==null?(s=g.tail,g.rendering=s,g.tail=s.sibling,g.renderingStartTime=Ye(),s.sibling=null,l=ot.current,Xe(ot,d?l&1|2:l&1),s):(Jt(s),null);case 22:case 23:return xh(),d=s.memoizedState!==null,r!==null&&r.memoizedState!==null!==d&&(s.flags|=8192),d&&s.mode&1?Dn&1073741824&&(Jt(s),s.subtreeFlags&6&&(s.flags|=8192)):Jt(s),null;case 24:return null;case 25:return null}throw Error(t(156,s.tag))}function yT(r,s){switch(Ud(s),s.tag){case 1:return vn(s.type)&&lu(),r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 3:return To(),Ze(yn),Ze(Yt),Jd(),r=s.flags,r&65536&&!(r&128)?(s.flags=r&-65537|128,s):null;case 5:return Yd(s),null;case 13:if(Ze(ot),r=s.memoizedState,r!==null&&r.dehydrated!==null){if(s.alternate===null)throw Error(t(340));vo()}return r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 19:return Ze(ot),null;case 4:return To(),null;case 10:return Wd(s.type._context),null;case 22:case 23:return xh(),null;case 24:return null;default:return null}}var Pu=!1,Zt=!1,vT=typeof WeakSet=="function"?WeakSet:Set,fe=null;function So(r,s){var l=r.ref;if(l!==null)if(typeof l=="function")try{l(null)}catch(d){dt(r,s,d)}else l.current=null}function vh(r,s,l){try{l()}catch(d){dt(r,s,d)}}var gg=!1;function _T(r,s){if(xd=Si,r=Gp(),Td(r)){if("selectionStart"in r)var l={start:r.selectionStart,end:r.selectionEnd};else e:{l=(l=r.ownerDocument)&&l.defaultView||window;var d=l.getSelection&&l.getSelection();if(d&&d.rangeCount!==0){l=d.anchorNode;var f=d.anchorOffset,g=d.focusNode;d=d.focusOffset;try{l.nodeType,g.nodeType}catch{l=null;break e}var w=0,P=-1,L=-1,q=0,Z=0,ne=r,J=null;t:for(;;){for(var de;ne!==l||f!==0&&ne.nodeType!==3||(P=w+f),ne!==g||d!==0&&ne.nodeType!==3||(L=w+d),ne.nodeType===3&&(w+=ne.nodeValue.length),(de=ne.firstChild)!==null;)J=ne,ne=de;for(;;){if(ne===r)break t;if(J===l&&++q===f&&(P=w),J===g&&++Z===d&&(L=w),(de=ne.nextSibling)!==null)break;ne=J,J=ne.parentNode}ne=de}l=P===-1||L===-1?null:{start:P,end:L}}else l=null}l=l||{start:0,end:0}}else l=null;for(bd={focusedElem:r,selectionRange:l},Si=!1,fe=s;fe!==null;)if(s=fe,r=s.child,(s.subtreeFlags&1028)!==0&&r!==null)r.return=s,fe=r;else for(;fe!==null;){s=fe;try{var me=s.alternate;if(s.flags&1024)switch(s.tag){case 0:case 11:case 15:break;case 1:if(me!==null){var ge=me.memoizedProps,ft=me.memoizedState,B=s.stateNode,U=B.getSnapshotBeforeUpdate(s.elementType===s.type?ge:lr(s.type,ge),ft);B.__reactInternalSnapshotBeforeUpdate=U}break;case 3:var $=s.stateNode.containerInfo;$.nodeType===1?$.textContent="":$.nodeType===9&&$.documentElement&&$.removeChild($.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(t(163))}}catch(oe){dt(s,s.return,oe)}if(r=s.sibling,r!==null){r.return=s.return,fe=r;break}fe=s.return}return me=gg,gg=!1,me}function Oa(r,s,l){var d=s.updateQueue;if(d=d!==null?d.lastEffect:null,d!==null){var f=d=d.next;do{if((f.tag&r)===r){var g=f.destroy;f.destroy=void 0,g!==void 0&&vh(s,l,g)}f=f.next}while(f!==d)}}function ku(r,s){if(s=s.updateQueue,s=s!==null?s.lastEffect:null,s!==null){var l=s=s.next;do{if((l.tag&r)===r){var d=l.create;l.destroy=d()}l=l.next}while(l!==s)}}function _h(r){var s=r.ref;if(s!==null){var l=r.stateNode;switch(r.tag){case 5:r=l;break;default:r=l}typeof s=="function"?s(r):s.current=r}}function yg(r){var s=r.alternate;s!==null&&(r.alternate=null,yg(s)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(s=r.stateNode,s!==null&&(delete s[Sr],delete s[Ia],delete s[Ld],delete s[tT],delete s[nT])),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}function vg(r){return r.tag===5||r.tag===3||r.tag===4}function _g(r){e:for(;;){for(;r.sibling===null;){if(r.return===null||vg(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.flags&2||r.child===null||r.tag===4)continue e;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function wh(r,s,l){var d=r.tag;if(d===5||d===6)r=r.stateNode,s?l.nodeType===8?l.parentNode.insertBefore(r,s):l.insertBefore(r,s):(l.nodeType===8?(s=l.parentNode,s.insertBefore(r,l)):(s=l,s.appendChild(r)),l=l._reactRootContainer,l!=null||s.onclick!==null||(s.onclick=ou));else if(d!==4&&(r=r.child,r!==null))for(wh(r,s,l),r=r.sibling;r!==null;)wh(r,s,l),r=r.sibling}function Eh(r,s,l){var d=r.tag;if(d===5||d===6)r=r.stateNode,s?l.insertBefore(r,s):l.appendChild(r);else if(d!==4&&(r=r.child,r!==null))for(Eh(r,s,l),r=r.sibling;r!==null;)Eh(r,s,l),r=r.sibling}var $t=null,ur=!1;function Di(r,s,l){for(l=l.child;l!==null;)wg(r,s,l),l=l.sibling}function wg(r,s,l){if(An&&typeof An.onCommitFiberUnmount=="function")try{An.onCommitFiberUnmount(ms,l)}catch{}switch(l.tag){case 5:Zt||So(l,s);case 6:var d=$t,f=ur;$t=null,Di(r,s,l),$t=d,ur=f,$t!==null&&(ur?(r=$t,l=l.stateNode,r.nodeType===8?r.parentNode.removeChild(l):r.removeChild(l)):$t.removeChild(l.stateNode));break;case 18:$t!==null&&(ur?(r=$t,l=l.stateNode,r.nodeType===8?Od(r.parentNode,l):r.nodeType===1&&Od(r,l),ir(r)):Od($t,l.stateNode));break;case 4:d=$t,f=ur,$t=l.stateNode.containerInfo,ur=!0,Di(r,s,l),$t=d,ur=f;break;case 0:case 11:case 14:case 15:if(!Zt&&(d=l.updateQueue,d!==null&&(d=d.lastEffect,d!==null))){f=d=d.next;do{var g=f,w=g.destroy;g=g.tag,w!==void 0&&(g&2||g&4)&&vh(l,s,w),f=f.next}while(f!==d)}Di(r,s,l);break;case 1:if(!Zt&&(So(l,s),d=l.stateNode,typeof d.componentWillUnmount=="function"))try{d.props=l.memoizedProps,d.state=l.memoizedState,d.componentWillUnmount()}catch(P){dt(l,s,P)}Di(r,s,l);break;case 21:Di(r,s,l);break;case 22:l.mode&1?(Zt=(d=Zt)||l.memoizedState!==null,Di(r,s,l),Zt=d):Di(r,s,l);break;default:Di(r,s,l)}}function Eg(r){var s=r.updateQueue;if(s!==null){r.updateQueue=null;var l=r.stateNode;l===null&&(l=r.stateNode=new vT),s.forEach(function(d){var f=PT.bind(null,r,d);l.has(d)||(l.add(d),d.then(f,f))})}}function cr(r,s){var l=s.deletions;if(l!==null)for(var d=0;d<l.length;d++){var f=l[d];try{var g=r,w=s,P=w;e:for(;P!==null;){switch(P.tag){case 5:$t=P.stateNode,ur=!1;break e;case 3:$t=P.stateNode.containerInfo,ur=!0;break e;case 4:$t=P.stateNode.containerInfo,ur=!0;break e}P=P.return}if($t===null)throw Error(t(160));wg(g,w,f),$t=null,ur=!1;var L=f.alternate;L!==null&&(L.return=null),f.return=null}catch(q){dt(f,s,q)}}if(s.subtreeFlags&12854)for(s=s.child;s!==null;)Tg(s,r),s=s.sibling}function Tg(r,s){var l=r.alternate,d=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:if(cr(s,r),Ar(r),d&4){try{Oa(3,r,r.return),ku(3,r)}catch(ge){dt(r,r.return,ge)}try{Oa(5,r,r.return)}catch(ge){dt(r,r.return,ge)}}break;case 1:cr(s,r),Ar(r),d&512&&l!==null&&So(l,l.return);break;case 5:if(cr(s,r),Ar(r),d&512&&l!==null&&So(l,l.return),r.flags&32){var f=r.stateNode;try{Xn(f,"")}catch(ge){dt(r,r.return,ge)}}if(d&4&&(f=r.stateNode,f!=null)){var g=r.memoizedProps,w=l!==null?l.memoizedProps:g,P=r.type,L=r.updateQueue;if(r.updateQueue=null,L!==null)try{P==="input"&&g.type==="radio"&&g.name!=null&&Ln(f,g),ds(P,w);var q=ds(P,g);for(w=0;w<L.length;w+=2){var Z=L[w],ne=L[w+1];Z==="style"?cs(f,ne):Z==="dangerouslySetInnerHTML"?Yn(f,ne):Z==="children"?Xn(f,ne):Y(f,Z,ne,q)}switch(P){case"input":fi(f,g);break;case"textarea":Ur(f,g);break;case"select":var J=f._wrapperState.wasMultiple;f._wrapperState.wasMultiple=!!g.multiple;var de=g.value;de!=null?hn(f,!!g.multiple,de,!1):J!==!!g.multiple&&(g.defaultValue!=null?hn(f,!!g.multiple,g.defaultValue,!0):hn(f,!!g.multiple,g.multiple?[]:"",!1))}f[Ia]=g}catch(ge){dt(r,r.return,ge)}}break;case 6:if(cr(s,r),Ar(r),d&4){if(r.stateNode===null)throw Error(t(162));f=r.stateNode,g=r.memoizedProps;try{f.nodeValue=g}catch(ge){dt(r,r.return,ge)}}break;case 3:if(cr(s,r),Ar(r),d&4&&l!==null&&l.memoizedState.isDehydrated)try{ir(s.containerInfo)}catch(ge){dt(r,r.return,ge)}break;case 4:cr(s,r),Ar(r);break;case 13:cr(s,r),Ar(r),f=r.child,f.flags&8192&&(g=f.memoizedState!==null,f.stateNode.isHidden=g,!g||f.alternate!==null&&f.alternate.memoizedState!==null||(Sh=Ye())),d&4&&Eg(r);break;case 22:if(Z=l!==null&&l.memoizedState!==null,r.mode&1?(Zt=(q=Zt)||Z,cr(s,r),Zt=q):cr(s,r),Ar(r),d&8192){if(q=r.memoizedState!==null,(r.stateNode.isHidden=q)&&!Z&&r.mode&1)for(fe=r,Z=r.child;Z!==null;){for(ne=fe=Z;fe!==null;){switch(J=fe,de=J.child,J.tag){case 0:case 11:case 14:case 15:Oa(4,J,J.return);break;case 1:So(J,J.return);var me=J.stateNode;if(typeof me.componentWillUnmount=="function"){d=J,l=J.return;try{s=d,me.props=s.memoizedProps,me.state=s.memoizedState,me.componentWillUnmount()}catch(ge){dt(d,l,ge)}}break;case 5:So(J,J.return);break;case 22:if(J.memoizedState!==null){Rg(ne);continue}}de!==null?(de.return=J,fe=de):Rg(ne)}Z=Z.sibling}e:for(Z=null,ne=r;;){if(ne.tag===5){if(Z===null){Z=ne;try{f=ne.stateNode,q?(g=f.style,typeof g.setProperty=="function"?g.setProperty("display","none","important"):g.display="none"):(P=ne.stateNode,L=ne.memoizedProps.style,w=L!=null&&L.hasOwnProperty("display")?L.display:null,P.style.display=us("display",w))}catch(ge){dt(r,r.return,ge)}}}else if(ne.tag===6){if(Z===null)try{ne.stateNode.nodeValue=q?"":ne.memoizedProps}catch(ge){dt(r,r.return,ge)}}else if((ne.tag!==22&&ne.tag!==23||ne.memoizedState===null||ne===r)&&ne.child!==null){ne.child.return=ne,ne=ne.child;continue}if(ne===r)break e;for(;ne.sibling===null;){if(ne.return===null||ne.return===r)break e;Z===ne&&(Z=null),ne=ne.return}Z===ne&&(Z=null),ne.sibling.return=ne.return,ne=ne.sibling}}break;case 19:cr(s,r),Ar(r),d&4&&Eg(r);break;case 21:break;default:cr(s,r),Ar(r)}}function Ar(r){var s=r.flags;if(s&2){try{e:{for(var l=r.return;l!==null;){if(vg(l)){var d=l;break e}l=l.return}throw Error(t(160))}switch(d.tag){case 5:var f=d.stateNode;d.flags&32&&(Xn(f,""),d.flags&=-33);var g=_g(r);Eh(r,g,f);break;case 3:case 4:var w=d.stateNode.containerInfo,P=_g(r);wh(r,P,w);break;default:throw Error(t(161))}}catch(L){dt(r,r.return,L)}r.flags&=-3}s&4096&&(r.flags&=-4097)}function wT(r,s,l){fe=r,Ig(r)}function Ig(r,s,l){for(var d=(r.mode&1)!==0;fe!==null;){var f=fe,g=f.child;if(f.tag===22&&d){var w=f.memoizedState!==null||Pu;if(!w){var P=f.alternate,L=P!==null&&P.memoizedState!==null||Zt;P=Pu;var q=Zt;if(Pu=w,(Zt=L)&&!q)for(fe=f;fe!==null;)w=fe,L=w.child,w.tag===22&&w.memoizedState!==null?Cg(f):L!==null?(L.return=w,fe=L):Cg(f);for(;g!==null;)fe=g,Ig(g),g=g.sibling;fe=f,Pu=P,Zt=q}Sg(r)}else f.subtreeFlags&8772&&g!==null?(g.return=f,fe=g):Sg(r)}}function Sg(r){for(;fe!==null;){var s=fe;if(s.flags&8772){var l=s.alternate;try{if(s.flags&8772)switch(s.tag){case 0:case 11:case 15:Zt||ku(5,s);break;case 1:var d=s.stateNode;if(s.flags&4&&!Zt)if(l===null)d.componentDidMount();else{var f=s.elementType===s.type?l.memoizedProps:lr(s.type,l.memoizedProps);d.componentDidUpdate(f,l.memoizedState,d.__reactInternalSnapshotBeforeUpdate)}var g=s.updateQueue;g!==null&&Rm(s,g,d);break;case 3:var w=s.updateQueue;if(w!==null){if(l=null,s.child!==null)switch(s.child.tag){case 5:l=s.child.stateNode;break;case 1:l=s.child.stateNode}Rm(s,w,l)}break;case 5:var P=s.stateNode;if(l===null&&s.flags&4){l=P;var L=s.memoizedProps;switch(s.type){case"button":case"input":case"select":case"textarea":L.autoFocus&&l.focus();break;case"img":L.src&&(l.src=L.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(s.memoizedState===null){var q=s.alternate;if(q!==null){var Z=q.memoizedState;if(Z!==null){var ne=Z.dehydrated;ne!==null&&ir(ne)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(t(163))}Zt||s.flags&512&&_h(s)}catch(J){dt(s,s.return,J)}}if(s===r){fe=null;break}if(l=s.sibling,l!==null){l.return=s.return,fe=l;break}fe=s.return}}function Rg(r){for(;fe!==null;){var s=fe;if(s===r){fe=null;break}var l=s.sibling;if(l!==null){l.return=s.return,fe=l;break}fe=s.return}}function Cg(r){for(;fe!==null;){var s=fe;try{switch(s.tag){case 0:case 11:case 15:var l=s.return;try{ku(4,s)}catch(L){dt(s,l,L)}break;case 1:var d=s.stateNode;if(typeof d.componentDidMount=="function"){var f=s.return;try{d.componentDidMount()}catch(L){dt(s,f,L)}}var g=s.return;try{_h(s)}catch(L){dt(s,g,L)}break;case 5:var w=s.return;try{_h(s)}catch(L){dt(s,w,L)}}}catch(L){dt(s,s.return,L)}if(s===r){fe=null;break}var P=s.sibling;if(P!==null){P.return=s.return,fe=P;break}fe=s.return}}var ET=Math.ceil,xu=ie.ReactCurrentDispatcher,Th=ie.ReactCurrentOwner,Wn=ie.ReactCurrentBatchConfig,$e=0,Ot=null,Et=null,Ht=0,Dn=0,Ro=Pi(0),Ct=0,La=null,ks=0,bu=0,Ih=0,Va=null,wn=null,Sh=0,Co=1/0,Zr=null,Nu=!1,Rh=null,Oi=null,Du=!1,Li=null,Ou=0,Ma=0,Ch=null,Lu=-1,Vu=0;function dn(){return $e&6?Ye():Lu!==-1?Lu:Lu=Ye()}function Vi(r){return r.mode&1?$e&2&&Ht!==0?Ht&-Ht:iT.transition!==null?(Vu===0&&(Vu=ys()),Vu):(r=Me,r!==0||(r=window.event,r=r===void 0?16:da(r.type)),r):1}function dr(r,s,l,d){if(50<Ma)throw Ma=0,Ch=null,Error(t(185));wi(r,l,d),(!($e&2)||r!==Ot)&&(r===Ot&&(!($e&2)&&(bu|=l),Ct===4&&Mi(r,Ht)),En(r,d),l===1&&$e===0&&!(s.mode&1)&&(Co=Ye()+500,cu&&xi()))}function En(r,s){var l=r.callbackNode;zr(r,s);var d=gs(r,r===Ot?Ht:0);if(d===0)l!==null&&oa(l),r.callbackNode=null,r.callbackPriority=0;else if(s=d&-d,r.callbackPriority!==s){if(l!=null&&oa(l),s===1)r.tag===0?rT(Pg.bind(null,r)):fm(Pg.bind(null,r)),ZE(function(){!($e&6)&&xi()}),l=null;else{switch(Ti(d)){case 1:l=ps;break;case 4:l=yi;break;case 16:l=Fn;break;case 536870912:l=Vl;break;default:l=Fn}l=Vg(l,Ag.bind(null,r))}r.callbackPriority=s,r.callbackNode=l}}function Ag(r,s){if(Lu=-1,Vu=0,$e&6)throw Error(t(327));var l=r.callbackNode;if(Ao()&&r.callbackNode!==l)return null;var d=gs(r,r===Ot?Ht:0);if(d===0)return null;if(d&30||d&r.expiredLanes||s)s=Mu(r,d);else{s=d;var f=$e;$e|=2;var g=xg();(Ot!==r||Ht!==s)&&(Zr=null,Co=Ye()+500,bs(r,s));do try{ST();break}catch(P){kg(r,P)}while(!0);Hd(),xu.current=g,$e=f,Et!==null?s=0:(Ot=null,Ht=0,s=Ct)}if(s!==0){if(s===2&&(f=Pn(r),f!==0&&(d=f,s=Ah(r,f))),s===1)throw l=La,bs(r,0),Mi(r,d),En(r,Ye()),l;if(s===6)Mi(r,d);else{if(f=r.current.alternate,!(d&30)&&!TT(f)&&(s=Mu(r,d),s===2&&(g=Pn(r),g!==0&&(d=g,s=Ah(r,g))),s===1))throw l=La,bs(r,0),Mi(r,d),En(r,Ye()),l;switch(r.finishedWork=f,r.finishedLanes=d,s){case 0:case 1:throw Error(t(345));case 2:Ns(r,wn,Zr);break;case 3:if(Mi(r,d),(d&130023424)===d&&(s=Sh+500-Ye(),10<s)){if(gs(r,0)!==0)break;if(f=r.suspendedLanes,(f&d)!==d){dn(),r.pingedLanes|=r.suspendedLanes&f;break}r.timeoutHandle=Dd(Ns.bind(null,r,wn,Zr),s);break}Ns(r,wn,Zr);break;case 4:if(Mi(r,d),(d&4194240)===d)break;for(s=r.eventTimes,f=-1;0<d;){var w=31-ln(d);g=1<<w,w=s[w],w>f&&(f=w),d&=~g}if(d=f,d=Ye()-d,d=(120>d?120:480>d?480:1080>d?1080:1920>d?1920:3e3>d?3e3:4320>d?4320:1960*ET(d/1960))-d,10<d){r.timeoutHandle=Dd(Ns.bind(null,r,wn,Zr),d);break}Ns(r,wn,Zr);break;case 5:Ns(r,wn,Zr);break;default:throw Error(t(329))}}}return En(r,Ye()),r.callbackNode===l?Ag.bind(null,r):null}function Ah(r,s){var l=Va;return r.current.memoizedState.isDehydrated&&(bs(r,s).flags|=256),r=Mu(r,s),r!==2&&(s=wn,wn=l,s!==null&&Ph(s)),r}function Ph(r){wn===null?wn=r:wn.push.apply(wn,r)}function TT(r){for(var s=r;;){if(s.flags&16384){var l=s.updateQueue;if(l!==null&&(l=l.stores,l!==null))for(var d=0;d<l.length;d++){var f=l[d],g=f.getSnapshot;f=f.value;try{if(!or(g(),f))return!1}catch{return!1}}}if(l=s.child,s.subtreeFlags&16384&&l!==null)l.return=s,s=l;else{if(s===r)break;for(;s.sibling===null;){if(s.return===null||s.return===r)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function Mi(r,s){for(s&=~Ih,s&=~bu,r.suspendedLanes|=s,r.pingedLanes&=~s,r=r.expirationTimes;0<s;){var l=31-ln(s),d=1<<l;r[l]=-1,s&=~d}}function Pg(r){if($e&6)throw Error(t(327));Ao();var s=gs(r,0);if(!(s&1))return En(r,Ye()),null;var l=Mu(r,s);if(r.tag!==0&&l===2){var d=Pn(r);d!==0&&(s=d,l=Ah(r,d))}if(l===1)throw l=La,bs(r,0),Mi(r,s),En(r,Ye()),l;if(l===6)throw Error(t(345));return r.finishedWork=r.current.alternate,r.finishedLanes=s,Ns(r,wn,Zr),En(r,Ye()),null}function kh(r,s){var l=$e;$e|=1;try{return r(s)}finally{$e=l,$e===0&&(Co=Ye()+500,cu&&xi())}}function xs(r){Li!==null&&Li.tag===0&&!($e&6)&&Ao();var s=$e;$e|=1;var l=Wn.transition,d=Me;try{if(Wn.transition=null,Me=1,r)return r()}finally{Me=d,Wn.transition=l,$e=s,!($e&6)&&xi()}}function xh(){Dn=Ro.current,Ze(Ro)}function bs(r,s){r.finishedWork=null,r.finishedLanes=0;var l=r.timeoutHandle;if(l!==-1&&(r.timeoutHandle=-1,JE(l)),Et!==null)for(l=Et.return;l!==null;){var d=l;switch(Ud(d),d.tag){case 1:d=d.type.childContextTypes,d!=null&&lu();break;case 3:To(),Ze(yn),Ze(Yt),Jd();break;case 5:Yd(d);break;case 4:To();break;case 13:Ze(ot);break;case 19:Ze(ot);break;case 10:Wd(d.type._context);break;case 22:case 23:xh()}l=l.return}if(Ot=r,Et=r=Fi(r.current,null),Ht=Dn=s,Ct=0,La=null,Ih=bu=ks=0,wn=Va=null,Cs!==null){for(s=0;s<Cs.length;s++)if(l=Cs[s],d=l.interleaved,d!==null){l.interleaved=null;var f=d.next,g=l.pending;if(g!==null){var w=g.next;g.next=f,d.next=w}l.pending=d}Cs=null}return r}function kg(r,s){do{var l=Et;try{if(Hd(),wu.current=Su,Eu){for(var d=at.memoizedState;d!==null;){var f=d.queue;f!==null&&(f.pending=null),d=d.next}Eu=!1}if(Ps=0,Dt=Rt=at=null,ka=!1,xa=0,Th.current=null,l===null||l.return===null){Ct=1,La=s,Et=null;break}e:{var g=r,w=l.return,P=l,L=s;if(s=Ht,P.flags|=32768,L!==null&&typeof L=="object"&&typeof L.then=="function"){var q=L,Z=P,ne=Z.tag;if(!(Z.mode&1)&&(ne===0||ne===11||ne===15)){var J=Z.alternate;J?(Z.updateQueue=J.updateQueue,Z.memoizedState=J.memoizedState,Z.lanes=J.lanes):(Z.updateQueue=null,Z.memoizedState=null)}var de=eg(w);if(de!==null){de.flags&=-257,tg(de,w,P,g,s),de.mode&1&&Zm(g,q,s),s=de,L=q;var me=s.updateQueue;if(me===null){var ge=new Set;ge.add(L),s.updateQueue=ge}else me.add(L);break e}else{if(!(s&1)){Zm(g,q,s),bh();break e}L=Error(t(426))}}else if(rt&&P.mode&1){var ft=eg(w);if(ft!==null){!(ft.flags&65536)&&(ft.flags|=256),tg(ft,w,P,g,s),Bd(Io(L,P));break e}}g=L=Io(L,P),Ct!==4&&(Ct=2),Va===null?Va=[g]:Va.push(g),g=w;do{switch(g.tag){case 3:g.flags|=65536,s&=-s,g.lanes|=s;var B=Xm(g,L,s);Sm(g,B);break e;case 1:P=L;var U=g.type,$=g.stateNode;if(!(g.flags&128)&&(typeof U.getDerivedStateFromError=="function"||$!==null&&typeof $.componentDidCatch=="function"&&(Oi===null||!Oi.has($)))){g.flags|=65536,s&=-s,g.lanes|=s;var oe=Jm(g,P,s);Sm(g,oe);break e}}g=g.return}while(g!==null)}Ng(l)}catch(ye){s=ye,Et===l&&l!==null&&(Et=l=l.return);continue}break}while(!0)}function xg(){var r=xu.current;return xu.current=Su,r===null?Su:r}function bh(){(Ct===0||Ct===3||Ct===2)&&(Ct=4),Ot===null||!(ks&268435455)&&!(bu&268435455)||Mi(Ot,Ht)}function Mu(r,s){var l=$e;$e|=2;var d=xg();(Ot!==r||Ht!==s)&&(Zr=null,bs(r,s));do try{IT();break}catch(f){kg(r,f)}while(!0);if(Hd(),$e=l,xu.current=d,Et!==null)throw Error(t(261));return Ot=null,Ht=0,Ct}function IT(){for(;Et!==null;)bg(Et)}function ST(){for(;Et!==null&&!Ol();)bg(Et)}function bg(r){var s=Lg(r.alternate,r,Dn);r.memoizedProps=r.pendingProps,s===null?Ng(r):Et=s,Th.current=null}function Ng(r){var s=r;do{var l=s.alternate;if(r=s.return,s.flags&32768){if(l=yT(l,s),l!==null){l.flags&=32767,Et=l;return}if(r!==null)r.flags|=32768,r.subtreeFlags=0,r.deletions=null;else{Ct=6,Et=null;return}}else if(l=gT(l,s,Dn),l!==null){Et=l;return}if(s=s.sibling,s!==null){Et=s;return}Et=s=r}while(s!==null);Ct===0&&(Ct=5)}function Ns(r,s,l){var d=Me,f=Wn.transition;try{Wn.transition=null,Me=1,RT(r,s,l,d)}finally{Wn.transition=f,Me=d}return null}function RT(r,s,l,d){do Ao();while(Li!==null);if($e&6)throw Error(t(327));l=r.finishedWork;var f=r.finishedLanes;if(l===null)return null;if(r.finishedWork=null,r.finishedLanes=0,l===r.current)throw Error(t(177));r.callbackNode=null,r.callbackPriority=0;var g=l.lanes|l.childLanes;if(Ge(r,g),r===Ot&&(Et=Ot=null,Ht=0),!(l.subtreeFlags&2064)&&!(l.flags&2064)||Du||(Du=!0,Vg(Fn,function(){return Ao(),null})),g=(l.flags&15990)!==0,l.subtreeFlags&15990||g){g=Wn.transition,Wn.transition=null;var w=Me;Me=1;var P=$e;$e|=4,Th.current=null,_T(r,l),Tg(l,r),WE(bd),Si=!!xd,bd=xd=null,r.current=l,wT(l),pd(),$e=P,Me=w,Wn.transition=g}else r.current=l;if(Du&&(Du=!1,Li=r,Ou=f),g=r.pendingLanes,g===0&&(Oi=null),Ml(l.stateNode),En(r,Ye()),s!==null)for(d=r.onRecoverableError,l=0;l<s.length;l++)f=s[l],d(f.value,{componentStack:f.stack,digest:f.digest});if(Nu)throw Nu=!1,r=Rh,Rh=null,r;return Ou&1&&r.tag!==0&&Ao(),g=r.pendingLanes,g&1?r===Ch?Ma++:(Ma=0,Ch=r):Ma=0,xi(),null}function Ao(){if(Li!==null){var r=Ti(Ou),s=Wn.transition,l=Me;try{if(Wn.transition=null,Me=16>r?16:r,Li===null)var d=!1;else{if(r=Li,Li=null,Ou=0,$e&6)throw Error(t(331));var f=$e;for($e|=4,fe=r.current;fe!==null;){var g=fe,w=g.child;if(fe.flags&16){var P=g.deletions;if(P!==null){for(var L=0;L<P.length;L++){var q=P[L];for(fe=q;fe!==null;){var Z=fe;switch(Z.tag){case 0:case 11:case 15:Oa(8,Z,g)}var ne=Z.child;if(ne!==null)ne.return=Z,fe=ne;else for(;fe!==null;){Z=fe;var J=Z.sibling,de=Z.return;if(yg(Z),Z===q){fe=null;break}if(J!==null){J.return=de,fe=J;break}fe=de}}}var me=g.alternate;if(me!==null){var ge=me.child;if(ge!==null){me.child=null;do{var ft=ge.sibling;ge.sibling=null,ge=ft}while(ge!==null)}}fe=g}}if(g.subtreeFlags&2064&&w!==null)w.return=g,fe=w;else e:for(;fe!==null;){if(g=fe,g.flags&2048)switch(g.tag){case 0:case 11:case 15:Oa(9,g,g.return)}var B=g.sibling;if(B!==null){B.return=g.return,fe=B;break e}fe=g.return}}var U=r.current;for(fe=U;fe!==null;){w=fe;var $=w.child;if(w.subtreeFlags&2064&&$!==null)$.return=w,fe=$;else e:for(w=U;fe!==null;){if(P=fe,P.flags&2048)try{switch(P.tag){case 0:case 11:case 15:ku(9,P)}}catch(ye){dt(P,P.return,ye)}if(P===w){fe=null;break e}var oe=P.sibling;if(oe!==null){oe.return=P.return,fe=oe;break e}fe=P.return}}if($e=f,xi(),An&&typeof An.onPostCommitFiberRoot=="function")try{An.onPostCommitFiberRoot(ms,r)}catch{}d=!0}return d}finally{Me=l,Wn.transition=s}}return!1}function Dg(r,s,l){s=Io(l,s),s=Xm(r,s,1),r=Ni(r,s,1),s=dn(),r!==null&&(wi(r,1,s),En(r,s))}function dt(r,s,l){if(r.tag===3)Dg(r,r,l);else for(;s!==null;){if(s.tag===3){Dg(s,r,l);break}else if(s.tag===1){var d=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof d.componentDidCatch=="function"&&(Oi===null||!Oi.has(d))){r=Io(l,r),r=Jm(s,r,1),s=Ni(s,r,1),r=dn(),s!==null&&(wi(s,1,r),En(s,r));break}}s=s.return}}function CT(r,s,l){var d=r.pingCache;d!==null&&d.delete(s),s=dn(),r.pingedLanes|=r.suspendedLanes&l,Ot===r&&(Ht&l)===l&&(Ct===4||Ct===3&&(Ht&130023424)===Ht&&500>Ye()-Sh?bs(r,0):Ih|=l),En(r,s)}function Og(r,s){s===0&&(r.mode&1?(s=Qs,Qs<<=1,!(Qs&130023424)&&(Qs=4194304)):s=1);var l=dn();r=Yr(r,s),r!==null&&(wi(r,s,l),En(r,l))}function AT(r){var s=r.memoizedState,l=0;s!==null&&(l=s.retryLane),Og(r,l)}function PT(r,s){var l=0;switch(r.tag){case 13:var d=r.stateNode,f=r.memoizedState;f!==null&&(l=f.retryLane);break;case 19:d=r.stateNode;break;default:throw Error(t(314))}d!==null&&d.delete(s),Og(r,l)}var Lg;Lg=function(r,s,l){if(r!==null)if(r.memoizedProps!==s.pendingProps||yn.current)_n=!0;else{if(!(r.lanes&l)&&!(s.flags&128))return _n=!1,mT(r,s,l);_n=!!(r.flags&131072)}else _n=!1,rt&&s.flags&1048576&&pm(s,hu,s.index);switch(s.lanes=0,s.tag){case 2:var d=s.type;Au(r,s),r=s.pendingProps;var f=mo(s,Yt.current);Eo(s,l),f=th(null,s,d,r,f,l);var g=nh();return s.flags|=1,typeof f=="object"&&f!==null&&typeof f.render=="function"&&f.$$typeof===void 0?(s.tag=1,s.memoizedState=null,s.updateQueue=null,vn(d)?(g=!0,uu(s)):g=!1,s.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,Gd(s),f.updater=Ru,s.stateNode=f,f._reactInternals=s,lh(s,d,r,l),s=hh(null,s,d,!0,g,l)):(s.tag=0,rt&&g&&Fd(s),cn(null,s,f,l),s=s.child),s;case 16:d=s.elementType;e:{switch(Au(r,s),r=s.pendingProps,f=d._init,d=f(d._payload),s.type=d,f=s.tag=xT(d),r=lr(d,r),f){case 0:s=dh(null,s,d,r,l);break e;case 1:s=ag(null,s,d,r,l);break e;case 11:s=ng(null,s,d,r,l);break e;case 14:s=rg(null,s,d,lr(d.type,r),l);break e}throw Error(t(306,d,""))}return s;case 0:return d=s.type,f=s.pendingProps,f=s.elementType===d?f:lr(d,f),dh(r,s,d,f,l);case 1:return d=s.type,f=s.pendingProps,f=s.elementType===d?f:lr(d,f),ag(r,s,d,f,l);case 3:e:{if(lg(s),r===null)throw Error(t(387));d=s.pendingProps,g=s.memoizedState,f=g.element,Im(r,s),vu(s,d,null,l);var w=s.memoizedState;if(d=w.element,g.isDehydrated)if(g={element:d,isDehydrated:!1,cache:w.cache,pendingSuspenseBoundaries:w.pendingSuspenseBoundaries,transitions:w.transitions},s.updateQueue.baseState=g,s.memoizedState=g,s.flags&256){f=Io(Error(t(423)),s),s=ug(r,s,d,l,f);break e}else if(d!==f){f=Io(Error(t(424)),s),s=ug(r,s,d,l,f);break e}else for(Nn=Ai(s.stateNode.containerInfo.firstChild),bn=s,rt=!0,ar=null,l=Em(s,null,d,l),s.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling;else{if(vo(),d===f){s=Jr(r,s,l);break e}cn(r,s,d,l)}s=s.child}return s;case 5:return Cm(s),r===null&&zd(s),d=s.type,f=s.pendingProps,g=r!==null?r.memoizedProps:null,w=f.children,Nd(d,f)?w=null:g!==null&&Nd(d,g)&&(s.flags|=32),og(r,s),cn(r,s,w,l),s.child;case 6:return r===null&&zd(s),null;case 13:return cg(r,s,l);case 4:return Qd(s,s.stateNode.containerInfo),d=s.pendingProps,r===null?s.child=_o(s,null,d,l):cn(r,s,d,l),s.child;case 11:return d=s.type,f=s.pendingProps,f=s.elementType===d?f:lr(d,f),ng(r,s,d,f,l);case 7:return cn(r,s,s.pendingProps,l),s.child;case 8:return cn(r,s,s.pendingProps.children,l),s.child;case 12:return cn(r,s,s.pendingProps.children,l),s.child;case 10:e:{if(d=s.type._context,f=s.pendingProps,g=s.memoizedProps,w=f.value,Xe(mu,d._currentValue),d._currentValue=w,g!==null)if(or(g.value,w)){if(g.children===f.children&&!yn.current){s=Jr(r,s,l);break e}}else for(g=s.child,g!==null&&(g.return=s);g!==null;){var P=g.dependencies;if(P!==null){w=g.child;for(var L=P.firstContext;L!==null;){if(L.context===d){if(g.tag===1){L=Xr(-1,l&-l),L.tag=2;var q=g.updateQueue;if(q!==null){q=q.shared;var Z=q.pending;Z===null?L.next=L:(L.next=Z.next,Z.next=L),q.pending=L}}g.lanes|=l,L=g.alternate,L!==null&&(L.lanes|=l),qd(g.return,l,s),P.lanes|=l;break}L=L.next}}else if(g.tag===10)w=g.type===s.type?null:g.child;else if(g.tag===18){if(w=g.return,w===null)throw Error(t(341));w.lanes|=l,P=w.alternate,P!==null&&(P.lanes|=l),qd(w,l,s),w=g.sibling}else w=g.child;if(w!==null)w.return=g;else for(w=g;w!==null;){if(w===s){w=null;break}if(g=w.sibling,g!==null){g.return=w.return,w=g;break}w=w.return}g=w}cn(r,s,f.children,l),s=s.child}return s;case 9:return f=s.type,d=s.pendingProps.children,Eo(s,l),f=$n(f),d=d(f),s.flags|=1,cn(r,s,d,l),s.child;case 14:return d=s.type,f=lr(d,s.pendingProps),f=lr(d.type,f),rg(r,s,d,f,l);case 15:return ig(r,s,s.type,s.pendingProps,l);case 17:return d=s.type,f=s.pendingProps,f=s.elementType===d?f:lr(d,f),Au(r,s),s.tag=1,vn(d)?(r=!0,uu(s)):r=!1,Eo(s,l),Qm(s,d,f),lh(s,d,f,l),hh(null,s,d,!0,r,l);case 19:return hg(r,s,l);case 22:return sg(r,s,l)}throw Error(t(156,s.tag))};function Vg(r,s){return Ks(r,s)}function kT(r,s,l,d){this.tag=r,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=d,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function qn(r,s,l,d){return new kT(r,s,l,d)}function Nh(r){return r=r.prototype,!(!r||!r.isReactComponent)}function xT(r){if(typeof r=="function")return Nh(r)?1:0;if(r!=null){if(r=r.$$typeof,r===j)return 11;if(r===et)return 14}return 2}function Fi(r,s){var l=r.alternate;return l===null?(l=qn(r.tag,s,r.key,r.mode),l.elementType=r.elementType,l.type=r.type,l.stateNode=r.stateNode,l.alternate=r,r.alternate=l):(l.pendingProps=s,l.type=r.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=r.flags&14680064,l.childLanes=r.childLanes,l.lanes=r.lanes,l.child=r.child,l.memoizedProps=r.memoizedProps,l.memoizedState=r.memoizedState,l.updateQueue=r.updateQueue,s=r.dependencies,l.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},l.sibling=r.sibling,l.index=r.index,l.ref=r.ref,l}function Fu(r,s,l,d,f,g){var w=2;if(d=r,typeof r=="function")Nh(r)&&(w=1);else if(typeof r=="string")w=5;else e:switch(r){case x:return Ds(l.children,f,g,s);case S:w=8,f|=8;break;case R:return r=qn(12,l,s,f|2),r.elementType=R,r.lanes=g,r;case k:return r=qn(13,l,s,f),r.elementType=k,r.lanes=g,r;case je:return r=qn(19,l,s,f),r.elementType=je,r.lanes=g,r;case ee:return Uu(l,f,g,s);default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case N:w=10;break e;case O:w=9;break e;case j:w=11;break e;case et:w=14;break e;case st:w=16,d=null;break e}throw Error(t(130,r==null?r:typeof r,""))}return s=qn(w,l,s,f),s.elementType=r,s.type=d,s.lanes=g,s}function Ds(r,s,l,d){return r=qn(7,r,d,s),r.lanes=l,r}function Uu(r,s,l,d){return r=qn(22,r,d,s),r.elementType=ee,r.lanes=l,r.stateNode={isHidden:!1},r}function Dh(r,s,l){return r=qn(6,r,null,s),r.lanes=l,r}function Oh(r,s,l){return s=qn(4,r.children!==null?r.children:[],r.key,s),s.lanes=l,s.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},s}function bT(r,s,l,d,f){this.tag=s,this.containerInfo=r,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=_i(0),this.expirationTimes=_i(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=_i(0),this.identifierPrefix=d,this.onRecoverableError=f,this.mutableSourceEagerHydrationData=null}function Lh(r,s,l,d,f,g,w,P,L){return r=new bT(r,s,l,P,L),s===1?(s=1,g===!0&&(s|=8)):s=0,g=qn(3,null,null,s),r.current=g,g.stateNode=r,g.memoizedState={element:d,isDehydrated:l,cache:null,transitions:null,pendingSuspenseBoundaries:null},Gd(g),r}function NT(r,s,l){var d=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ue,key:d==null?null:""+d,children:r,containerInfo:s,implementation:l}}function Mg(r){if(!r)return ki;r=r._reactInternals;e:{if(Zn(r)!==r||r.tag!==1)throw Error(t(170));var s=r;do{switch(s.tag){case 3:s=s.stateNode.context;break e;case 1:if(vn(s.type)){s=s.stateNode.__reactInternalMemoizedMergedChildContext;break e}}s=s.return}while(s!==null);throw Error(t(171))}if(r.tag===1){var l=r.type;if(vn(l))return dm(r,l,s)}return s}function Fg(r,s,l,d,f,g,w,P,L){return r=Lh(l,d,!0,r,f,g,w,P,L),r.context=Mg(null),l=r.current,d=dn(),f=Vi(l),g=Xr(d,f),g.callback=s??null,Ni(l,g,f),r.current.lanes=f,wi(r,f,d),En(r,d),r}function ju(r,s,l,d){var f=s.current,g=dn(),w=Vi(f);return l=Mg(l),s.context===null?s.context=l:s.pendingContext=l,s=Xr(g,w),s.payload={element:r},d=d===void 0?null:d,d!==null&&(s.callback=d),r=Ni(f,s,w),r!==null&&(dr(r,f,w,g),yu(r,f,w)),w}function zu(r){if(r=r.current,!r.child)return null;switch(r.child.tag){case 5:return r.child.stateNode;default:return r.child.stateNode}}function Ug(r,s){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var l=r.retryLane;r.retryLane=l!==0&&l<s?l:s}}function Vh(r,s){Ug(r,s),(r=r.alternate)&&Ug(r,s)}var jg=typeof reportError=="function"?reportError:function(r){console.error(r)};function Mh(r){this._internalRoot=r}Bu.prototype.render=Mh.prototype.render=function(r){var s=this._internalRoot;if(s===null)throw Error(t(409));ju(r,s,null,null)},Bu.prototype.unmount=Mh.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var s=r.containerInfo;xs(function(){ju(null,r,null,null)}),s[qr]=null}};function Bu(r){this._internalRoot=r}Bu.prototype.unstable_scheduleHydration=function(r){if(r){var s=Bl();r={blockedOn:null,target:r,priority:s};for(var l=0;l<wr.length&&s!==0&&s<wr[l].priority;l++);wr.splice(l,0,r),l===0&&Wl(r)}};function Fh(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}function $u(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11&&(r.nodeType!==8||r.nodeValue!==" react-mount-point-unstable "))}function zg(){}function DT(r,s,l,d,f){if(f){if(typeof d=="function"){var g=d;d=function(){var q=zu(w);g.call(q)}}var w=Fg(s,d,r,0,null,!1,!1,"",zg);return r._reactRootContainer=w,r[qr]=w.current,Ea(r.nodeType===8?r.parentNode:r),xs(),w}for(;f=r.lastChild;)r.removeChild(f);if(typeof d=="function"){var P=d;d=function(){var q=zu(L);P.call(q)}}var L=Lh(r,0,!1,null,null,!1,!1,"",zg);return r._reactRootContainer=L,r[qr]=L.current,Ea(r.nodeType===8?r.parentNode:r),xs(function(){ju(s,L,l,d)}),L}function Hu(r,s,l,d,f){var g=l._reactRootContainer;if(g){var w=g;if(typeof f=="function"){var P=f;f=function(){var L=zu(w);P.call(L)}}ju(s,w,r,f)}else w=DT(l,s,r,f,d);return zu(w)}jl=function(r){switch(r.tag){case 3:var s=r.stateNode;if(s.current.memoizedState.isDehydrated){var l=vi(s.pendingLanes);l!==0&&(Ei(s,l|1),En(s,Ye()),!($e&6)&&(Co=Ye()+500,xi()))}break;case 13:xs(function(){var d=Yr(r,1);if(d!==null){var f=dn();dr(d,r,1,f)}}),Vh(r,1)}},Ys=function(r){if(r.tag===13){var s=Yr(r,134217728);if(s!==null){var l=dn();dr(s,r,134217728,l)}Vh(r,134217728)}},zl=function(r){if(r.tag===13){var s=Vi(r),l=Yr(r,s);if(l!==null){var d=dn();dr(l,r,s,d)}Vh(r,s)}},Bl=function(){return Me},$l=function(r,s){var l=Me;try{return Me=r,s()}finally{Me=l}},gi=function(r,s,l){switch(s){case"input":if(fi(r,l),s=l.name,l.type==="radio"&&s!=null){for(l=r;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll("input[name="+JSON.stringify(""+s)+'][type="radio"]'),s=0;s<l.length;s++){var d=l[s];if(d!==r&&d.form===r.form){var f=au(d);if(!f)throw Error(t(90));Ft(d),fi(d,f)}}}break;case"textarea":Ur(r,l);break;case"select":s=l.value,s!=null&&hn(r,!!l.multiple,s,!1)}},yt=kh,It=xs;var OT={usingClientEntryPoint:!1,Events:[Sa,fo,au,tt,pn,kh]},Fa={findFiberByHostInstance:Ts,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},LT={bundleType:Fa.bundleType,version:Fa.version,rendererPackageName:Fa.rendererPackageName,rendererConfig:Fa.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ie.ReactCurrentDispatcher,findHostInstanceByFiber:function(r){return r=sa(r),r===null?null:r.stateNode},findFiberByHostInstance:Fa.findFiberByHostInstance,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Wu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Wu.isDisabled&&Wu.supportsFiber)try{ms=Wu.inject(LT),An=Wu}catch{}}return Tn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=OT,Tn.createPortal=function(r,s){var l=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Fh(s))throw Error(t(200));return NT(r,s,null,l)},Tn.createRoot=function(r,s){if(!Fh(r))throw Error(t(299));var l=!1,d="",f=jg;return s!=null&&(s.unstable_strictMode===!0&&(l=!0),s.identifierPrefix!==void 0&&(d=s.identifierPrefix),s.onRecoverableError!==void 0&&(f=s.onRecoverableError)),s=Lh(r,1,!1,null,null,l,!1,d,f),r[qr]=s.current,Ea(r.nodeType===8?r.parentNode:r),new Mh(s)},Tn.findDOMNode=function(r){if(r==null)return null;if(r.nodeType===1)return r;var s=r._reactInternals;if(s===void 0)throw typeof r.render=="function"?Error(t(188)):(r=Object.keys(r).join(","),Error(t(268,r)));return r=sa(s),r=r===null?null:r.stateNode,r},Tn.flushSync=function(r){return xs(r)},Tn.hydrate=function(r,s,l){if(!$u(s))throw Error(t(200));return Hu(null,r,s,!0,l)},Tn.hydrateRoot=function(r,s,l){if(!Fh(r))throw Error(t(405));var d=l!=null&&l.hydratedSources||null,f=!1,g="",w=jg;if(l!=null&&(l.unstable_strictMode===!0&&(f=!0),l.identifierPrefix!==void 0&&(g=l.identifierPrefix),l.onRecoverableError!==void 0&&(w=l.onRecoverableError)),s=Fg(s,null,r,1,l??null,f,!1,g,w),r[qr]=s.current,Ea(r),d)for(r=0;r<d.length;r++)l=d[r],f=l._getVersion,f=f(l._source),s.mutableSourceEagerHydrationData==null?s.mutableSourceEagerHydrationData=[l,f]:s.mutableSourceEagerHydrationData.push(l,f);return new Bu(s)},Tn.render=function(r,s,l){if(!$u(s))throw Error(t(200));return Hu(null,r,s,!1,l)},Tn.unmountComponentAtNode=function(r){if(!$u(r))throw Error(t(40));return r._reactRootContainer?(xs(function(){Hu(null,null,r,!1,function(){r._reactRootContainer=null,r[qr]=null})}),!0):!1},Tn.unstable_batchedUpdates=kh,Tn.unstable_renderSubtreeIntoContainer=function(r,s,l,d){if(!$u(l))throw Error(t(200));if(r==null||r._reactInternals===void 0)throw Error(t(38));return Hu(r,s,l,!1,d)},Tn.version="18.3.1-next-f1338f8080-20240426",Tn}var Qg;function Ov(){if(Qg)return zh.exports;Qg=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),zh.exports=BT(),zh.exports}var Yg;function $T(){if(Yg)return qu;Yg=1;var n=Ov();return qu.createRoot=n.createRoot,qu.hydrateRoot=n.hydrateRoot,qu}var HT=$T();const WT=Dv(HT);var ja={},Xg;function qT(){if(Xg)return ja;Xg=1,Object.defineProperty(ja,"__esModule",{value:!0}),ja.parse=c,ja.serialize=y;const n=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,t=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,i=/^[\u0020-\u003A\u003D-\u007E]*$/,o=Object.prototype.toString,a=(()=>{const T=function(){};return T.prototype=Object.create(null),T})();function c(T,C){const b=new a,M=T.length;if(M<2)return b;const D=(C==null?void 0:C.decode)||_;let H=0;do{const K=T.indexOf("=",H);if(K===-1)break;const Y=T.indexOf(";",H),ie=Y===-1?M:Y;if(K>ie){H=T.lastIndexOf(";",K-1)+1;continue}const ce=h(T,H,K),ue=p(T,K,ce),x=T.slice(ce,ue);if(b[x]===void 0){let S=h(T,K+1,ie),R=p(T,ie,S);const N=D(T.slice(S,R));b[x]=N}H=ie+1}while(H<M);return b}function h(T,C,b){do{const M=T.charCodeAt(C);if(M!==32&&M!==9)return C}while(++C<b);return b}function p(T,C,b){for(;C>b;){const M=T.charCodeAt(--C);if(M!==32&&M!==9)return C+1}return b}function y(T,C,b){const M=(b==null?void 0:b.encode)||encodeURIComponent;if(!n.test(T))throw new TypeError(`argument name is invalid: ${T}`);const D=M(C);if(!e.test(D))throw new TypeError(`argument val is invalid: ${C}`);let H=T+"="+D;if(!b)return H;if(b.maxAge!==void 0){if(!Number.isInteger(b.maxAge))throw new TypeError(`option maxAge is invalid: ${b.maxAge}`);H+="; Max-Age="+b.maxAge}if(b.domain){if(!t.test(b.domain))throw new TypeError(`option domain is invalid: ${b.domain}`);H+="; Domain="+b.domain}if(b.path){if(!i.test(b.path))throw new TypeError(`option path is invalid: ${b.path}`);H+="; Path="+b.path}if(b.expires){if(!E(b.expires)||!Number.isFinite(b.expires.valueOf()))throw new TypeError(`option expires is invalid: ${b.expires}`);H+="; Expires="+b.expires.toUTCString()}if(b.httpOnly&&(H+="; HttpOnly"),b.secure&&(H+="; Secure"),b.partitioned&&(H+="; Partitioned"),b.priority)switch(typeof b.priority=="string"?b.priority.toLowerCase():void 0){case"low":H+="; Priority=Low";break;case"medium":H+="; Priority=Medium";break;case"high":H+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${b.priority}`)}if(b.sameSite)switch(typeof b.sameSite=="string"?b.sameSite.toLowerCase():b.sameSite){case!0:case"strict":H+="; SameSite=Strict";break;case"lax":H+="; SameSite=Lax";break;case"none":H+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${b.sameSite}`)}return H}function _(T){if(T.indexOf("%")===-1)return T;try{return decodeURIComponent(T)}catch{return T}}function E(T){return o.call(T)==="[object Date]"}return ja}qT();/**
 * react-router v7.1.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var Jg="popstate";function KT(n={}){function e(i,o){let{pathname:a,search:c,hash:h}=i.location;return lf("",{pathname:a,search:c,hash:h},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function t(i,o){return typeof o=="string"?o:rl(o)}return QT(e,t,null,n)}function lt(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function Dr(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function GT(){return Math.random().toString(36).substring(2,10)}function Zg(n,e){return{usr:n.state,key:n.key,idx:e}}function lf(n,e,t=null,i){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof e=="string"?Ko(e):e,state:t,key:e&&e.key||i||GT()}}function rl({pathname:n="/",search:e="",hash:t=""}){return e&&e!=="?"&&(n+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(n+=t.charAt(0)==="#"?t:"#"+t),n}function Ko(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substring(t),n=n.substring(0,t));let i=n.indexOf("?");i>=0&&(e.search=n.substring(i),n=n.substring(0,i)),n&&(e.pathname=n)}return e}function QT(n,e,t,i={}){let{window:o=document.defaultView,v5Compat:a=!1}=i,c=o.history,h="POP",p=null,y=_();y==null&&(y=0,c.replaceState({...c.state,idx:y},""));function _(){return(c.state||{idx:null}).idx}function E(){h="POP";let D=_(),H=D==null?null:D-y;y=D,p&&p({action:h,location:M.location,delta:H})}function T(D,H){h="PUSH";let K=lf(M.location,D,H);y=_()+1;let Y=Zg(K,y),ie=M.createHref(K);try{c.pushState(Y,"",ie)}catch(ce){if(ce instanceof DOMException&&ce.name==="DataCloneError")throw ce;o.location.assign(ie)}a&&p&&p({action:h,location:M.location,delta:1})}function C(D,H){h="REPLACE";let K=lf(M.location,D,H);y=_();let Y=Zg(K,y),ie=M.createHref(K);c.replaceState(Y,"",ie),a&&p&&p({action:h,location:M.location,delta:0})}function b(D){let H=o.location.origin!=="null"?o.location.origin:o.location.href,K=typeof D=="string"?D:rl(D);return K=K.replace(/ $/,"%20"),lt(H,`No window.location.(origin|href) available to create URL for href: ${K}`),new URL(K,H)}let M={get action(){return h},get location(){return n(o,c)},listen(D){if(p)throw new Error("A history only accepts one active listener");return o.addEventListener(Jg,E),p=D,()=>{o.removeEventListener(Jg,E),p=null}},createHref(D){return e(o,D)},createURL:b,encodeLocation(D){let H=b(D);return{pathname:H.pathname,search:H.search,hash:H.hash}},push:T,replace:C,go(D){return c.go(D)}};return M}function Lv(n,e,t="/"){return YT(n,e,t,!1)}function YT(n,e,t,i){let o=typeof e=="string"?Ko(e):e,a=es(o.pathname||"/",t);if(a==null)return null;let c=Vv(n);XT(c);let h=null;for(let p=0;h==null&&p<c.length;++p){let y=lI(a);h=oI(c[p],y,i)}return h}function Vv(n,e=[],t=[],i=""){let o=(a,c,h)=>{let p={relativePath:h===void 0?a.path||"":h,caseSensitive:a.caseSensitive===!0,childrenIndex:c,route:a};p.relativePath.startsWith("/")&&(lt(p.relativePath.startsWith(i),`Absolute route path "${p.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),p.relativePath=p.relativePath.slice(i.length));let y=si([i,p.relativePath]),_=t.concat(p);a.children&&a.children.length>0&&(lt(a.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${y}".`),Vv(a.children,e,_,y)),!(a.path==null&&!a.index)&&e.push({path:y,score:iI(y,a.index),routesMeta:_})};return n.forEach((a,c)=>{var h;if(a.path===""||!((h=a.path)!=null&&h.includes("?")))o(a,c);else for(let p of Mv(a.path))o(a,c,p)}),e}function Mv(n){let e=n.split("/");if(e.length===0)return[];let[t,...i]=e,o=t.endsWith("?"),a=t.replace(/\?$/,"");if(i.length===0)return o?[a,""]:[a];let c=Mv(i.join("/")),h=[];return h.push(...c.map(p=>p===""?a:[a,p].join("/"))),o&&h.push(...c),h.map(p=>n.startsWith("/")&&p===""?"/":p)}function XT(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:sI(e.routesMeta.map(i=>i.childrenIndex),t.routesMeta.map(i=>i.childrenIndex)))}var JT=/^:[\w-]+$/,ZT=3,eI=2,tI=1,nI=10,rI=-2,ey=n=>n==="*";function iI(n,e){let t=n.split("/"),i=t.length;return t.some(ey)&&(i+=rI),e&&(i+=eI),t.filter(o=>!ey(o)).reduce((o,a)=>o+(JT.test(a)?ZT:a===""?tI:nI),i)}function sI(n,e){return n.length===e.length&&n.slice(0,-1).every((i,o)=>i===e[o])?n[n.length-1]-e[e.length-1]:0}function oI(n,e,t=!1){let{routesMeta:i}=n,o={},a="/",c=[];for(let h=0;h<i.length;++h){let p=i[h],y=h===i.length-1,_=a==="/"?e:e.slice(a.length)||"/",E=vc({path:p.relativePath,caseSensitive:p.caseSensitive,end:y},_),T=p.route;if(!E&&y&&t&&!i[i.length-1].route.index&&(E=vc({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},_)),!E)return null;Object.assign(o,E.params),c.push({params:o,pathname:si([a,E.pathname]),pathnameBase:hI(si([a,E.pathnameBase])),route:T}),E.pathnameBase!=="/"&&(a=si([a,E.pathnameBase]))}return c}function vc(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,i]=aI(n.path,n.caseSensitive,n.end),o=e.match(t);if(!o)return null;let a=o[0],c=a.replace(/(.)\/+$/,"$1"),h=o.slice(1);return{params:i.reduce((y,{paramName:_,isOptional:E},T)=>{if(_==="*"){let b=h[T]||"";c=a.slice(0,a.length-b.length).replace(/(.)\/+$/,"$1")}const C=h[T];return E&&!C?y[_]=void 0:y[_]=(C||"").replace(/%2F/g,"/"),y},{}),pathname:a,pathnameBase:c,pattern:n}}function aI(n,e=!1,t=!0){Dr(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let i=[],o="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,h,p)=>(i.push({paramName:h,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(i.push({paramName:"*"}),o+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?o+="\\/*$":n!==""&&n!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),i]}function lI(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Dr(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),n}}function es(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,i=n.charAt(t);return i&&i!=="/"?null:n.slice(t)||"/"}function uI(n,e="/"){let{pathname:t,search:i="",hash:o=""}=typeof n=="string"?Ko(n):n;return{pathname:t?t.startsWith("/")?t:cI(t,e):e,search:fI(i),hash:pI(o)}}function cI(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(o=>{o===".."?t.length>1&&t.pop():o!=="."&&t.push(o)}),t.length>1?t.join("/"):"/"}function Hh(n,e,t,i){return`Cannot include a '${n}' character in a manually specified \`to.${e}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function dI(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function Fv(n){let e=dI(n);return e.map((t,i)=>i===e.length-1?t.pathname:t.pathnameBase)}function Uv(n,e,t,i=!1){let o;typeof n=="string"?o=Ko(n):(o={...n},lt(!o.pathname||!o.pathname.includes("?"),Hh("?","pathname","search",o)),lt(!o.pathname||!o.pathname.includes("#"),Hh("#","pathname","hash",o)),lt(!o.search||!o.search.includes("#"),Hh("#","search","hash",o)));let a=n===""||o.pathname==="",c=a?"/":o.pathname,h;if(c==null)h=t;else{let E=e.length-1;if(!i&&c.startsWith("..")){let T=c.split("/");for(;T[0]==="..";)T.shift(),E-=1;o.pathname=T.join("/")}h=E>=0?e[E]:"/"}let p=uI(o,h),y=c&&c!=="/"&&c.endsWith("/"),_=(a||c===".")&&t.endsWith("/");return!p.pathname.endsWith("/")&&(y||_)&&(p.pathname+="/"),p}var si=n=>n.join("/").replace(/\/\/+/g,"/"),hI=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),fI=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,pI=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function mI(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}var jv=["POST","PUT","PATCH","DELETE"];new Set(jv);var gI=["GET",...jv];new Set(gI);var Go=A.createContext(null);Go.displayName="DataRouter";var $c=A.createContext(null);$c.displayName="DataRouterState";var zv=A.createContext({isTransitioning:!1});zv.displayName="ViewTransition";var yI=A.createContext(new Map);yI.displayName="Fetchers";var vI=A.createContext(null);vI.displayName="Await";var Mr=A.createContext(null);Mr.displayName="Navigation";var yl=A.createContext(null);yl.displayName="Location";var di=A.createContext({outlet:null,matches:[],isDataRoute:!1});di.displayName="Route";var Ff=A.createContext(null);Ff.displayName="RouteError";function _I(n,{relative:e}={}){lt(vl(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:i}=A.useContext(Mr),{hash:o,pathname:a,search:c}=_l(n,{relative:e}),h=a;return t!=="/"&&(h=a==="/"?t:si([t,a])),i.createHref({pathname:h,search:c,hash:o})}function vl(){return A.useContext(yl)!=null}function Us(){return lt(vl(),"useLocation() may be used only in the context of a <Router> component."),A.useContext(yl).location}var Bv="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function $v(n){A.useContext(Mr).static||A.useLayoutEffect(n)}function wI(){let{isDataRoute:n}=A.useContext(di);return n?DI():EI()}function EI(){lt(vl(),"useNavigate() may be used only in the context of a <Router> component.");let n=A.useContext(Go),{basename:e,navigator:t}=A.useContext(Mr),{matches:i}=A.useContext(di),{pathname:o}=Us(),a=JSON.stringify(Fv(i)),c=A.useRef(!1);return $v(()=>{c.current=!0}),A.useCallback((p,y={})=>{if(Dr(c.current,Bv),!c.current)return;if(typeof p=="number"){t.go(p);return}let _=Uv(p,JSON.parse(a),o,y.relative==="path");n==null&&e!=="/"&&(_.pathname=_.pathname==="/"?e:si([e,_.pathname])),(y.replace?t.replace:t.push)(_,y.state,y)},[e,t,a,o,n])}A.createContext(null);function _l(n,{relative:e}={}){let{matches:t}=A.useContext(di),{pathname:i}=Us(),o=JSON.stringify(Fv(t));return A.useMemo(()=>Uv(n,JSON.parse(o),i,e==="path"),[n,o,i,e])}function TI(n,e){return Hv(n,e)}function Hv(n,e,t,i){var H;lt(vl(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o}=A.useContext(Mr),{matches:a}=A.useContext(di),c=a[a.length-1],h=c?c.params:{},p=c?c.pathname:"/",y=c?c.pathnameBase:"/",_=c&&c.route;{let K=_&&_.path||"";Wv(p,!_||K.endsWith("*")||K.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${K}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${K}"> to <Route path="${K==="/"?"*":`${K}/*`}">.`)}let E=Us(),T;if(e){let K=typeof e=="string"?Ko(e):e;lt(y==="/"||((H=K.pathname)==null?void 0:H.startsWith(y)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${y}" but pathname "${K.pathname}" was given in the \`location\` prop.`),T=K}else T=E;let C=T.pathname||"/",b=C;if(y!=="/"){let K=y.replace(/^\//,"").split("/");b="/"+C.replace(/^\//,"").split("/").slice(K.length).join("/")}let M=Lv(n,{pathname:b});Dr(_||M!=null,`No routes matched location "${T.pathname}${T.search}${T.hash}" `),Dr(M==null||M[M.length-1].route.element!==void 0||M[M.length-1].route.Component!==void 0||M[M.length-1].route.lazy!==void 0,`Matched leaf route at location "${T.pathname}${T.search}${T.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let D=AI(M&&M.map(K=>Object.assign({},K,{params:Object.assign({},h,K.params),pathname:si([y,o.encodeLocation?o.encodeLocation(K.pathname).pathname:K.pathname]),pathnameBase:K.pathnameBase==="/"?y:si([y,o.encodeLocation?o.encodeLocation(K.pathnameBase).pathname:K.pathnameBase])})),a,t,i);return e&&D?A.createElement(yl.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...T},navigationType:"POP"}},D):D}function II(){let n=NI(),e=mI(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,i="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:i},a={padding:"2px 4px",backgroundColor:i},c=null;return console.error("Error handled by React Router default ErrorBoundary:",n),c=A.createElement(A.Fragment,null,A.createElement("p",null," Hey developer "),A.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",A.createElement("code",{style:a},"ErrorBoundary")," or"," ",A.createElement("code",{style:a},"errorElement")," prop on your route.")),A.createElement(A.Fragment,null,A.createElement("h2",null,"Unexpected Application Error!"),A.createElement("h3",{style:{fontStyle:"italic"}},e),t?A.createElement("pre",{style:o},t):null,c)}var SI=A.createElement(II,null),RI=class extends A.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,e){return e.location!==n.location||e.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:e.error,location:e.location,revalidation:n.revalidation||e.revalidation}}componentDidCatch(n,e){console.error("React Router caught the following error during render",n,e)}render(){return this.state.error!==void 0?A.createElement(di.Provider,{value:this.props.routeContext},A.createElement(Ff.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function CI({routeContext:n,match:e,children:t}){let i=A.useContext(Go);return i&&i.static&&i.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=e.route.id),A.createElement(di.Provider,{value:n},t)}function AI(n,e=[],t=null,i=null){if(n==null){if(!t)return null;if(t.errors)n=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let o=n,a=t==null?void 0:t.errors;if(a!=null){let p=o.findIndex(y=>y.route.id&&(a==null?void 0:a[y.route.id])!==void 0);lt(p>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(a).join(",")}`),o=o.slice(0,Math.min(o.length,p+1))}let c=!1,h=-1;if(t)for(let p=0;p<o.length;p++){let y=o[p];if((y.route.HydrateFallback||y.route.hydrateFallbackElement)&&(h=p),y.route.id){let{loaderData:_,errors:E}=t,T=y.route.loader&&!_.hasOwnProperty(y.route.id)&&(!E||E[y.route.id]===void 0);if(y.route.lazy||T){c=!0,h>=0?o=o.slice(0,h+1):o=[o[0]];break}}}return o.reduceRight((p,y,_)=>{let E,T=!1,C=null,b=null;t&&(E=a&&y.route.id?a[y.route.id]:void 0,C=y.route.errorElement||SI,c&&(h<0&&_===0?(Wv("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),T=!0,b=null):h===_&&(T=!0,b=y.route.hydrateFallbackElement||null)));let M=e.concat(o.slice(0,_+1)),D=()=>{let H;return E?H=C:T?H=b:y.route.Component?H=A.createElement(y.route.Component,null):y.route.element?H=y.route.element:H=p,A.createElement(CI,{match:y,routeContext:{outlet:p,matches:M,isDataRoute:t!=null},children:H})};return t&&(y.route.ErrorBoundary||y.route.errorElement||_===0)?A.createElement(RI,{location:t.location,revalidation:t.revalidation,component:C,error:E,children:D(),routeContext:{outlet:null,matches:M,isDataRoute:!0}}):D()},null)}function Uf(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function PI(n){let e=A.useContext(Go);return lt(e,Uf(n)),e}function kI(n){let e=A.useContext($c);return lt(e,Uf(n)),e}function xI(n){let e=A.useContext(di);return lt(e,Uf(n)),e}function jf(n){let e=xI(n),t=e.matches[e.matches.length-1];return lt(t.route.id,`${n} can only be used on routes that contain a unique "id"`),t.route.id}function bI(){return jf("useRouteId")}function NI(){var i;let n=A.useContext(Ff),e=kI("useRouteError"),t=jf("useRouteError");return n!==void 0?n:(i=e.errors)==null?void 0:i[t]}function DI(){let{router:n}=PI("useNavigate"),e=jf("useNavigate"),t=A.useRef(!1);return $v(()=>{t.current=!0}),A.useCallback(async(o,a={})=>{Dr(t.current,Bv),t.current&&(typeof o=="number"?n.navigate(o):await n.navigate(o,{fromRouteId:e,...a}))},[n,e])}var ty={};function Wv(n,e,t){!e&&!ty[n]&&(ty[n]=!0,Dr(!1,t))}A.memo(OI);function OI({routes:n,future:e,state:t}){return Hv(n,void 0,t,e)}function qv(n){lt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function LI({basename:n="/",children:e=null,location:t,navigationType:i="POP",navigator:o,static:a=!1}){lt(!vl(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let c=n.replace(/^\/*/,"/"),h=A.useMemo(()=>({basename:c,navigator:o,static:a,future:{}}),[c,o,a]);typeof t=="string"&&(t=Ko(t));let{pathname:p="/",search:y="",hash:_="",state:E=null,key:T="default"}=t,C=A.useMemo(()=>{let b=es(p,c);return b==null?null:{location:{pathname:b,search:y,hash:_,state:E,key:T},navigationType:i}},[c,p,y,_,E,T,i]);return Dr(C!=null,`<Router basename="${c}"> is not able to match the URL "${p}${y}${_}" because it does not start with the basename, so the <Router> won't render anything.`),C==null?null:A.createElement(Mr.Provider,{value:h},A.createElement(yl.Provider,{children:e,value:C}))}function VI({children:n,location:e}){return TI(uf(n),e)}function uf(n,e=[]){let t=[];return A.Children.forEach(n,(i,o)=>{if(!A.isValidElement(i))return;let a=[...e,o];if(i.type===A.Fragment){t.push.apply(t,uf(i.props.children,a));return}lt(i.type===qv,`[${typeof i.type=="string"?i.type:i.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),lt(!i.props.index||!i.props.children,"An index route cannot have child routes.");let c={id:i.props.id||a.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,loader:i.props.loader,action:i.props.action,hydrateFallbackElement:i.props.hydrateFallbackElement,HydrateFallback:i.props.HydrateFallback,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.hasErrorBoundary===!0||i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(c.children=uf(i.props.children,a)),t.push(c)}),t}var sc="get",oc="application/x-www-form-urlencoded";function Hc(n){return n!=null&&typeof n.tagName=="string"}function MI(n){return Hc(n)&&n.tagName.toLowerCase()==="button"}function FI(n){return Hc(n)&&n.tagName.toLowerCase()==="form"}function UI(n){return Hc(n)&&n.tagName.toLowerCase()==="input"}function jI(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function zI(n,e){return n.button===0&&(!e||e==="_self")&&!jI(n)}var Ku=null;function BI(){if(Ku===null)try{new FormData(document.createElement("form"),0),Ku=!1}catch{Ku=!0}return Ku}var $I=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Wh(n){return n!=null&&!$I.has(n)?(Dr(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${oc}"`),null):n}function HI(n,e){let t,i,o,a,c;if(FI(n)){let h=n.getAttribute("action");i=h?es(h,e):null,t=n.getAttribute("method")||sc,o=Wh(n.getAttribute("enctype"))||oc,a=new FormData(n)}else if(MI(n)||UI(n)&&(n.type==="submit"||n.type==="image")){let h=n.form;if(h==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=n.getAttribute("formaction")||h.getAttribute("action");if(i=p?es(p,e):null,t=n.getAttribute("formmethod")||h.getAttribute("method")||sc,o=Wh(n.getAttribute("formenctype"))||Wh(h.getAttribute("enctype"))||oc,a=new FormData(h,n),!BI()){let{name:y,type:_,value:E}=n;if(_==="image"){let T=y?`${y}.`:"";a.append(`${T}x`,"0"),a.append(`${T}y`,"0")}else y&&a.append(y,E)}}else{if(Hc(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=sc,i=null,o=oc,c=n}return a&&o==="text/plain"&&(c=a,a=void 0),{action:i,method:t.toLowerCase(),encType:o,formData:a,body:c}}function zf(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}async function WI(n,e){if(n.id in e)return e[n.id];try{let t=await import(n.module);return e[n.id]=t,t}catch(t){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function qI(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function KI(n,e,t){let i=await Promise.all(n.map(async o=>{let a=e.routes[o.route.id];if(a){let c=await WI(a,t);return c.links?c.links():[]}return[]}));return XI(i.flat(1).filter(qI).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function ny(n,e,t,i,o,a){let c=(p,y)=>t[y]?p.route.id!==t[y].route.id:!0,h=(p,y)=>{var _;return t[y].pathname!==p.pathname||((_=t[y].route.path)==null?void 0:_.endsWith("*"))&&t[y].params["*"]!==p.params["*"]};return a==="assets"?e.filter((p,y)=>c(p,y)||h(p,y)):a==="data"?e.filter((p,y)=>{var E;let _=i.routes[p.route.id];if(!_||!_.hasLoader)return!1;if(c(p,y)||h(p,y))return!0;if(p.route.shouldRevalidate){let T=p.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:((E=t[0])==null?void 0:E.params)||{},nextUrl:new URL(n,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof T=="boolean")return T}return!0}):[]}function GI(n,e){return QI(n.map(t=>{let i=e.routes[t.route.id];if(!i)return[];let o=[i.module];return i.imports&&(o=o.concat(i.imports)),o}).flat(1))}function QI(n){return[...new Set(n)]}function YI(n){let e={},t=Object.keys(n).sort();for(let i of t)e[i]=n[i];return e}function XI(n,e){let t=new Set;return new Set(e),n.reduce((i,o)=>{let a=JSON.stringify(YI(o));return t.has(a)||(t.add(a),i.push({key:a,link:o})),i},[])}function JI(n){let e=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return e.pathname==="/"?e.pathname="_root.data":e.pathname=`${e.pathname.replace(/\/$/,"")}.data`,e}function ZI(){let n=A.useContext(Go);return zf(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function eS(){let n=A.useContext($c);return zf(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var Bf=A.createContext(void 0);Bf.displayName="FrameworkContext";function Kv(){let n=A.useContext(Bf);return zf(n,"You must render this element inside a <HydratedRouter> element"),n}function tS(n,e){let t=A.useContext(Bf),[i,o]=A.useState(!1),[a,c]=A.useState(!1),{onFocus:h,onBlur:p,onMouseEnter:y,onMouseLeave:_,onTouchStart:E}=e,T=A.useRef(null);A.useEffect(()=>{if(n==="render"&&c(!0),n==="viewport"){let M=H=>{H.forEach(K=>{c(K.isIntersecting)})},D=new IntersectionObserver(M,{threshold:.5});return T.current&&D.observe(T.current),()=>{D.disconnect()}}},[n]),A.useEffect(()=>{if(i){let M=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(M)}}},[i]);let C=()=>{o(!0)},b=()=>{o(!1),c(!1)};return t?n!=="intent"?[a,T,{}]:[a,T,{onFocus:za(h,C),onBlur:za(p,b),onMouseEnter:za(y,C),onMouseLeave:za(_,b),onTouchStart:za(E,C)}]:[!1,T,{}]}function za(n,e){return t=>{n&&n(t),t.defaultPrevented||e(t)}}function nS({page:n,...e}){let{router:t}=ZI(),i=A.useMemo(()=>Lv(t.routes,n,t.basename),[t.routes,n,t.basename]);return i?A.createElement(iS,{page:n,matches:i,...e}):null}function rS(n){let{manifest:e,routeModules:t}=Kv(),[i,o]=A.useState([]);return A.useEffect(()=>{let a=!1;return KI(n,e,t).then(c=>{a||o(c)}),()=>{a=!0}},[n,e,t]),i}function iS({page:n,matches:e,...t}){let i=Us(),{manifest:o,routeModules:a}=Kv(),{loaderData:c,matches:h}=eS(),p=A.useMemo(()=>ny(n,e,h,o,i,"data"),[n,e,h,o,i]),y=A.useMemo(()=>ny(n,e,h,o,i,"assets"),[n,e,h,o,i]),_=A.useMemo(()=>{if(n===i.pathname+i.search+i.hash)return[];let C=new Set,b=!1;if(e.forEach(D=>{var K;let H=o.routes[D.route.id];!H||!H.hasLoader||(!p.some(Y=>Y.route.id===D.route.id)&&D.route.id in c&&((K=a[D.route.id])!=null&&K.shouldRevalidate)||H.hasClientLoader?b=!0:C.add(D.route.id))}),C.size===0)return[];let M=JI(n);return b&&C.size>0&&M.searchParams.set("_routes",e.filter(D=>C.has(D.route.id)).map(D=>D.route.id).join(",")),[M.pathname+M.search]},[c,i,o,p,e,n,a]),E=A.useMemo(()=>GI(y,o),[y,o]),T=rS(y);return A.createElement(A.Fragment,null,_.map(C=>A.createElement("link",{key:C,rel:"prefetch",as:"fetch",href:C,...t})),E.map(C=>A.createElement("link",{key:C,rel:"modulepreload",href:C,...t})),T.map(({key:C,link:b})=>A.createElement("link",{key:C,...b})))}function sS(...n){return e=>{n.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var Gv=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Gv&&(window.__reactRouterVersion="7.1.2")}catch{}function oS({basename:n,children:e,window:t}){let i=A.useRef();i.current==null&&(i.current=KT({window:t,v5Compat:!0}));let o=i.current,[a,c]=A.useState({action:o.action,location:o.location}),h=A.useCallback(p=>{A.startTransition(()=>c(p))},[c]);return A.useLayoutEffect(()=>o.listen(h),[o,h]),A.createElement(LI,{basename:n,children:e,location:a.location,navigationType:a.action,navigator:o})}var Qv=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Yv=A.forwardRef(function({onClick:e,discover:t="render",prefetch:i="none",relative:o,reloadDocument:a,replace:c,state:h,target:p,to:y,preventScrollReset:_,viewTransition:E,...T},C){let{basename:b}=A.useContext(Mr),M=typeof y=="string"&&Qv.test(y),D,H=!1;if(typeof y=="string"&&M&&(D=y,Gv))try{let R=new URL(window.location.href),N=y.startsWith("//")?new URL(R.protocol+y):new URL(y),O=es(N.pathname,b);N.origin===R.origin&&O!=null?y=O+N.search+N.hash:H=!0}catch{Dr(!1,`<Link to="${y}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let K=_I(y,{relative:o}),[Y,ie,ce]=tS(i,T),ue=cS(y,{replace:c,state:h,target:p,preventScrollReset:_,relative:o,viewTransition:E});function x(R){e&&e(R),R.defaultPrevented||ue(R)}let S=A.createElement("a",{...T,...ce,href:D||K,onClick:H||a?e:x,ref:sS(C,ie),target:p,"data-discover":!M&&t==="render"?"true":void 0});return Y&&!M?A.createElement(A.Fragment,null,S,A.createElement(nS,{page:K})):S});Yv.displayName="Link";var aS=A.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:i="",end:o=!1,style:a,to:c,viewTransition:h,children:p,...y},_){let E=_l(c,{relative:y.relative}),T=Us(),C=A.useContext($c),{navigator:b,basename:M}=A.useContext(Mr),D=C!=null&&mS(E)&&h===!0,H=b.encodeLocation?b.encodeLocation(E).pathname:E.pathname,K=T.pathname,Y=C&&C.navigation&&C.navigation.location?C.navigation.location.pathname:null;t||(K=K.toLowerCase(),Y=Y?Y.toLowerCase():null,H=H.toLowerCase()),Y&&M&&(Y=es(Y,M)||Y);const ie=H!=="/"&&H.endsWith("/")?H.length-1:H.length;let ce=K===H||!o&&K.startsWith(H)&&K.charAt(ie)==="/",ue=Y!=null&&(Y===H||!o&&Y.startsWith(H)&&Y.charAt(H.length)==="/"),x={isActive:ce,isPending:ue,isTransitioning:D},S=ce?e:void 0,R;typeof i=="function"?R=i(x):R=[i,ce?"active":null,ue?"pending":null,D?"transitioning":null].filter(Boolean).join(" ");let N=typeof a=="function"?a(x):a;return A.createElement(Yv,{...y,"aria-current":S,className:R,ref:_,style:N,to:c,viewTransition:h},typeof p=="function"?p(x):p)});aS.displayName="NavLink";var lS=A.forwardRef(({discover:n="render",fetcherKey:e,navigate:t,reloadDocument:i,replace:o,state:a,method:c=sc,action:h,onSubmit:p,relative:y,preventScrollReset:_,viewTransition:E,...T},C)=>{let b=fS(),M=pS(h,{relative:y}),D=c.toLowerCase()==="get"?"get":"post",H=typeof h=="string"&&Qv.test(h),K=Y=>{if(p&&p(Y),Y.defaultPrevented)return;Y.preventDefault();let ie=Y.nativeEvent.submitter,ce=(ie==null?void 0:ie.getAttribute("formmethod"))||c;b(ie||Y.currentTarget,{fetcherKey:e,method:ce,navigate:t,replace:o,state:a,relative:y,preventScrollReset:_,viewTransition:E})};return A.createElement("form",{ref:C,method:D,action:M,onSubmit:i?p:K,...T,"data-discover":!H&&n==="render"?"true":void 0})});lS.displayName="Form";function uS(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Xv(n){let e=A.useContext(Go);return lt(e,uS(n)),e}function cS(n,{target:e,replace:t,state:i,preventScrollReset:o,relative:a,viewTransition:c}={}){let h=wI(),p=Us(),y=_l(n,{relative:a});return A.useCallback(_=>{if(zI(_,e)){_.preventDefault();let E=t!==void 0?t:rl(p)===rl(y);h(n,{replace:E,state:i,preventScrollReset:o,relative:a,viewTransition:c})}},[p,h,y,t,i,e,n,o,a,c])}var dS=0,hS=()=>`__${String(++dS)}__`;function fS(){let{router:n}=Xv("useSubmit"),{basename:e}=A.useContext(Mr),t=bI();return A.useCallback(async(i,o={})=>{let{action:a,method:c,encType:h,formData:p,body:y}=HI(i,e);if(o.navigate===!1){let _=o.fetcherKey||hS();await n.fetch(_,t,o.action||a,{preventScrollReset:o.preventScrollReset,formData:p,body:y,formMethod:o.method||c,formEncType:o.encType||h,flushSync:o.flushSync})}else await n.navigate(o.action||a,{preventScrollReset:o.preventScrollReset,formData:p,body:y,formMethod:o.method||c,formEncType:o.encType||h,replace:o.replace,state:o.state,fromRouteId:t,flushSync:o.flushSync,viewTransition:o.viewTransition})},[n,e,t])}function pS(n,{relative:e}={}){let{basename:t}=A.useContext(Mr),i=A.useContext(di);lt(i,"useFormAction must be used inside a RouteContext");let[o]=i.matches.slice(-1),a={..._l(n||".",{relative:e})},c=Us();if(n==null){a.search=c.search;let h=new URLSearchParams(a.search),p=h.getAll("index");if(p.some(_=>_==="")){h.delete("index"),p.filter(E=>E).forEach(E=>h.append("index",E));let _=h.toString();a.search=_?`?${_}`:""}}return(!n||n===".")&&o.route.index&&(a.search=a.search?a.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(a.pathname=a.pathname==="/"?t:si([t,a.pathname])),rl(a)}function mS(n,e={}){let t=A.useContext(zv);lt(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=Xv("useViewTransitionState"),o=_l(n,{relative:e.relative});if(!t.isTransitioning)return!1;let a=es(t.currentLocation.pathname,i)||t.currentLocation.pathname,c=es(t.nextLocation.pathname,i)||t.nextLocation.pathname;return vc(o.pathname,c)!=null||vc(o.pathname,a)!=null}new TextEncoder;var ry={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jv=function(n){const e=[];let t=0;for(let i=0;i<n.length;i++){let o=n.charCodeAt(i);o<128?e[t++]=o:o<2048?(e[t++]=o>>6|192,e[t++]=o&63|128):(o&64512)===55296&&i+1<n.length&&(n.charCodeAt(i+1)&64512)===56320?(o=65536+((o&1023)<<10)+(n.charCodeAt(++i)&1023),e[t++]=o>>18|240,e[t++]=o>>12&63|128,e[t++]=o>>6&63|128,e[t++]=o&63|128):(e[t++]=o>>12|224,e[t++]=o>>6&63|128,e[t++]=o&63|128)}return e},gS=function(n){const e=[];let t=0,i=0;for(;t<n.length;){const o=n[t++];if(o<128)e[i++]=String.fromCharCode(o);else if(o>191&&o<224){const a=n[t++];e[i++]=String.fromCharCode((o&31)<<6|a&63)}else if(o>239&&o<365){const a=n[t++],c=n[t++],h=n[t++],p=((o&7)<<18|(a&63)<<12|(c&63)<<6|h&63)-65536;e[i++]=String.fromCharCode(55296+(p>>10)),e[i++]=String.fromCharCode(56320+(p&1023))}else{const a=n[t++],c=n[t++];e[i++]=String.fromCharCode((o&15)<<12|(a&63)<<6|c&63)}}return e.join("")},Zv={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let o=0;o<n.length;o+=3){const a=n[o],c=o+1<n.length,h=c?n[o+1]:0,p=o+2<n.length,y=p?n[o+2]:0,_=a>>2,E=(a&3)<<4|h>>4;let T=(h&15)<<2|y>>6,C=y&63;p||(C=64,c||(T=64)),i.push(t[_],t[E],t[T],t[C])}return i.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(Jv(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):gS(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let o=0;o<n.length;){const a=t[n.charAt(o++)],h=o<n.length?t[n.charAt(o)]:0;++o;const y=o<n.length?t[n.charAt(o)]:64;++o;const E=o<n.length?t[n.charAt(o)]:64;if(++o,a==null||h==null||y==null||E==null)throw new yS;const T=a<<2|h>>4;if(i.push(T),y!==64){const C=h<<4&240|y>>2;if(i.push(C),E!==64){const b=y<<6&192|E;i.push(b)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class yS extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const vS=function(n){const e=Jv(n);return Zv.encodeByteArray(e,!0)},_c=function(n){return vS(n).replace(/\./g,"")},e_=function(n){try{return Zv.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _S(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wS=()=>_S().__FIREBASE_DEFAULTS__,ES=()=>{if(typeof process>"u"||typeof ry>"u")return;const n=ry.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},TS=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&e_(n[1]);return e&&JSON.parse(e)},Wc=()=>{try{return wS()||ES()||TS()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},t_=n=>{var e,t;return(t=(e=Wc())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},IS=n=>{const e=t_(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const i=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),i]:[e.substring(0,t),i]},n_=()=>{var n;return(n=Wc())===null||n===void 0?void 0:n.config},r_=n=>{var e;return(e=Wc())===null||e===void 0?void 0:e[`_${n}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SS{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,i)=>{t?this.reject(t):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,i))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RS(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},i=e||"demo-project",o=n.iat||0,a=n.sub||n.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c=Object.assign({iss:`https://securetoken.google.com/${i}`,aud:i,iat:o,exp:o+3600,auth_time:o,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}}},n);return[_c(JSON.stringify(t)),_c(JSON.stringify(c)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function CS(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(rn())}function AS(){var n;const e=(n=Wc())===null||n===void 0?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function PS(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function kS(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function xS(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function bS(){const n=rn();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function NS(){return!AS()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function DS(){try{return typeof indexedDB=="object"}catch{return!1}}function OS(){return new Promise((n,e)=>{try{let t=!0;const i="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(i);o.onsuccess=()=>{o.result.close(),t||self.indexedDB.deleteDatabase(i),n(!0)},o.onupgradeneeded=()=>{t=!1},o.onerror=()=>{var a;e(((a=o.error)===null||a===void 0?void 0:a.message)||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LS="FirebaseError";class hi extends Error{constructor(e,t,i){super(t),this.code=e,this.customData=i,this.name=LS,Object.setPrototypeOf(this,hi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,wl.prototype.create)}}class wl{constructor(e,t,i){this.service=e,this.serviceName=t,this.errors=i}create(e,...t){const i=t[0]||{},o=`${this.service}/${e}`,a=this.errors[e],c=a?VS(a,i):"Error",h=`${this.serviceName}: ${c} (${o}).`;return new hi(o,h,i)}}function VS(n,e){return n.replace(MS,(t,i)=>{const o=e[i];return o!=null?String(o):`<${i}?>`})}const MS=/\{\$([^}]+)}/g;function FS(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function wc(n,e){if(n===e)return!0;const t=Object.keys(n),i=Object.keys(e);for(const o of t){if(!i.includes(o))return!1;const a=n[o],c=e[o];if(iy(a)&&iy(c)){if(!wc(a,c))return!1}else if(a!==c)return!1}for(const o of i)if(!t.includes(o))return!1;return!0}function iy(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function El(n){const e=[];for(const[t,i]of Object.entries(n))Array.isArray(i)?i.forEach(o=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}function $a(n){const e={};return n.replace(/^\?/,"").split("&").forEach(i=>{if(i){const[o,a]=i.split("=");e[decodeURIComponent(o)]=decodeURIComponent(a)}}),e}function Ha(n){const e=n.indexOf("?");if(!e)return"";const t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}function US(n,e){const t=new jS(n,e);return t.subscribe.bind(t)}class jS{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,i){let o;if(e===void 0&&t===void 0&&i===void 0)throw new Error("Missing Observer.");zS(e,["next","error","complete"])?o=e:o={next:e,error:t,complete:i},o.next===void 0&&(o.next=qh),o.error===void 0&&(o.error=qh),o.complete===void 0&&(o.complete=qh);const a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),a}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function zS(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function qh(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function On(n){return n&&n._delegate?n._delegate:n}class Vs{constructor(e,t,i){this.name=e,this.instanceFactory=t,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Os="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BS{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const i=new SS;if(this.instancesDeferred.set(t,i),this.isInitialized(t)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:t});o&&i.resolve(o)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const i=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),o=(t=e==null?void 0:e.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(a){if(o)return null;throw a}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(HS(e))try{this.getOrInitializeService({instanceIdentifier:Os})}catch{}for(const[t,i]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(t);try{const a=this.getOrInitializeService({instanceIdentifier:o});i.resolve(a)}catch{}}}}clearInstance(e=Os){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Os){return this.instances.has(e)}getOptions(e=Os){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:i,options:t});for(const[a,c]of this.instancesDeferred.entries()){const h=this.normalizeInstanceIdentifier(a);i===h&&c.resolve(o)}return o}onInit(e,t){var i;const o=this.normalizeInstanceIdentifier(t),a=(i=this.onInitCallbacks.get(o))!==null&&i!==void 0?i:new Set;a.add(e),this.onInitCallbacks.set(o,a);const c=this.instances.get(o);return c&&e(c,o),()=>{a.delete(e)}}invokeOnInitCallbacks(e,t){const i=this.onInitCallbacks.get(t);if(i)for(const o of i)try{o(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:$S(e),options:t}),this.instances.set(e,i),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=Os){return this.component?this.component.multipleInstances?e:Os:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function $S(n){return n===Os?void 0:n}function HS(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WS{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new BS(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Le;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(Le||(Le={}));const qS={debug:Le.DEBUG,verbose:Le.VERBOSE,info:Le.INFO,warn:Le.WARN,error:Le.ERROR,silent:Le.SILENT},KS=Le.INFO,GS={[Le.DEBUG]:"log",[Le.VERBOSE]:"log",[Le.INFO]:"info",[Le.WARN]:"warn",[Le.ERROR]:"error"},QS=(n,e,...t)=>{if(e<n.logLevel)return;const i=new Date().toISOString(),o=GS[e];if(o)console[o](`[${i}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class $f{constructor(e){this.name=e,this._logLevel=KS,this._logHandler=QS,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Le))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?qS[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Le.DEBUG,...e),this._logHandler(this,Le.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Le.VERBOSE,...e),this._logHandler(this,Le.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Le.INFO,...e),this._logHandler(this,Le.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Le.WARN,...e),this._logHandler(this,Le.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Le.ERROR,...e),this._logHandler(this,Le.ERROR,...e)}}const YS=(n,e)=>e.some(t=>n instanceof t);let sy,oy;function XS(){return sy||(sy=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function JS(){return oy||(oy=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const i_=new WeakMap,cf=new WeakMap,s_=new WeakMap,Kh=new WeakMap,Hf=new WeakMap;function ZS(n){const e=new Promise((t,i)=>{const o=()=>{n.removeEventListener("success",a),n.removeEventListener("error",c)},a=()=>{t(Ki(n.result)),o()},c=()=>{i(n.error),o()};n.addEventListener("success",a),n.addEventListener("error",c)});return e.then(t=>{t instanceof IDBCursor&&i_.set(t,n)}).catch(()=>{}),Hf.set(e,n),e}function e0(n){if(cf.has(n))return;const e=new Promise((t,i)=>{const o=()=>{n.removeEventListener("complete",a),n.removeEventListener("error",c),n.removeEventListener("abort",c)},a=()=>{t(),o()},c=()=>{i(n.error||new DOMException("AbortError","AbortError")),o()};n.addEventListener("complete",a),n.addEventListener("error",c),n.addEventListener("abort",c)});cf.set(n,e)}let df={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return cf.get(n);if(e==="objectStoreNames")return n.objectStoreNames||s_.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Ki(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function t0(n){df=n(df)}function n0(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const i=n.call(Gh(this),e,...t);return s_.set(i,e.sort?e.sort():[e]),Ki(i)}:JS().includes(n)?function(...e){return n.apply(Gh(this),e),Ki(i_.get(this))}:function(...e){return Ki(n.apply(Gh(this),e))}}function r0(n){return typeof n=="function"?n0(n):(n instanceof IDBTransaction&&e0(n),YS(n,XS())?new Proxy(n,df):n)}function Ki(n){if(n instanceof IDBRequest)return ZS(n);if(Kh.has(n))return Kh.get(n);const e=r0(n);return e!==n&&(Kh.set(n,e),Hf.set(e,n)),e}const Gh=n=>Hf.get(n);function i0(n,e,{blocked:t,upgrade:i,blocking:o,terminated:a}={}){const c=indexedDB.open(n,e),h=Ki(c);return i&&c.addEventListener("upgradeneeded",p=>{i(Ki(c.result),p.oldVersion,p.newVersion,Ki(c.transaction),p)}),t&&c.addEventListener("blocked",p=>t(p.oldVersion,p.newVersion,p)),h.then(p=>{a&&p.addEventListener("close",()=>a()),o&&p.addEventListener("versionchange",y=>o(y.oldVersion,y.newVersion,y))}).catch(()=>{}),h}const s0=["get","getKey","getAll","getAllKeys","count"],o0=["put","add","delete","clear"],Qh=new Map;function ay(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(Qh.get(e))return Qh.get(e);const t=e.replace(/FromIndex$/,""),i=e!==t,o=o0.includes(t);if(!(t in(i?IDBIndex:IDBObjectStore).prototype)||!(o||s0.includes(t)))return;const a=async function(c,...h){const p=this.transaction(c,o?"readwrite":"readonly");let y=p.store;return i&&(y=y.index(h.shift())),(await Promise.all([y[t](...h),o&&p.done]))[0]};return Qh.set(e,a),a}t0(n=>({...n,get:(e,t,i)=>ay(e,t)||n.get(e,t,i),has:(e,t)=>!!ay(e,t)||n.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a0{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(l0(t)){const i=t.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(t=>t).join(" ")}}function l0(n){const e=n.getComponent();return(e==null?void 0:e.type)==="VERSION"}const hf="@firebase/app",ly="0.10.18";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ai=new $f("@firebase/app"),u0="@firebase/app-compat",c0="@firebase/analytics-compat",d0="@firebase/analytics",h0="@firebase/app-check-compat",f0="@firebase/app-check",p0="@firebase/auth",m0="@firebase/auth-compat",g0="@firebase/database",y0="@firebase/data-connect",v0="@firebase/database-compat",_0="@firebase/functions",w0="@firebase/functions-compat",E0="@firebase/installations",T0="@firebase/installations-compat",I0="@firebase/messaging",S0="@firebase/messaging-compat",R0="@firebase/performance",C0="@firebase/performance-compat",A0="@firebase/remote-config",P0="@firebase/remote-config-compat",k0="@firebase/storage",x0="@firebase/storage-compat",b0="@firebase/firestore",N0="@firebase/vertexai",D0="@firebase/firestore-compat",O0="firebase",L0="11.2.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ff="[DEFAULT]",V0={[hf]:"fire-core",[u0]:"fire-core-compat",[d0]:"fire-analytics",[c0]:"fire-analytics-compat",[f0]:"fire-app-check",[h0]:"fire-app-check-compat",[p0]:"fire-auth",[m0]:"fire-auth-compat",[g0]:"fire-rtdb",[y0]:"fire-data-connect",[v0]:"fire-rtdb-compat",[_0]:"fire-fn",[w0]:"fire-fn-compat",[E0]:"fire-iid",[T0]:"fire-iid-compat",[I0]:"fire-fcm",[S0]:"fire-fcm-compat",[R0]:"fire-perf",[C0]:"fire-perf-compat",[A0]:"fire-rc",[P0]:"fire-rc-compat",[k0]:"fire-gcs",[x0]:"fire-gcs-compat",[b0]:"fire-fst",[D0]:"fire-fst-compat",[N0]:"fire-vertex","fire-js":"fire-js",[O0]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ec=new Map,M0=new Map,pf=new Map;function uy(n,e){try{n.container.addComponent(e)}catch(t){ai.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function Fo(n){const e=n.name;if(pf.has(e))return ai.debug(`There were multiple attempts to register component ${e}.`),!1;pf.set(e,n);for(const t of Ec.values())uy(t,n);for(const t of M0.values())uy(t,n);return!0}function Wf(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function ti(n){return n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F0={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Gi=new wl("app","Firebase",F0);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U0{constructor(e,t,i){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new Vs("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Gi.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qo=L0;function o_(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const i=Object.assign({name:ff,automaticDataCollectionEnabled:!1},e),o=i.name;if(typeof o!="string"||!o)throw Gi.create("bad-app-name",{appName:String(o)});if(t||(t=n_()),!t)throw Gi.create("no-options");const a=Ec.get(o);if(a){if(wc(t,a.options)&&wc(i,a.config))return a;throw Gi.create("duplicate-app",{appName:o})}const c=new WS(o);for(const p of pf.values())c.addComponent(p);const h=new U0(t,i,c);return Ec.set(o,h),h}function a_(n=ff){const e=Ec.get(n);if(!e&&n===ff&&n_())return o_();if(!e)throw Gi.create("no-app",{appName:n});return e}function Qi(n,e,t){var i;let o=(i=V0[n])!==null&&i!==void 0?i:n;t&&(o+=`-${t}`);const a=o.match(/\s|\//),c=e.match(/\s|\//);if(a||c){const h=[`Unable to register library "${o}" with version "${e}":`];a&&h.push(`library name "${o}" contains illegal characters (whitespace or "/")`),a&&c&&h.push("and"),c&&h.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ai.warn(h.join(" "));return}Fo(new Vs(`${o}-version`,()=>({library:o,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j0="firebase-heartbeat-database",z0=1,il="firebase-heartbeat-store";let Yh=null;function l_(){return Yh||(Yh=i0(j0,z0,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(il)}catch(t){console.warn(t)}}}}).catch(n=>{throw Gi.create("idb-open",{originalErrorMessage:n.message})})),Yh}async function B0(n){try{const t=(await l_()).transaction(il),i=await t.objectStore(il).get(u_(n));return await t.done,i}catch(e){if(e instanceof hi)ai.warn(e.message);else{const t=Gi.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});ai.warn(t.message)}}}async function cy(n,e){try{const i=(await l_()).transaction(il,"readwrite");await i.objectStore(il).put(e,u_(n)),await i.done}catch(t){if(t instanceof hi)ai.warn(t.message);else{const i=Gi.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});ai.warn(i.message)}}}function u_(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $0=1024,H0=30*24*60*60*1e3;class W0{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new K0(t),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){var e,t;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=dy();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(c=>c.date===a)?void 0:(this._heartbeatsCache.heartbeats.push({date:a,agent:o}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(c=>{const h=new Date(c.date).valueOf();return Date.now()-h<=H0}),this._storage.overwrite(this._heartbeatsCache))}catch(i){ai.warn(i)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=dy(),{heartbeatsToSend:i,unsentEntries:o}=q0(this._heartbeatsCache.heartbeats),a=_c(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=t,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(t){return ai.warn(t),""}}}function dy(){return new Date().toISOString().substring(0,10)}function q0(n,e=$0){const t=[];let i=n.slice();for(const o of n){const a=t.find(c=>c.agent===o.agent);if(a){if(a.dates.push(o.date),hy(t)>e){a.dates.pop();break}}else if(t.push({agent:o.agent,dates:[o.date]}),hy(t)>e){t.pop();break}i=i.slice(1)}return{heartbeatsToSend:t,unsentEntries:i}}class K0{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return DS()?OS().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await B0(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const o=await this.read();return cy(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const o=await this.read();return cy(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}else return}}function hy(n){return _c(JSON.stringify({version:2,heartbeats:n})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function G0(n){Fo(new Vs("platform-logger",e=>new a0(e),"PRIVATE")),Fo(new Vs("heartbeat",e=>new W0(e),"PRIVATE")),Qi(hf,ly,n),Qi(hf,ly,"esm2017"),Qi("fire-js","")}G0("");function qf(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,i=Object.getOwnPropertySymbols(n);o<i.length;o++)e.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(n,i[o])&&(t[i[o]]=n[i[o]]);return t}function c_(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const Q0=c_,d_=new wl("auth","Firebase",c_());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tc=new $f("@firebase/auth");function Y0(n,...e){Tc.logLevel<=Le.WARN&&Tc.warn(`Auth (${Qo}): ${n}`,...e)}function ac(n,...e){Tc.logLevel<=Le.ERROR&&Tc.error(`Auth (${Qo}): ${n}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fr(n,...e){throw Kf(n,...e)}function kr(n,...e){return Kf(n,...e)}function h_(n,e,t){const i=Object.assign(Object.assign({},Q0()),{[e]:t});return new wl("auth","Firebase",i).create(e,{appName:n.name})}function Yi(n){return h_(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Kf(n,...e){if(typeof n!="string"){const t=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=n.name),n._errorFactory.create(t,...i)}return d_.create(n,...e)}function Se(n,e,...t){if(!n)throw Kf(e,...t)}function ni(n){const e="INTERNAL ASSERTION FAILED: "+n;throw ac(e),new Error(e)}function li(n,e){n||ni(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mf(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function X0(){return fy()==="http:"||fy()==="https:"}function fy(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function J0(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(X0()||kS()||"connection"in navigator)?navigator.onLine:!0}function Z0(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tl{constructor(e,t){this.shortDelay=e,this.longDelay=t,li(t>e,"Short delay should be less than long delay!"),this.isMobile=CS()||xS()}get(){return J0()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gf(n,e){li(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f_{static initialize(e,t,i){this.fetchImpl=e,t&&(this.headersImpl=t),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ni("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ni("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ni("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eR={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tR=new Tl(3e4,6e4);function js(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}async function os(n,e,t,i,o={}){return p_(n,o,async()=>{let a={},c={};i&&(e==="GET"?c=i:a={body:JSON.stringify(i)});const h=El(Object.assign({key:n.config.apiKey},c)).slice(1),p=await n._getAdditionalHeaders();p["Content-Type"]="application/json",n.languageCode&&(p["X-Firebase-Locale"]=n.languageCode);const y=Object.assign({method:e,headers:p},a);return PS()||(y.referrerPolicy="no-referrer"),f_.fetch()(m_(n,n.config.apiHost,t,h),y)})}async function p_(n,e,t){n._canInitEmulator=!1;const i=Object.assign(Object.assign({},eR),e);try{const o=new rR(n),a=await Promise.race([t(),o.promise]);o.clearNetworkTimeout();const c=await a.json();if("needConfirmation"in c)throw Gu(n,"account-exists-with-different-credential",c);if(a.ok&&!("errorMessage"in c))return c;{const h=a.ok?c.errorMessage:c.error.message,[p,y]=h.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw Gu(n,"credential-already-in-use",c);if(p==="EMAIL_EXISTS")throw Gu(n,"email-already-in-use",c);if(p==="USER_DISABLED")throw Gu(n,"user-disabled",c);const _=i[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(y)throw h_(n,_,y);fr(n,_)}}catch(o){if(o instanceof hi)throw o;fr(n,"network-request-failed",{message:String(o)})}}async function qc(n,e,t,i,o={}){const a=await os(n,e,t,i,o);return"mfaPendingCredential"in a&&fr(n,"multi-factor-auth-required",{_serverResponse:a}),a}function m_(n,e,t,i){const o=`${e}${t}?${i}`;return n.config.emulator?Gf(n.config,o):`${n.config.apiScheme}://${o}`}function nR(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class rR{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,i)=>{this.timer=setTimeout(()=>i(kr(this.auth,"network-request-failed")),tR.get())})}}function Gu(n,e,t){const i={appName:n.name};t.email&&(i.email=t.email),t.phoneNumber&&(i.phoneNumber=t.phoneNumber);const o=kr(n,e,i);return o.customData._tokenResponse=t,o}function py(n){return n!==void 0&&n.enterprise!==void 0}class iR{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return nR(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function sR(n,e){return os(n,"GET","/v2/recaptchaConfig",js(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oR(n,e){return os(n,"POST","/v1/accounts:delete",e)}async function g_(n,e){return os(n,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qa(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function aR(n,e=!1){const t=On(n),i=await t.getIdToken(e),o=Qf(i);Se(o&&o.exp&&o.auth_time&&o.iat,t.auth,"internal-error");const a=typeof o.firebase=="object"?o.firebase:void 0,c=a==null?void 0:a.sign_in_provider;return{claims:o,token:i,authTime:Qa(Xh(o.auth_time)),issuedAtTime:Qa(Xh(o.iat)),expirationTime:Qa(Xh(o.exp)),signInProvider:c||null,signInSecondFactor:(a==null?void 0:a.sign_in_second_factor)||null}}function Xh(n){return Number(n)*1e3}function Qf(n){const[e,t,i]=n.split(".");if(e===void 0||t===void 0||i===void 0)return ac("JWT malformed, contained fewer than 3 sections"),null;try{const o=e_(t);return o?JSON.parse(o):(ac("Failed to decode base64 JWT payload"),null)}catch(o){return ac("Caught error parsing JWT payload as JSON",o==null?void 0:o.toString()),null}}function my(n){const e=Qf(n);return Se(e,"internal-error"),Se(typeof e.exp<"u","internal-error"),Se(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sl(n,e,t=!1){if(t)return e;try{return await e}catch(i){throw i instanceof hi&&lR(i)&&n.auth.currentUser===n&&await n.auth.signOut(),i}}function lR({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uR{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const o=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,o)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gf{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Qa(this.lastLoginAt),this.creationTime=Qa(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ic(n){var e;const t=n.auth,i=await n.getIdToken(),o=await sl(n,g_(t,{idToken:i}));Se(o==null?void 0:o.users.length,t,"internal-error");const a=o.users[0];n._notifyReloadListener(a);const c=!((e=a.providerUserInfo)===null||e===void 0)&&e.length?y_(a.providerUserInfo):[],h=dR(n.providerData,c),p=n.isAnonymous,y=!(n.email&&a.passwordHash)&&!(h!=null&&h.length),_=p?y:!1,E={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:h,metadata:new gf(a.createdAt,a.lastLoginAt),isAnonymous:_};Object.assign(n,E)}async function cR(n){const e=On(n);await Ic(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function dR(n,e){return[...n.filter(i=>!e.some(o=>o.providerId===i.providerId)),...e]}function y_(n){return n.map(e=>{var{providerId:t}=e,i=qf(e,["providerId"]);return{providerId:t,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hR(n,e){const t=await p_(n,{},async()=>{const i=El({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:a}=n.config,c=m_(n,o,"/v1/token",`key=${a}`),h=await n._getAdditionalHeaders();return h["Content-Type"]="application/x-www-form-urlencoded",f_.fetch()(c,{method:"POST",headers:h,body:i})});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function fR(n,e){return os(n,"POST","/v2/accounts:revokeToken",js(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Do{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Se(e.idToken,"internal-error"),Se(typeof e.idToken<"u","internal-error"),Se(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):my(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Se(e.length!==0,"internal-error");const t=my(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(Se(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:i,refreshToken:o,expiresIn:a}=await hR(e,t);this.updateTokensAndExpiration(i,o,Number(a))}updateTokensAndExpiration(e,t,i){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(e,t){const{refreshToken:i,accessToken:o,expirationTime:a}=t,c=new Do;return i&&(Se(typeof i=="string","internal-error",{appName:e}),c.refreshToken=i),o&&(Se(typeof o=="string","internal-error",{appName:e}),c.accessToken=o),a&&(Se(typeof a=="number","internal-error",{appName:e}),c.expirationTime=a),c}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Do,this.toJSON())}_performRefresh(){return ni("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ji(n,e){Se(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class ri{constructor(e){var{uid:t,auth:i,stsTokenManager:o}=e,a=qf(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new uR(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=i,this.stsTokenManager=o,this.accessToken=o.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new gf(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(e){const t=await sl(this,this.stsTokenManager.getToken(this.auth,e));return Se(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return aR(this,e)}reload(){return cR(this)}_assign(e){this!==e&&(Se(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new ri(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){Se(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let i=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),i=!0),t&&await Ic(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(ti(this.auth.app))return Promise.reject(Yi(this.auth));const e=await this.getIdToken();return await sl(this,oR(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var i,o,a,c,h,p,y,_;const E=(i=t.displayName)!==null&&i!==void 0?i:void 0,T=(o=t.email)!==null&&o!==void 0?o:void 0,C=(a=t.phoneNumber)!==null&&a!==void 0?a:void 0,b=(c=t.photoURL)!==null&&c!==void 0?c:void 0,M=(h=t.tenantId)!==null&&h!==void 0?h:void 0,D=(p=t._redirectEventId)!==null&&p!==void 0?p:void 0,H=(y=t.createdAt)!==null&&y!==void 0?y:void 0,K=(_=t.lastLoginAt)!==null&&_!==void 0?_:void 0,{uid:Y,emailVerified:ie,isAnonymous:ce,providerData:ue,stsTokenManager:x}=t;Se(Y&&x,e,"internal-error");const S=Do.fromJSON(this.name,x);Se(typeof Y=="string",e,"internal-error"),ji(E,e.name),ji(T,e.name),Se(typeof ie=="boolean",e,"internal-error"),Se(typeof ce=="boolean",e,"internal-error"),ji(C,e.name),ji(b,e.name),ji(M,e.name),ji(D,e.name),ji(H,e.name),ji(K,e.name);const R=new ri({uid:Y,auth:e,email:T,emailVerified:ie,displayName:E,isAnonymous:ce,photoURL:b,phoneNumber:C,tenantId:M,stsTokenManager:S,createdAt:H,lastLoginAt:K});return ue&&Array.isArray(ue)&&(R.providerData=ue.map(N=>Object.assign({},N))),D&&(R._redirectEventId=D),R}static async _fromIdTokenResponse(e,t,i=!1){const o=new Do;o.updateFromServerResponse(t);const a=new ri({uid:t.localId,auth:e,stsTokenManager:o,isAnonymous:i});return await Ic(a),a}static async _fromGetAccountInfoResponse(e,t,i){const o=t.users[0];Se(o.localId!==void 0,"internal-error");const a=o.providerUserInfo!==void 0?y_(o.providerUserInfo):[],c=!(o.email&&o.passwordHash)&&!(a!=null&&a.length),h=new Do;h.updateFromIdToken(i);const p=new ri({uid:o.localId,auth:e,stsTokenManager:h,isAnonymous:c}),y={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new gf(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!(a!=null&&a.length)};return Object.assign(p,y),p}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gy=new Map;function ii(n){li(n instanceof Function,"Expected a class definition");let e=gy.get(n);return e?(li(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,gy.set(n,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v_{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}v_.type="NONE";const yy=v_;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lc(n,e,t){return`firebase:${n}:${e}:${t}`}class Oo{constructor(e,t,i){this.persistence=e,this.auth=t,this.userKey=i;const{config:o,name:a}=this.auth;this.fullUserKey=lc(this.userKey,o.apiKey,a),this.fullPersistenceKey=lc("persistence",o.apiKey,a),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?ri._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,i="authUser"){if(!t.length)return new Oo(ii(yy),e,i);const o=(await Promise.all(t.map(async y=>{if(await y._isAvailable())return y}))).filter(y=>y);let a=o[0]||ii(yy);const c=lc(i,e.config.apiKey,e.name);let h=null;for(const y of t)try{const _=await y._get(c);if(_){const E=ri._fromJSON(e,_);y!==a&&(h=E),a=y;break}}catch{}const p=o.filter(y=>y._shouldAllowMigration);return!a._shouldAllowMigration||!p.length?new Oo(a,e,i):(a=p[0],h&&await a._set(c,h.toJSON()),await Promise.all(t.map(async y=>{if(y!==a)try{await y._remove(c)}catch{}})),new Oo(a,e,i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vy(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(T_(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(__(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(S_(e))return"Blackberry";if(R_(e))return"Webos";if(w_(e))return"Safari";if((e.includes("chrome/")||E_(e))&&!e.includes("edge/"))return"Chrome";if(I_(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=n.match(t);if((i==null?void 0:i.length)===2)return i[1]}return"Other"}function __(n=rn()){return/firefox\//i.test(n)}function w_(n=rn()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function E_(n=rn()){return/crios\//i.test(n)}function T_(n=rn()){return/iemobile/i.test(n)}function I_(n=rn()){return/android/i.test(n)}function S_(n=rn()){return/blackberry/i.test(n)}function R_(n=rn()){return/webos/i.test(n)}function Yf(n=rn()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function pR(n=rn()){var e;return Yf(n)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function mR(){return bS()&&document.documentMode===10}function C_(n=rn()){return Yf(n)||I_(n)||R_(n)||S_(n)||/windows phone/i.test(n)||T_(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function A_(n,e=[]){let t;switch(n){case"Browser":t=vy(rn());break;case"Worker":t=`${vy(rn())}-${n}`;break;default:t=n}const i=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${Qo}/${i}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gR{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const i=a=>new Promise((c,h)=>{try{const p=e(a);c(p)}catch(p){h(p)}});i.onAbort=t,this.queue.push(i);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const i of this.queue)await i(e),i.onAbort&&t.push(i.onAbort)}catch(i){t.reverse();for(const o of t)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i==null?void 0:i.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yR(n,e={}){return os(n,"GET","/v2/passwordPolicy",js(n,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vR=6;class _R{constructor(e){var t,i,o,a;const c=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=c.minPasswordLength)!==null&&t!==void 0?t:vR,c.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=c.maxPasswordLength),c.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=c.containsLowercaseCharacter),c.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=c.containsUppercaseCharacter),c.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=c.containsNumericCharacter),c.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=c.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(o=(i=e.allowedNonAlphanumericCharacters)===null||i===void 0?void 0:i.join(""))!==null&&o!==void 0?o:"",this.forceUpgradeOnSignin=(a=e.forceUpgradeOnSignin)!==null&&a!==void 0?a:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,i,o,a,c,h;const p={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,p),this.validatePasswordCharacterOptions(e,p),p.isValid&&(p.isValid=(t=p.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),p.isValid&&(p.isValid=(i=p.meetsMaxPasswordLength)!==null&&i!==void 0?i:!0),p.isValid&&(p.isValid=(o=p.containsLowercaseLetter)!==null&&o!==void 0?o:!0),p.isValid&&(p.isValid=(a=p.containsUppercaseLetter)!==null&&a!==void 0?a:!0),p.isValid&&(p.isValid=(c=p.containsNumericCharacter)!==null&&c!==void 0?c:!0),p.isValid&&(p.isValid=(h=p.containsNonAlphanumericCharacter)!==null&&h!==void 0?h:!0),p}validatePasswordLengthOptions(e,t){const i=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;i&&(t.meetsMinPasswordLength=e.length>=i),o&&(t.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let i;for(let o=0;o<e.length;o++)i=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(t,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(e,t,i,o,a){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wR{constructor(e,t,i,o){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=i,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new _y(this),this.idTokenSubscription=new _y(this),this.beforeStateQueue=new gR(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=d_,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=ii(t)),this._initializationPromise=this.queue(async()=>{var i,o;if(!this._deleted&&(this.persistenceManager=await Oo.create(this,e),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((o=this.currentUser)===null||o===void 0?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await g_(this,{idToken:e}),i=await ri._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(i)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(ti(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(h=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(h,h))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let o=i,a=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,h=o==null?void 0:o._redirectEventId,p=await this.tryRedirectSignIn(e);(!c||c===h)&&(p!=null&&p.user)&&(o=p.user,a=!0)}if(!o)return this.directlySetCurrentUser(null);if(!o._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(o)}catch(c){o=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return o?this.reloadAndSetCurrentUserOrClear(o):this.directlySetCurrentUser(null)}return Se(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===o._redirectEventId?this.directlySetCurrentUser(o):this.reloadAndSetCurrentUserOrClear(o)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await Ic(e)}catch(t){if((t==null?void 0:t.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=Z0()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(ti(this.app))return Promise.reject(Yi(this));const t=e?On(e):null;return t&&Se(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&Se(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return ti(this.app)?Promise.reject(Yi(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return ti(this.app)?Promise.reject(Yi(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ii(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await yR(this),t=new _R(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new wl("auth","Firebase",e())}onAuthStateChanged(e,t,i){return this.registerStateListener(this.authStateSubscription,e,t,i)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,i){return this.registerStateListener(this.idTokenSubscription,e,t,i)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const i=this.onAuthStateChanged(()=>{i(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(i.tenantId=this.tenantId),await fR(this,i)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,t){const i=await this.getOrInitRedirectPersistenceManager(t);return e===null?i.removeCurrentUser():i.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&ii(e)||this._popupRedirectResolver;Se(t,this,"argument-error"),this.redirectPersistenceManager=await Oo.create(this,[ii(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,i;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((i=this.redirectUser)===null||i===void 0?void 0:i._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const i=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==i&&(this.lastNotifiedUid=i,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,i,o){if(this._deleted)return()=>{};const a=typeof t=="function"?t:t.next.bind(t);let c=!1;const h=this._isInitialized?Promise.resolve():this._initializationPromise;if(Se(h,this,"internal-error"),h.then(()=>{c||a(this.currentUser)}),typeof t=="function"){const p=e.addObserver(t,i,o);return()=>{c=!0,p()}}else{const p=e.addObserver(t);return()=>{c=!0,p()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Se(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=A_(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const i=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());i&&(t["X-Firebase-Client"]=i);const o=await this._getAppCheckToken();return o&&(t["X-Firebase-AppCheck"]=o),t}async _getAppCheckToken(){var e;const t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return t!=null&&t.error&&Y0(`Error while retrieving App Check token: ${t.error}`),t==null?void 0:t.token}}function Yo(n){return On(n)}class _y{constructor(e){this.auth=e,this.observer=null,this.addObserver=US(t=>this.observer=t)}get next(){return Se(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Kc={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function ER(n){Kc=n}function P_(n){return Kc.loadJS(n)}function TR(){return Kc.recaptchaEnterpriseScript}function IR(){return Kc.gapiScript}function SR(n){return`__${n}${Math.floor(Math.random()*1e6)}`}class RR{constructor(){this.enterprise=new CR}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class CR{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const AR="recaptcha-enterprise",k_="NO_RECAPTCHA";class PR{constructor(e){this.type=AR,this.auth=Yo(e)}async verify(e="verify",t=!1){async function i(a){if(!t){if(a.tenantId==null&&a._agentRecaptchaConfig!=null)return a._agentRecaptchaConfig.siteKey;if(a.tenantId!=null&&a._tenantRecaptchaConfigs[a.tenantId]!==void 0)return a._tenantRecaptchaConfigs[a.tenantId].siteKey}return new Promise(async(c,h)=>{sR(a,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(p=>{if(p.recaptchaKey===void 0)h(new Error("recaptcha Enterprise site key undefined"));else{const y=new iR(p);return a.tenantId==null?a._agentRecaptchaConfig=y:a._tenantRecaptchaConfigs[a.tenantId]=y,c(y.siteKey)}}).catch(p=>{h(p)})})}function o(a,c,h){const p=window.grecaptcha;py(p)?p.enterprise.ready(()=>{p.enterprise.execute(a,{action:e}).then(y=>{c(y)}).catch(()=>{c(k_)})}):h(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new RR().execute("siteKey",{action:"verify"}):new Promise((a,c)=>{i(this.auth).then(h=>{if(!t&&py(window.grecaptcha))o(h,a,c);else{if(typeof window>"u"){c(new Error("RecaptchaVerifier is only supported in browser"));return}let p=TR();p.length!==0&&(p+=h),P_(p).then(()=>{o(h,a,c)}).catch(y=>{c(y)})}}).catch(h=>{c(h)})})}}async function wy(n,e,t,i=!1,o=!1){const a=new PR(n);let c;if(o)c=k_;else try{c=await a.verify(t)}catch{c=await a.verify(t,!0)}const h=Object.assign({},e);if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in h){const p=h.phoneEnrollmentInfo.phoneNumber,y=h.phoneEnrollmentInfo.recaptchaToken;Object.assign(h,{phoneEnrollmentInfo:{phoneNumber:p,recaptchaToken:y,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in h){const p=h.phoneSignInInfo.recaptchaToken;Object.assign(h,{phoneSignInInfo:{recaptchaToken:p,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return h}return i?Object.assign(h,{captchaResp:c}):Object.assign(h,{captchaResponse:c}),Object.assign(h,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(h,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),h}async function Ey(n,e,t,i,o){var a;if(!((a=n._getRecaptchaConfig())===null||a===void 0)&&a.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const c=await wy(n,e,t,t==="getOobCode");return i(n,c)}else return i(n,e).catch(async c=>{if(c.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const h=await wy(n,e,t,t==="getOobCode");return i(n,h)}else return Promise.reject(c)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kR(n,e){const t=Wf(n,"auth");if(t.isInitialized()){const o=t.getImmediate(),a=t.getOptions();if(wc(a,e??{}))return o;fr(o,"already-initialized")}return t.initialize({options:e})}function xR(n,e){const t=(e==null?void 0:e.persistence)||[],i=(Array.isArray(t)?t:[t]).map(ii);e!=null&&e.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(i,e==null?void 0:e.popupRedirectResolver)}function bR(n,e,t){const i=Yo(n);Se(i._canInitEmulator,i,"emulator-config-failed"),Se(/^https?:\/\//.test(e),i,"invalid-emulator-scheme");const o=!1,a=x_(e),{host:c,port:h}=NR(e),p=h===null?"":`:${h}`;i.config.emulator={url:`${a}//${c}${p}/`},i.settings.appVerificationDisabledForTesting=!0,i.emulatorConfig=Object.freeze({host:c,port:h,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:o})}),DR()}function x_(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function NR(n){const e=x_(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const i=t[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(i);if(o){const a=o[1];return{host:a,port:Ty(i.substr(a.length+1))}}else{const[a,c]=i.split(":");return{host:a,port:Ty(c)}}}function Ty(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function DR(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xf{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return ni("not implemented")}_getIdTokenResponse(e){return ni("not implemented")}_linkToIdToken(e,t){return ni("not implemented")}_getReauthenticationResolver(e){return ni("not implemented")}}async function OR(n,e){return os(n,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function LR(n,e){return qc(n,"POST","/v1/accounts:signInWithPassword",js(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function VR(n,e){return qc(n,"POST","/v1/accounts:signInWithEmailLink",js(n,e))}async function MR(n,e){return qc(n,"POST","/v1/accounts:signInWithEmailLink",js(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ol extends Xf{constructor(e,t,i,o=null){super("password",i),this._email=e,this._password=t,this._tenantId=o}static _fromEmailAndPassword(e,t){return new ol(e,t,"password")}static _fromEmailAndCode(e,t,i=null){return new ol(e,t,"emailLink",i)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t!=null&&t.email&&(t!=null&&t.password)){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Ey(e,t,"signInWithPassword",LR);case"emailLink":return VR(e,{email:this._email,oobCode:this._password});default:fr(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const i={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Ey(e,i,"signUpPassword",OR);case"emailLink":return MR(e,{idToken:t,email:this._email,oobCode:this._password});default:fr(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Lo(n,e){return qc(n,"POST","/v1/accounts:signInWithIdp",js(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FR="http://localhost";class Ms extends Xf{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Ms(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):fr("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:i,signInMethod:o}=t,a=qf(t,["providerId","signInMethod"]);if(!i||!o)return null;const c=new Ms(i,o);return c.idToken=a.idToken||void 0,c.accessToken=a.accessToken||void 0,c.secret=a.secret,c.nonce=a.nonce,c.pendingToken=a.pendingToken||null,c}_getIdTokenResponse(e){const t=this.buildRequest();return Lo(e,t)}_linkToIdToken(e,t){const i=this.buildRequest();return i.idToken=t,Lo(e,i)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Lo(e,t)}buildRequest(){const e={requestUri:FR,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=El(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UR(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function jR(n){const e=$a(Ha(n)).link,t=e?$a(Ha(e)).deep_link_id:null,i=$a(Ha(n)).deep_link_id;return(i?$a(Ha(i)).link:null)||i||t||e||n}class Jf{constructor(e){var t,i,o,a,c,h;const p=$a(Ha(e)),y=(t=p.apiKey)!==null&&t!==void 0?t:null,_=(i=p.oobCode)!==null&&i!==void 0?i:null,E=UR((o=p.mode)!==null&&o!==void 0?o:null);Se(y&&_&&E,"argument-error"),this.apiKey=y,this.operation=E,this.code=_,this.continueUrl=(a=p.continueUrl)!==null&&a!==void 0?a:null,this.languageCode=(c=p.languageCode)!==null&&c!==void 0?c:null,this.tenantId=(h=p.tenantId)!==null&&h!==void 0?h:null}static parseLink(e){const t=jR(e);try{return new Jf(t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xo{constructor(){this.providerId=Xo.PROVIDER_ID}static credential(e,t){return ol._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const i=Jf.parseLink(t);return Se(i,"argument-error"),ol._fromEmailAndCode(e,i.code,i.tenantId)}}Xo.PROVIDER_ID="password";Xo.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Xo.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b_{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Il extends b_{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bi extends Il{constructor(){super("facebook.com")}static credential(e){return Ms._fromParams({providerId:Bi.PROVIDER_ID,signInMethod:Bi.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Bi.credentialFromTaggedObject(e)}static credentialFromError(e){return Bi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Bi.credential(e.oauthAccessToken)}catch{return null}}}Bi.FACEBOOK_SIGN_IN_METHOD="facebook.com";Bi.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $i extends Il{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Ms._fromParams({providerId:$i.PROVIDER_ID,signInMethod:$i.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return $i.credentialFromTaggedObject(e)}static credentialFromError(e){return $i.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:i}=e;if(!t&&!i)return null;try{return $i.credential(t,i)}catch{return null}}}$i.GOOGLE_SIGN_IN_METHOD="google.com";$i.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hi extends Il{constructor(){super("github.com")}static credential(e){return Ms._fromParams({providerId:Hi.PROVIDER_ID,signInMethod:Hi.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Hi.credentialFromTaggedObject(e)}static credentialFromError(e){return Hi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Hi.credential(e.oauthAccessToken)}catch{return null}}}Hi.GITHUB_SIGN_IN_METHOD="github.com";Hi.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wi extends Il{constructor(){super("twitter.com")}static credential(e,t){return Ms._fromParams({providerId:Wi.PROVIDER_ID,signInMethod:Wi.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return Wi.credentialFromTaggedObject(e)}static credentialFromError(e){return Wi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:i}=e;if(!t||!i)return null;try{return Wi.credential(t,i)}catch{return null}}}Wi.TWITTER_SIGN_IN_METHOD="twitter.com";Wi.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uo{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,i,o=!1){const a=await ri._fromIdTokenResponse(e,i,o),c=Iy(i);return new Uo({user:a,providerId:c,_tokenResponse:i,operationType:t})}static async _forOperation(e,t,i){await e._updateTokensIfNecessary(i,!0);const o=Iy(i);return new Uo({user:e,providerId:o,_tokenResponse:i,operationType:t})}}function Iy(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sc extends hi{constructor(e,t,i,o){var a;super(t.code,t.message),this.operationType=i,this.user=o,Object.setPrototypeOf(this,Sc.prototype),this.customData={appName:e.name,tenantId:(a=e.tenantId)!==null&&a!==void 0?a:void 0,_serverResponse:t.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(e,t,i,o){return new Sc(e,t,i,o)}}function N_(n,e,t,i){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(a=>{throw a.code==="auth/multi-factor-auth-required"?Sc._fromErrorAndOperation(n,a,e,i):a})}async function zR(n,e,t=!1){const i=await sl(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return Uo._forOperation(n,"link",i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function BR(n,e,t=!1){const{auth:i}=n;if(ti(i.app))return Promise.reject(Yi(i));const o="reauthenticate";try{const a=await sl(n,N_(i,o,e,n),t);Se(a.idToken,i,"internal-error");const c=Qf(a.idToken);Se(c,i,"internal-error");const{sub:h}=c;return Se(n.uid===h,i,"user-mismatch"),Uo._forOperation(n,o,a)}catch(a){throw(a==null?void 0:a.code)==="auth/user-not-found"&&fr(i,"user-mismatch"),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function D_(n,e,t=!1){if(ti(n.app))return Promise.reject(Yi(n));const i="signIn",o=await N_(n,i,e),a=await Uo._fromIdTokenResponse(n,i,o);return t||await n._updateCurrentUser(a.user),a}async function $R(n,e){return D_(Yo(n),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function HR(n){const e=Yo(n);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}function WR(n,e,t){return ti(n.app)?Promise.reject(Yi(n)):$R(On(n),Xo.credential(e,t)).catch(async i=>{throw i.code==="auth/password-does-not-meet-requirements"&&HR(n),i})}function qR(n,e,t,i){return On(n).onIdTokenChanged(e,t,i)}function KR(n,e,t){return On(n).beforeAuthStateChanged(e,t)}function GR(n,e,t,i){return On(n).onAuthStateChanged(e,t,i)}const Rc="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O_{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Rc,"1"),this.storage.removeItem(Rc),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QR=1e3,YR=10;class L_ extends O_{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=C_(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const i=this.storage.getItem(t),o=this.localCache[t];i!==o&&e(t,o,i)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((c,h,p)=>{this.notifyListeners(c,p)});return}const i=e.key;t?this.detachListener():this.stopPolling();const o=()=>{const c=this.storage.getItem(i);!t&&this.localCache[i]===c||this.notifyListeners(i,c)},a=this.storage.getItem(i);mR()&&a!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,YR):o()}notifyListeners(e,t){this.localCache[e]=t;const i=this.listeners[e];if(i)for(const o of Array.from(i))o(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:i}),!0)})},QR)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}L_.type="LOCAL";const XR=L_;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V_ extends O_{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}V_.type="SESSION";const M_=V_;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JR(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gc{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(o=>o.isListeningto(e));if(t)return t;const i=new Gc(e);return this.receivers.push(i),i}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:i,eventType:o,data:a}=t.data,c=this.handlersMap[o];if(!(c!=null&&c.size))return;t.ports[0].postMessage({status:"ack",eventId:i,eventType:o});const h=Array.from(c).map(async y=>y(t.origin,a)),p=await JR(h);t.ports[0].postMessage({status:"done",eventId:i,eventType:o,response:p})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Gc.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zf(n="",e=10){let t="";for(let i=0;i<e;i++)t+=Math.floor(Math.random()*10);return n+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZR{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,i=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let a,c;return new Promise((h,p)=>{const y=Zf("",20);o.port1.start();const _=setTimeout(()=>{p(new Error("unsupported_event"))},i);c={messageChannel:o,onMessage(E){const T=E;if(T.data.eventId===y)switch(T.data.status){case"ack":clearTimeout(_),a=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(a),h(T.data.response);break;default:clearTimeout(_),clearTimeout(a),p(new Error("invalid_response"));break}}},this.handlers.add(c),o.port1.addEventListener("message",c.onMessage),this.target.postMessage({eventType:e,eventId:y,data:t},[o.port2])}).finally(()=>{c&&this.removeMessageHandler(c)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xr(){return window}function eC(n){xr().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function F_(){return typeof xr().WorkerGlobalScope<"u"&&typeof xr().importScripts=="function"}async function tC(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function nC(){var n;return((n=navigator==null?void 0:navigator.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function rC(){return F_()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U_="firebaseLocalStorageDb",iC=1,Cc="firebaseLocalStorage",j_="fbase_key";class Sl{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function Qc(n,e){return n.transaction([Cc],e?"readwrite":"readonly").objectStore(Cc)}function sC(){const n=indexedDB.deleteDatabase(U_);return new Sl(n).toPromise()}function yf(){const n=indexedDB.open(U_,iC);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const i=n.result;try{i.createObjectStore(Cc,{keyPath:j_})}catch(o){t(o)}}),n.addEventListener("success",async()=>{const i=n.result;i.objectStoreNames.contains(Cc)?e(i):(i.close(),await sC(),e(await yf()))})})}async function Sy(n,e,t){const i=Qc(n,!0).put({[j_]:e,value:t});return new Sl(i).toPromise()}async function oC(n,e){const t=Qc(n,!1).get(e),i=await new Sl(t).toPromise();return i===void 0?null:i.value}function Ry(n,e){const t=Qc(n,!0).delete(e);return new Sl(t).toPromise()}const aC=800,lC=3;class z_{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await yf(),this.db)}async _withRetries(e){let t=0;for(;;)try{const i=await this._openDb();return await e(i)}catch(i){if(t++>lC)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return F_()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Gc._getInstance(rC()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await tC(),!this.activeServiceWorker)return;this.sender=new ZR(this.activeServiceWorker);const i=await this.sender._send("ping",{},800);i&&!((e=i[0])===null||e===void 0)&&e.fulfilled&&!((t=i[0])===null||t===void 0)&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||nC()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await yf();return await Sy(e,Rc,"1"),await Ry(e,Rc),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(i=>Sy(i,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(i=>oC(i,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>Ry(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const a=Qc(o,!1).getAll();return new Sl(a).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],i=new Set;if(e.length!==0)for(const{fbase_key:o,value:a}of e)i.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(a)&&(this.notifyListeners(o,a),t.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!i.has(o)&&(this.notifyListeners(o,null),t.push(o));return t}notifyListeners(e,t){this.localCache[e]=t;const i=this.listeners[e];if(i)for(const o of Array.from(i))o(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),aC)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}z_.type="LOCAL";const uC=z_;new Tl(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cC(n,e){return e?ii(e):(Se(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ep extends Xf{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Lo(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Lo(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Lo(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function dC(n){return D_(n.auth,new ep(n),n.bypassAuthState)}function hC(n){const{auth:e,user:t}=n;return Se(t,e,"internal-error"),BR(t,new ep(n),n.bypassAuthState)}async function fC(n){const{auth:e,user:t}=n;return Se(t,e,"internal-error"),zR(t,new ep(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B_{constructor(e,t,i,o,a=!1){this.auth=e,this.resolver=i,this.user=o,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:i,postBody:o,tenantId:a,error:c,type:h}=e;if(c){this.reject(c);return}const p={auth:this.auth,requestUri:t,sessionId:i,tenantId:a||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(h)(p))}catch(y){this.reject(y)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return dC;case"linkViaPopup":case"linkViaRedirect":return fC;case"reauthViaPopup":case"reauthViaRedirect":return hC;default:fr(this.auth,"internal-error")}}resolve(e){li(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){li(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pC=new Tl(2e3,1e4);class No extends B_{constructor(e,t,i,o,a){super(e,t,o,a),this.provider=i,this.authWindow=null,this.pollId=null,No.currentPopupAction&&No.currentPopupAction.cancel(),No.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Se(e,this.auth,"internal-error"),e}async onExecution(){li(this.filter.length===1,"Popup operations only handle one event");const e=Zf();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(kr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(kr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,No.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,i;if(!((i=(t=this.authWindow)===null||t===void 0?void 0:t.window)===null||i===void 0)&&i.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(kr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,pC.get())};e()}}No.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mC="pendingRedirect",uc=new Map;class gC extends B_{constructor(e,t,i=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,i),this.eventId=null}async execute(){let e=uc.get(this.auth._key());if(!e){try{const i=await yC(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(i)}catch(t){e=()=>Promise.reject(t)}uc.set(this.auth._key(),e)}return this.bypassAuthState||uc.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function yC(n,e){const t=wC(e),i=_C(n);if(!await i._isAvailable())return!1;const o=await i._get(t)==="true";return await i._remove(t),o}function vC(n,e){uc.set(n._key(),e)}function _C(n){return ii(n._redirectPersistence)}function wC(n){return lc(mC,n.config.apiKey,n.name)}async function EC(n,e,t=!1){if(ti(n.app))return Promise.reject(Yi(n));const i=Yo(n),o=cC(i,e),c=await new gC(i,o,t).execute();return c&&!t&&(delete c.user._redirectEventId,await i._persistUserIfCurrent(c.user),await i._setRedirectUser(null,e)),c}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TC=10*60*1e3;class IC{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(e,i)&&(t=!0,this.sendToConsumer(e,i),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!SC(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var i;if(e.error&&!$_(e)){const o=((i=e.error.code)===null||i===void 0?void 0:i.split("auth/")[1])||"internal-error";t.onError(kr(this.auth,o))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const i=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&i}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=TC&&this.cachedEventUids.clear(),this.cachedEventUids.has(Cy(e))}saveEventToCache(e){this.cachedEventUids.add(Cy(e)),this.lastProcessedEventTime=Date.now()}}function Cy(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function $_({type:n,error:e}){return n==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function SC(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return $_(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function RC(n,e={}){return os(n,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CC=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,AC=/^https?/;async function PC(n){if(n.config.emulator)return;const{authorizedDomains:e}=await RC(n);for(const t of e)try{if(kC(t))return}catch{}fr(n,"unauthorized-domain")}function kC(n){const e=mf(),{protocol:t,hostname:i}=new URL(e);if(n.startsWith("chrome-extension://")){const c=new URL(n);return c.hostname===""&&i===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&c.hostname===i}if(!AC.test(t))return!1;if(CC.test(n))return i===n;const o=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(i)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xC=new Tl(3e4,6e4);function Ay(){const n=xr().___jsl;if(n!=null&&n.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function bC(n){return new Promise((e,t)=>{var i,o,a;function c(){Ay(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Ay(),t(kr(n,"network-request-failed"))},timeout:xC.get()})}if(!((o=(i=xr().gapi)===null||i===void 0?void 0:i.iframes)===null||o===void 0)&&o.Iframe)e(gapi.iframes.getContext());else if(!((a=xr().gapi)===null||a===void 0)&&a.load)c();else{const h=SR("iframefcb");return xr()[h]=()=>{gapi.load?c():t(kr(n,"network-request-failed"))},P_(`${IR()}?onload=${h}`).catch(p=>t(p))}}).catch(e=>{throw cc=null,e})}let cc=null;function NC(n){return cc=cc||bC(n),cc}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DC=new Tl(5e3,15e3),OC="__/auth/iframe",LC="emulator/auth/iframe",VC={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},MC=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function FC(n){const e=n.config;Se(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?Gf(e,LC):`https://${n.config.authDomain}/${OC}`,i={apiKey:e.apiKey,appName:n.name,v:Qo},o=MC.get(n.config.apiHost);o&&(i.eid=o);const a=n._getFrameworks();return a.length&&(i.fw=a.join(",")),`${t}?${El(i).slice(1)}`}async function UC(n){const e=await NC(n),t=xr().gapi;return Se(t,n,"internal-error"),e.open({where:document.body,url:FC(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:VC,dontclear:!0},i=>new Promise(async(o,a)=>{await i.restyle({setHideOnLeave:!1});const c=kr(n,"network-request-failed"),h=xr().setTimeout(()=>{a(c)},DC.get());function p(){xr().clearTimeout(h),o(i)}i.ping(p).then(p,()=>{a(c)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jC={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},zC=500,BC=600,$C="_blank",HC="http://localhost";class Py{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function WC(n,e,t,i=zC,o=BC){const a=Math.max((window.screen.availHeight-o)/2,0).toString(),c=Math.max((window.screen.availWidth-i)/2,0).toString();let h="";const p=Object.assign(Object.assign({},jC),{width:i.toString(),height:o.toString(),top:a,left:c}),y=rn().toLowerCase();t&&(h=E_(y)?$C:t),__(y)&&(e=e||HC,p.scrollbars="yes");const _=Object.entries(p).reduce((T,[C,b])=>`${T}${C}=${b},`,"");if(pR(y)&&h!=="_self")return qC(e||"",h),new Py(null);const E=window.open(e||"",h,_);Se(E,n,"popup-blocked");try{E.focus()}catch{}return new Py(E)}function qC(n,e){const t=document.createElement("a");t.href=n,t.target=e;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KC="__/auth/handler",GC="emulator/auth/handler",QC=encodeURIComponent("fac");async function ky(n,e,t,i,o,a){Se(n.config.authDomain,n,"auth-domain-config-required"),Se(n.config.apiKey,n,"invalid-api-key");const c={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:i,v:Qo,eventId:o};if(e instanceof b_){e.setDefaultLanguage(n.languageCode),c.providerId=e.providerId||"",FS(e.getCustomParameters())||(c.customParameters=JSON.stringify(e.getCustomParameters()));for(const[_,E]of Object.entries({}))c[_]=E}if(e instanceof Il){const _=e.getScopes().filter(E=>E!=="");_.length>0&&(c.scopes=_.join(","))}n.tenantId&&(c.tid=n.tenantId);const h=c;for(const _ of Object.keys(h))h[_]===void 0&&delete h[_];const p=await n._getAppCheckToken(),y=p?`#${QC}=${encodeURIComponent(p)}`:"";return`${YC(n)}?${El(h).slice(1)}${y}`}function YC({config:n}){return n.emulator?Gf(n,GC):`https://${n.authDomain}/${KC}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jh="webStorageSupport";class XC{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=M_,this._completeRedirectFn=EC,this._overrideRedirectResult=vC}async _openPopup(e,t,i,o){var a;li((a=this.eventManagers[e._key()])===null||a===void 0?void 0:a.manager,"_initialize() not called before _openPopup()");const c=await ky(e,t,i,mf(),o);return WC(e,c,Zf())}async _openRedirect(e,t,i,o){await this._originValidation(e);const a=await ky(e,t,i,mf(),o);return eC(a),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:o,promise:a}=this.eventManagers[t];return o?Promise.resolve(o):(li(a,"If manager is not set, promise should be"),a)}const i=this.initAndGetManager(e);return this.eventManagers[t]={promise:i},i.catch(()=>{delete this.eventManagers[t]}),i}async initAndGetManager(e){const t=await UC(e),i=new IC(e);return t.register("authEvent",o=>(Se(o==null?void 0:o.authEvent,e,"invalid-auth-event"),{status:i.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:i},this.iframes[e._key()]=t,i}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Jh,{type:Jh},o=>{var a;const c=(a=o==null?void 0:o[0])===null||a===void 0?void 0:a[Jh];c!==void 0&&t(!!c),fr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=PC(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return C_()||w_()||Yf()}}const JC=XC;var xy="@firebase/auth",by="1.8.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZC{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(i=>{e((i==null?void 0:i.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Se(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eA(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function tA(n){Fo(new Vs("auth",(e,{options:t})=>{const i=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),{apiKey:c,authDomain:h}=i.options;Se(c&&!c.includes(":"),"invalid-api-key",{appName:i.name});const p={apiKey:c,authDomain:h,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:A_(n)},y=new wR(i,o,a,p);return xR(y,t),y},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,i)=>{e.getProvider("auth-internal").initialize()})),Fo(new Vs("auth-internal",e=>{const t=Yo(e.getProvider("auth").getImmediate());return(i=>new ZC(i))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),Qi(xy,by,eA(n)),Qi(xy,by,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nA=5*60,rA=r_("authIdTokenMaxAge")||nA;let Ny=null;const iA=n=>async e=>{const t=e&&await e.getIdTokenResult(),i=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(i&&i>rA)return;const o=t==null?void 0:t.token;Ny!==o&&(Ny=o,await fetch(n,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function sA(n=a_()){const e=Wf(n,"auth");if(e.isInitialized())return e.getImmediate();const t=kR(n,{popupRedirectResolver:JC,persistence:[uC,XR,M_]}),i=r_("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const a=new URL(i,location.origin);if(location.origin===a.origin){const c=iA(a.toString());KR(t,c,()=>c(t.currentUser)),qR(t,h=>c(h))}}const o=t_("auth");return o&&bR(t,`http://${o}`),t}function oA(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}ER({loadJS(n){return new Promise((e,t)=>{const i=document.createElement("script");i.setAttribute("src",n),i.onload=e,i.onerror=o=>{const a=kr("internal-error");a.customData=o,t(a)},i.type="text/javascript",i.charset="UTF-8",oA().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});tA("Browser");var Dy=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Xi,H_;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(x,S){function R(){}R.prototype=S.prototype,x.D=S.prototype,x.prototype=new R,x.prototype.constructor=x,x.C=function(N,O,j){for(var k=Array(arguments.length-2),je=2;je<arguments.length;je++)k[je-2]=arguments[je];return S.prototype[O].apply(N,k)}}function t(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(i,t),i.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(x,S,R){R||(R=0);var N=Array(16);if(typeof S=="string")for(var O=0;16>O;++O)N[O]=S.charCodeAt(R++)|S.charCodeAt(R++)<<8|S.charCodeAt(R++)<<16|S.charCodeAt(R++)<<24;else for(O=0;16>O;++O)N[O]=S[R++]|S[R++]<<8|S[R++]<<16|S[R++]<<24;S=x.g[0],R=x.g[1],O=x.g[2];var j=x.g[3],k=S+(j^R&(O^j))+N[0]+3614090360&4294967295;S=R+(k<<7&4294967295|k>>>25),k=j+(O^S&(R^O))+N[1]+3905402710&4294967295,j=S+(k<<12&4294967295|k>>>20),k=O+(R^j&(S^R))+N[2]+606105819&4294967295,O=j+(k<<17&4294967295|k>>>15),k=R+(S^O&(j^S))+N[3]+3250441966&4294967295,R=O+(k<<22&4294967295|k>>>10),k=S+(j^R&(O^j))+N[4]+4118548399&4294967295,S=R+(k<<7&4294967295|k>>>25),k=j+(O^S&(R^O))+N[5]+1200080426&4294967295,j=S+(k<<12&4294967295|k>>>20),k=O+(R^j&(S^R))+N[6]+2821735955&4294967295,O=j+(k<<17&4294967295|k>>>15),k=R+(S^O&(j^S))+N[7]+4249261313&4294967295,R=O+(k<<22&4294967295|k>>>10),k=S+(j^R&(O^j))+N[8]+1770035416&4294967295,S=R+(k<<7&4294967295|k>>>25),k=j+(O^S&(R^O))+N[9]+2336552879&4294967295,j=S+(k<<12&4294967295|k>>>20),k=O+(R^j&(S^R))+N[10]+4294925233&4294967295,O=j+(k<<17&4294967295|k>>>15),k=R+(S^O&(j^S))+N[11]+2304563134&4294967295,R=O+(k<<22&4294967295|k>>>10),k=S+(j^R&(O^j))+N[12]+1804603682&4294967295,S=R+(k<<7&4294967295|k>>>25),k=j+(O^S&(R^O))+N[13]+4254626195&4294967295,j=S+(k<<12&4294967295|k>>>20),k=O+(R^j&(S^R))+N[14]+2792965006&4294967295,O=j+(k<<17&4294967295|k>>>15),k=R+(S^O&(j^S))+N[15]+1236535329&4294967295,R=O+(k<<22&4294967295|k>>>10),k=S+(O^j&(R^O))+N[1]+4129170786&4294967295,S=R+(k<<5&4294967295|k>>>27),k=j+(R^O&(S^R))+N[6]+3225465664&4294967295,j=S+(k<<9&4294967295|k>>>23),k=O+(S^R&(j^S))+N[11]+643717713&4294967295,O=j+(k<<14&4294967295|k>>>18),k=R+(j^S&(O^j))+N[0]+3921069994&4294967295,R=O+(k<<20&4294967295|k>>>12),k=S+(O^j&(R^O))+N[5]+3593408605&4294967295,S=R+(k<<5&4294967295|k>>>27),k=j+(R^O&(S^R))+N[10]+38016083&4294967295,j=S+(k<<9&4294967295|k>>>23),k=O+(S^R&(j^S))+N[15]+3634488961&4294967295,O=j+(k<<14&4294967295|k>>>18),k=R+(j^S&(O^j))+N[4]+3889429448&4294967295,R=O+(k<<20&4294967295|k>>>12),k=S+(O^j&(R^O))+N[9]+568446438&4294967295,S=R+(k<<5&4294967295|k>>>27),k=j+(R^O&(S^R))+N[14]+3275163606&4294967295,j=S+(k<<9&4294967295|k>>>23),k=O+(S^R&(j^S))+N[3]+4107603335&4294967295,O=j+(k<<14&4294967295|k>>>18),k=R+(j^S&(O^j))+N[8]+1163531501&4294967295,R=O+(k<<20&4294967295|k>>>12),k=S+(O^j&(R^O))+N[13]+2850285829&4294967295,S=R+(k<<5&4294967295|k>>>27),k=j+(R^O&(S^R))+N[2]+4243563512&4294967295,j=S+(k<<9&4294967295|k>>>23),k=O+(S^R&(j^S))+N[7]+1735328473&4294967295,O=j+(k<<14&4294967295|k>>>18),k=R+(j^S&(O^j))+N[12]+2368359562&4294967295,R=O+(k<<20&4294967295|k>>>12),k=S+(R^O^j)+N[5]+4294588738&4294967295,S=R+(k<<4&4294967295|k>>>28),k=j+(S^R^O)+N[8]+2272392833&4294967295,j=S+(k<<11&4294967295|k>>>21),k=O+(j^S^R)+N[11]+1839030562&4294967295,O=j+(k<<16&4294967295|k>>>16),k=R+(O^j^S)+N[14]+4259657740&4294967295,R=O+(k<<23&4294967295|k>>>9),k=S+(R^O^j)+N[1]+2763975236&4294967295,S=R+(k<<4&4294967295|k>>>28),k=j+(S^R^O)+N[4]+1272893353&4294967295,j=S+(k<<11&4294967295|k>>>21),k=O+(j^S^R)+N[7]+4139469664&4294967295,O=j+(k<<16&4294967295|k>>>16),k=R+(O^j^S)+N[10]+3200236656&4294967295,R=O+(k<<23&4294967295|k>>>9),k=S+(R^O^j)+N[13]+681279174&4294967295,S=R+(k<<4&4294967295|k>>>28),k=j+(S^R^O)+N[0]+3936430074&4294967295,j=S+(k<<11&4294967295|k>>>21),k=O+(j^S^R)+N[3]+3572445317&4294967295,O=j+(k<<16&4294967295|k>>>16),k=R+(O^j^S)+N[6]+76029189&4294967295,R=O+(k<<23&4294967295|k>>>9),k=S+(R^O^j)+N[9]+3654602809&4294967295,S=R+(k<<4&4294967295|k>>>28),k=j+(S^R^O)+N[12]+3873151461&4294967295,j=S+(k<<11&4294967295|k>>>21),k=O+(j^S^R)+N[15]+530742520&4294967295,O=j+(k<<16&4294967295|k>>>16),k=R+(O^j^S)+N[2]+3299628645&4294967295,R=O+(k<<23&4294967295|k>>>9),k=S+(O^(R|~j))+N[0]+4096336452&4294967295,S=R+(k<<6&4294967295|k>>>26),k=j+(R^(S|~O))+N[7]+1126891415&4294967295,j=S+(k<<10&4294967295|k>>>22),k=O+(S^(j|~R))+N[14]+2878612391&4294967295,O=j+(k<<15&4294967295|k>>>17),k=R+(j^(O|~S))+N[5]+4237533241&4294967295,R=O+(k<<21&4294967295|k>>>11),k=S+(O^(R|~j))+N[12]+1700485571&4294967295,S=R+(k<<6&4294967295|k>>>26),k=j+(R^(S|~O))+N[3]+2399980690&4294967295,j=S+(k<<10&4294967295|k>>>22),k=O+(S^(j|~R))+N[10]+4293915773&4294967295,O=j+(k<<15&4294967295|k>>>17),k=R+(j^(O|~S))+N[1]+2240044497&4294967295,R=O+(k<<21&4294967295|k>>>11),k=S+(O^(R|~j))+N[8]+1873313359&4294967295,S=R+(k<<6&4294967295|k>>>26),k=j+(R^(S|~O))+N[15]+4264355552&4294967295,j=S+(k<<10&4294967295|k>>>22),k=O+(S^(j|~R))+N[6]+2734768916&4294967295,O=j+(k<<15&4294967295|k>>>17),k=R+(j^(O|~S))+N[13]+1309151649&4294967295,R=O+(k<<21&4294967295|k>>>11),k=S+(O^(R|~j))+N[4]+4149444226&4294967295,S=R+(k<<6&4294967295|k>>>26),k=j+(R^(S|~O))+N[11]+3174756917&4294967295,j=S+(k<<10&4294967295|k>>>22),k=O+(S^(j|~R))+N[2]+718787259&4294967295,O=j+(k<<15&4294967295|k>>>17),k=R+(j^(O|~S))+N[9]+3951481745&4294967295,x.g[0]=x.g[0]+S&4294967295,x.g[1]=x.g[1]+(O+(k<<21&4294967295|k>>>11))&4294967295,x.g[2]=x.g[2]+O&4294967295,x.g[3]=x.g[3]+j&4294967295}i.prototype.u=function(x,S){S===void 0&&(S=x.length);for(var R=S-this.blockSize,N=this.B,O=this.h,j=0;j<S;){if(O==0)for(;j<=R;)o(this,x,j),j+=this.blockSize;if(typeof x=="string"){for(;j<S;)if(N[O++]=x.charCodeAt(j++),O==this.blockSize){o(this,N),O=0;break}}else for(;j<S;)if(N[O++]=x[j++],O==this.blockSize){o(this,N),O=0;break}}this.h=O,this.o+=S},i.prototype.v=function(){var x=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);x[0]=128;for(var S=1;S<x.length-8;++S)x[S]=0;var R=8*this.o;for(S=x.length-8;S<x.length;++S)x[S]=R&255,R/=256;for(this.u(x),x=Array(16),S=R=0;4>S;++S)for(var N=0;32>N;N+=8)x[R++]=this.g[S]>>>N&255;return x};function a(x,S){var R=h;return Object.prototype.hasOwnProperty.call(R,x)?R[x]:R[x]=S(x)}function c(x,S){this.h=S;for(var R=[],N=!0,O=x.length-1;0<=O;O--){var j=x[O]|0;N&&j==S||(R[O]=j,N=!1)}this.g=R}var h={};function p(x){return-128<=x&&128>x?a(x,function(S){return new c([S|0],0>S?-1:0)}):new c([x|0],0>x?-1:0)}function y(x){if(isNaN(x)||!isFinite(x))return E;if(0>x)return D(y(-x));for(var S=[],R=1,N=0;x>=R;N++)S[N]=x/R|0,R*=4294967296;return new c(S,0)}function _(x,S){if(x.length==0)throw Error("number format error: empty string");if(S=S||10,2>S||36<S)throw Error("radix out of range: "+S);if(x.charAt(0)=="-")return D(_(x.substring(1),S));if(0<=x.indexOf("-"))throw Error('number format error: interior "-" character');for(var R=y(Math.pow(S,8)),N=E,O=0;O<x.length;O+=8){var j=Math.min(8,x.length-O),k=parseInt(x.substring(O,O+j),S);8>j?(j=y(Math.pow(S,j)),N=N.j(j).add(y(k))):(N=N.j(R),N=N.add(y(k)))}return N}var E=p(0),T=p(1),C=p(16777216);n=c.prototype,n.m=function(){if(M(this))return-D(this).m();for(var x=0,S=1,R=0;R<this.g.length;R++){var N=this.i(R);x+=(0<=N?N:4294967296+N)*S,S*=4294967296}return x},n.toString=function(x){if(x=x||10,2>x||36<x)throw Error("radix out of range: "+x);if(b(this))return"0";if(M(this))return"-"+D(this).toString(x);for(var S=y(Math.pow(x,6)),R=this,N="";;){var O=ie(R,S).g;R=H(R,O.j(S));var j=((0<R.g.length?R.g[0]:R.h)>>>0).toString(x);if(R=O,b(R))return j+N;for(;6>j.length;)j="0"+j;N=j+N}},n.i=function(x){return 0>x?0:x<this.g.length?this.g[x]:this.h};function b(x){if(x.h!=0)return!1;for(var S=0;S<x.g.length;S++)if(x.g[S]!=0)return!1;return!0}function M(x){return x.h==-1}n.l=function(x){return x=H(this,x),M(x)?-1:b(x)?0:1};function D(x){for(var S=x.g.length,R=[],N=0;N<S;N++)R[N]=~x.g[N];return new c(R,~x.h).add(T)}n.abs=function(){return M(this)?D(this):this},n.add=function(x){for(var S=Math.max(this.g.length,x.g.length),R=[],N=0,O=0;O<=S;O++){var j=N+(this.i(O)&65535)+(x.i(O)&65535),k=(j>>>16)+(this.i(O)>>>16)+(x.i(O)>>>16);N=k>>>16,j&=65535,k&=65535,R[O]=k<<16|j}return new c(R,R[R.length-1]&-2147483648?-1:0)};function H(x,S){return x.add(D(S))}n.j=function(x){if(b(this)||b(x))return E;if(M(this))return M(x)?D(this).j(D(x)):D(D(this).j(x));if(M(x))return D(this.j(D(x)));if(0>this.l(C)&&0>x.l(C))return y(this.m()*x.m());for(var S=this.g.length+x.g.length,R=[],N=0;N<2*S;N++)R[N]=0;for(N=0;N<this.g.length;N++)for(var O=0;O<x.g.length;O++){var j=this.i(N)>>>16,k=this.i(N)&65535,je=x.i(O)>>>16,et=x.i(O)&65535;R[2*N+2*O]+=k*et,K(R,2*N+2*O),R[2*N+2*O+1]+=j*et,K(R,2*N+2*O+1),R[2*N+2*O+1]+=k*je,K(R,2*N+2*O+1),R[2*N+2*O+2]+=j*je,K(R,2*N+2*O+2)}for(N=0;N<S;N++)R[N]=R[2*N+1]<<16|R[2*N];for(N=S;N<2*S;N++)R[N]=0;return new c(R,0)};function K(x,S){for(;(x[S]&65535)!=x[S];)x[S+1]+=x[S]>>>16,x[S]&=65535,S++}function Y(x,S){this.g=x,this.h=S}function ie(x,S){if(b(S))throw Error("division by zero");if(b(x))return new Y(E,E);if(M(x))return S=ie(D(x),S),new Y(D(S.g),D(S.h));if(M(S))return S=ie(x,D(S)),new Y(D(S.g),S.h);if(30<x.g.length){if(M(x)||M(S))throw Error("slowDivide_ only works with positive integers.");for(var R=T,N=S;0>=N.l(x);)R=ce(R),N=ce(N);var O=ue(R,1),j=ue(N,1);for(N=ue(N,2),R=ue(R,2);!b(N);){var k=j.add(N);0>=k.l(x)&&(O=O.add(R),j=k),N=ue(N,1),R=ue(R,1)}return S=H(x,O.j(S)),new Y(O,S)}for(O=E;0<=x.l(S);){for(R=Math.max(1,Math.floor(x.m()/S.m())),N=Math.ceil(Math.log(R)/Math.LN2),N=48>=N?1:Math.pow(2,N-48),j=y(R),k=j.j(S);M(k)||0<k.l(x);)R-=N,j=y(R),k=j.j(S);b(j)&&(j=T),O=O.add(j),x=H(x,k)}return new Y(O,x)}n.A=function(x){return ie(this,x).h},n.and=function(x){for(var S=Math.max(this.g.length,x.g.length),R=[],N=0;N<S;N++)R[N]=this.i(N)&x.i(N);return new c(R,this.h&x.h)},n.or=function(x){for(var S=Math.max(this.g.length,x.g.length),R=[],N=0;N<S;N++)R[N]=this.i(N)|x.i(N);return new c(R,this.h|x.h)},n.xor=function(x){for(var S=Math.max(this.g.length,x.g.length),R=[],N=0;N<S;N++)R[N]=this.i(N)^x.i(N);return new c(R,this.h^x.h)};function ce(x){for(var S=x.g.length+1,R=[],N=0;N<S;N++)R[N]=x.i(N)<<1|x.i(N-1)>>>31;return new c(R,x.h)}function ue(x,S){var R=S>>5;S%=32;for(var N=x.g.length-R,O=[],j=0;j<N;j++)O[j]=0<S?x.i(j+R)>>>S|x.i(j+R+1)<<32-S:x.i(j+R);return new c(O,x.h)}i.prototype.digest=i.prototype.v,i.prototype.reset=i.prototype.s,i.prototype.update=i.prototype.u,H_=i,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.A,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=y,c.fromString=_,Xi=c}).apply(typeof Dy<"u"?Dy:typeof self<"u"?self:typeof window<"u"?window:{});var Qu=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var W_,Wa,q_,dc,vf,K_,G_,Q_;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(u,m,v){return u==Array.prototype||u==Object.prototype||(u[m]=v.value),u};function t(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof Qu=="object"&&Qu];for(var m=0;m<u.length;++m){var v=u[m];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var i=t(this);function o(u,m){if(m)e:{var v=i;u=u.split(".");for(var I=0;I<u.length-1;I++){var z=u[I];if(!(z in v))break e;v=v[z]}u=u[u.length-1],I=v[u],m=m(I),m!=I&&m!=null&&e(v,u,{configurable:!0,writable:!0,value:m})}}function a(u,m){u instanceof String&&(u+="");var v=0,I=!1,z={next:function(){if(!I&&v<u.length){var G=v++;return{value:m(G,u[G]),done:!1}}return I=!0,{done:!0,value:void 0}}};return z[Symbol.iterator]=function(){return z},z}o("Array.prototype.values",function(u){return u||function(){return a(this,function(m,v){return v})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var c=c||{},h=this||self;function p(u){var m=typeof u;return m=m!="object"?m:u?Array.isArray(u)?"array":m:"null",m=="array"||m=="object"&&typeof u.length=="number"}function y(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function _(u,m,v){return u.call.apply(u.bind,arguments)}function E(u,m,v){if(!u)throw Error();if(2<arguments.length){var I=Array.prototype.slice.call(arguments,2);return function(){var z=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(z,I),u.apply(m,z)}}return function(){return u.apply(m,arguments)}}function T(u,m,v){return T=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?_:E,T.apply(null,arguments)}function C(u,m){var v=Array.prototype.slice.call(arguments,1);return function(){var I=v.slice();return I.push.apply(I,arguments),u.apply(this,I)}}function b(u,m){function v(){}v.prototype=m.prototype,u.aa=m.prototype,u.prototype=new v,u.prototype.constructor=u,u.Qb=function(I,z,G){for(var ae=Array(arguments.length-2),qe=2;qe<arguments.length;qe++)ae[qe-2]=arguments[qe];return m.prototype[z].apply(I,ae)}}function M(u){const m=u.length;if(0<m){const v=Array(m);for(let I=0;I<m;I++)v[I]=u[I];return v}return[]}function D(u,m){for(let v=1;v<arguments.length;v++){const I=arguments[v];if(p(I)){const z=u.length||0,G=I.length||0;u.length=z+G;for(let ae=0;ae<G;ae++)u[z+ae]=I[ae]}else u.push(I)}}class H{constructor(m,v){this.i=m,this.j=v,this.h=0,this.g=null}get(){let m;return 0<this.h?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function K(u){return/^[\s\xa0]*$/.test(u)}function Y(){var u=h.navigator;return u&&(u=u.userAgent)?u:""}function ie(u){return ie[" "](u),u}ie[" "]=function(){};var ce=Y().indexOf("Gecko")!=-1&&!(Y().toLowerCase().indexOf("webkit")!=-1&&Y().indexOf("Edge")==-1)&&!(Y().indexOf("Trident")!=-1||Y().indexOf("MSIE")!=-1)&&Y().indexOf("Edge")==-1;function ue(u,m,v){for(const I in u)m.call(v,u[I],I,u)}function x(u,m){for(const v in u)m.call(void 0,u[v],v,u)}function S(u){const m={};for(const v in u)m[v]=u[v];return m}const R="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function N(u,m){let v,I;for(let z=1;z<arguments.length;z++){I=arguments[z];for(v in I)u[v]=I[v];for(let G=0;G<R.length;G++)v=R[G],Object.prototype.hasOwnProperty.call(I,v)&&(u[v]=I[v])}}function O(u){var m=1;u=u.split(":");const v=[];for(;0<m&&u.length;)v.push(u.shift()),m--;return u.length&&v.push(u.join(":")),v}function j(u){h.setTimeout(()=>{throw u},0)}function k(){var u=se;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class je{constructor(){this.h=this.g=null}add(m,v){const I=et.get();I.set(m,v),this.h?this.h.next=I:this.g=I,this.h=I}}var et=new H(()=>new st,u=>u.reset());class st{constructor(){this.next=this.g=this.h=null}set(m,v){this.h=m,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let ee,Q=!1,se=new je,re=()=>{const u=h.Promise.resolve(void 0);ee=()=>{u.then(F)}};var F=()=>{for(var u;u=k();){try{u.h.call(u.g)}catch(v){j(v)}var m=et;m.j(u),100>m.h&&(m.h++,u.next=m.g,m.g=u)}Q=!1};function W(){this.s=this.s,this.C=this.C}W.prototype.s=!1,W.prototype.ma=function(){this.s||(this.s=!0,this.N())},W.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function le(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}le.prototype.h=function(){this.defaultPrevented=!0};var pe=function(){if(!h.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const v=()=>{};h.addEventListener("test",v,m),h.removeEventListener("test",v,m)}catch{}return u}();function ve(u,m){if(le.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u){var v=this.type=u.type,I=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;if(this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget){if(ce){e:{try{ie(m.nodeName);var z=!0;break e}catch{}z=!1}z||(m=null)}}else v=="mouseover"?m=u.fromElement:v=="mouseout"&&(m=u.toElement);this.relatedTarget=m,I?(this.clientX=I.clientX!==void 0?I.clientX:I.pageX,this.clientY=I.clientY!==void 0?I.clientY:I.pageY,this.screenX=I.screenX||0,this.screenY=I.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=typeof u.pointerType=="string"?u.pointerType:_e[u.pointerType]||"",this.state=u.state,this.i=u,u.defaultPrevented&&ve.aa.h.call(this)}}b(ve,le);var _e={2:"touch",3:"pen",4:"mouse"};ve.prototype.h=function(){ve.aa.h.call(this);var u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var xe="closure_listenable_"+(1e6*Math.random()|0),be=0;function Oe(u,m,v,I,z){this.listener=u,this.proxy=null,this.src=m,this.type=v,this.capture=!!I,this.ha=z,this.key=++be,this.da=this.fa=!1}function Re(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function sn(u){this.src=u,this.g={},this.h=0}sn.prototype.add=function(u,m,v,I,z){var G=u.toString();u=this.g[G],u||(u=this.g[G]=[],this.h++);var ae=on(u,m,I,z);return-1<ae?(m=u[ae],v||(m.fa=!1)):(m=new Oe(m,this.src,G,!!I,z),m.fa=v,u.push(m)),m};function Ft(u,m){var v=m.type;if(v in u.g){var I=u.g[v],z=Array.prototype.indexOf.call(I,m,void 0),G;(G=0<=z)&&Array.prototype.splice.call(I,z,1),G&&(Re(m),u.g[v].length==0&&(delete u.g[v],u.h--))}}function on(u,m,v,I){for(var z=0;z<u.length;++z){var G=u[z];if(!G.da&&G.listener==m&&G.capture==!!v&&G.ha==I)return z}return-1}var Ut="closure_lm_"+(1e6*Math.random()|0),Rn={};function Ln(u,m,v,I,z){if(Array.isArray(m)){for(var G=0;G<m.length;G++)Ln(u,m[G],v,I,z);return null}return v=ls(v),u&&u[xe]?u.K(m,v,y(I)?!!I.capture:!1,z):fi(u,m,v,!1,I,z)}function fi(u,m,v,I,z,G){if(!m)throw Error("Invalid event type");var ae=y(z)?!!z.capture:!!z,qe=Fr(u);if(qe||(u[Ut]=qe=new sn(u)),v=qe.add(m,v,I,ae,G),v.proxy)return v;if(I=as(),v.proxy=I,I.src=u,I.listener=v,u.addEventListener)pe||(z=ae),z===void 0&&(z=!1),u.addEventListener(m.toString(),I,z);else if(u.attachEvent)u.attachEvent(hn(m.toString()),I);else if(u.addListener&&u.removeListener)u.addListener(I);else throw Error("addEventListener and attachEvent are unavailable.");return v}function as(){function u(v){return m.call(u.src,u.listener,v)}const m=gr;return u}function mr(u,m,v,I,z){if(Array.isArray(m))for(var G=0;G<m.length;G++)mr(u,m[G],v,I,z);else I=y(I)?!!I.capture:!!I,v=ls(v),u&&u[xe]?(u=u.i,m=String(m).toString(),m in u.g&&(G=u.g[m],v=on(G,v,I,z),-1<v&&(Re(G[v]),Array.prototype.splice.call(G,v,1),G.length==0&&(delete u.g[m],u.h--)))):u&&(u=Fr(u))&&(m=u.g[m.toString()],u=-1,m&&(u=on(m,v,I,z)),(v=-1<u?m[u]:null)&&bt(v))}function bt(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[xe])Ft(m.i,u);else{var v=u.type,I=u.proxy;m.removeEventListener?m.removeEventListener(v,I,u.capture):m.detachEvent?m.detachEvent(hn(v),I):m.addListener&&m.removeListener&&m.removeListener(I),(v=Fr(m))?(Ft(v,u),v.h==0&&(v.src=null,m[Ut]=null)):Re(u)}}}function hn(u){return u in Rn?Rn[u]:Rn[u]="on"+u}function gr(u,m){if(u.da)u=!0;else{m=new ve(m,this);var v=u.listener,I=u.ha||u.src;u.fa&&bt(u),u=v.call(I,m)}return u}function Fr(u){return u=u[Ut],u instanceof sn?u:null}var Ur="__closure_events_fn_"+(1e9*Math.random()>>>0);function ls(u){return typeof u=="function"?u:(u[Ur]||(u[Ur]=function(m){return u.handleEvent(m)}),u[Ur])}function ht(){W.call(this),this.i=new sn(this),this.M=this,this.F=null}b(ht,W),ht.prototype[xe]=!0,ht.prototype.removeEventListener=function(u,m,v,I){mr(this,u,m,v,I)};function Qe(u,m){var v,I=u.F;if(I)for(v=[];I;I=I.F)v.push(I);if(u=u.M,I=m.type||m,typeof m=="string")m=new le(m,u);else if(m instanceof le)m.target=m.target||u;else{var z=m;m=new le(I,u),N(m,z)}if(z=!0,v)for(var G=v.length-1;0<=G;G--){var ae=m.g=v[G];z=Gt(ae,I,!0,m)&&z}if(ae=m.g=u,z=Gt(ae,I,!0,m)&&z,z=Gt(ae,I,!1,m)&&z,v)for(G=0;G<v.length;G++)ae=m.g=v[G],z=Gt(ae,I,!1,m)&&z}ht.prototype.N=function(){if(ht.aa.N.call(this),this.i){var u=this.i,m;for(m in u.g){for(var v=u.g[m],I=0;I<v.length;I++)Re(v[I]);delete u.g[m],u.h--}}this.F=null},ht.prototype.K=function(u,m,v,I){return this.i.add(String(u),m,!1,v,I)},ht.prototype.L=function(u,m,v,I){return this.i.add(String(u),m,!0,v,I)};function Gt(u,m,v,I){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();for(var z=!0,G=0;G<m.length;++G){var ae=m[G];if(ae&&!ae.da&&ae.capture==v){var qe=ae.listener,St=ae.ha||ae.src;ae.fa&&Ft(u.i,ae),z=qe.call(St,I)!==!1&&z}}return z&&!I.defaultPrevented}function Yn(u,m,v){if(typeof u=="function")v&&(u=T(u,v));else if(u&&typeof u.handleEvent=="function")u=T(u.handleEvent,u);else throw Error("Invalid listener argument");return 2147483647<Number(m)?-1:h.setTimeout(u,m||0)}function Xn(u){u.g=Yn(()=>{u.g=null,u.i&&(u.i=!1,Xn(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class Qt extends W{constructor(m,v){super(),this.m=m,this.l=v,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:Xn(this)}N(){super.N(),this.g&&(h.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function yr(u){W.call(this),this.h=u,this.g={}}b(yr,W);var us=[];function cs(u){ue(u.g,function(m,v){this.g.hasOwnProperty(v)&&bt(m)},u),u.g={}}yr.prototype.N=function(){yr.aa.N.call(this),cs(this)},yr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var jr=h.JSON.stringify,pi=h.JSON.parse,ds=class{stringify(u){return h.JSON.stringify(u,void 0)}parse(u){return h.JSON.parse(u,void 0)}};function vr(){}vr.prototype.h=null;function mi(u){return u.h||(u.h=u.i())}function gi(){}var fn={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Ke(){le.call(this,"d")}b(Ke,le);function gt(){le.call(this,"c")}b(gt,le);var tt={},pn=null;function yt(){return pn=pn||new ht}tt.La="serverreachability";function It(u){le.call(this,tt.La,u)}b(It,le);function vt(u){const m=yt();Qe(m,new It(m))}tt.STAT_EVENT="statevent";function Vn(u,m){le.call(this,tt.STAT_EVENT,u),this.stat=m}b(Vn,le);function Ne(u){const m=yt();Qe(m,new Vn(m,u))}tt.Ma="timingevent";function an(u,m){le.call(this,tt.Ma,u),this.size=m}b(an,le);function ct(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return h.setTimeout(function(){u()},m)}function jt(){this.g=!0}jt.prototype.xa=function(){this.g=!1};function Cn(u,m,v,I,z,G){u.info(function(){if(u.g)if(G)for(var ae="",qe=G.split("&"),St=0;St<qe.length;St++){var ze=qe[St].split("=");if(1<ze.length){var Nt=ze[0];ze=ze[1];var wt=Nt.split("_");ae=2<=wt.length&&wt[1]=="type"?ae+(Nt+"="+ze+"&"):ae+(Nt+"=redacted&")}}else ae=null;else ae=G;return"XMLHTTP REQ ("+I+") [attempt "+z+"]: "+m+`
`+v+`
`+ae})}function Mn(u,m,v,I,z,G,ae){u.info(function(){return"XMLHTTP RESP ("+I+") [ attempt "+z+"]: "+m+`
`+v+`
`+G+" "+ae})}function _t(u,m,v,I){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+hs(u,v)+(I?" "+I:"")})}function Jn(u,m){u.info(function(){return"TIMEOUT: "+m})}jt.prototype.info=function(){};function hs(u,m){if(!u.g)return m;if(!m)return null;try{var v=JSON.parse(m);if(v){for(u=0;u<v.length;u++)if(Array.isArray(v[u])){var I=v[u];if(!(2>I.length)){var z=I[1];if(Array.isArray(z)&&!(1>z.length)){var G=z[0];if(G!="noop"&&G!="stop"&&G!="close")for(var ae=1;ae<z.length;ae++)z[ae]=""}}}}return jr(v)}catch{return m}}var Ws={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Nl={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Zn;function fs(){}b(fs,vr),fs.prototype.g=function(){return new XMLHttpRequest},fs.prototype.i=function(){return{}},Zn=new fs;function er(u,m,v,I){this.j=u,this.i=m,this.l=v,this.R=I||1,this.U=new yr(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Dl}function Dl(){this.i=null,this.g="",this.h=!1}var sa={},qs={};function Ks(u,m,v){u.L=1,u.v=Ei(Pn(m)),u.m=v,u.P=!0,oa(u,null)}function oa(u,m){u.F=Date.now(),Ye(u),u.A=Pn(u.v);var v=u.A,I=u.R;Array.isArray(I)||(I=[String(I)]),Ii(v.i,"t",I),u.C=0,v=u.j.J,u.h=new Dl,u.g=Xl(u.j,v?m:null,!u.m),0<u.O&&(u.M=new Qt(T(u.Y,u,u.g),u.O)),m=u.U,v=u.g,I=u.ca;var z="readystatechange";Array.isArray(z)||(z&&(us[0]=z.toString()),z=us);for(var G=0;G<z.length;G++){var ae=Ln(v,z[G],I||m.handleEvent,!1,m.h||m);if(!ae)break;m.g[ae.key]=ae}m=u.H?S(u.H):{},u.m?(u.u||(u.u="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.A,u.u,u.m,m)):(u.u="GET",u.g.ea(u.A,u.u,null,m)),vt(),Cn(u.i,u.u,u.A,u.l,u.R,u.m)}er.prototype.ca=function(u){u=u.target;const m=this.M;m&&gn(u)==3?m.j():this.Y(u)},er.prototype.Y=function(u){try{if(u==this.g)e:{const wt=gn(this.g);var m=this.g.Ba();const jn=this.g.Z();if(!(3>wt)&&(wt!=3||this.g&&(this.h.h||this.g.oa()||ha(this.g)))){this.J||wt!=4||m==7||(m==8||0>=jn?vt(3):vt(2)),ps(this);var v=this.g.Z();this.X=v;t:if(Ol(this)){var I=ha(this.g);u="";var z=I.length,G=gn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Fn(this),yi(this);var ae="";break t}this.h.i=new h.TextDecoder}for(m=0;m<z;m++)this.h.h=!0,u+=this.h.i.decode(I[m],{stream:!(G&&m==z-1)});I.length=0,this.h.g+=u,this.C=0,ae=this.h.g}else ae=this.g.oa();if(this.o=v==200,Mn(this.i,this.u,this.A,this.l,this.R,wt,v),this.o){if(this.T&&!this.K){t:{if(this.g){var qe,St=this.g;if((qe=St.g?St.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!K(qe)){var ze=qe;break t}}ze=null}if(v=ze)_t(this.i,this.l,v,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,aa(this,v);else{this.o=!1,this.s=3,Ne(12),Fn(this),yi(this);break e}}if(this.P){v=!0;let xn;for(;!this.J&&this.C<ae.length;)if(xn=pd(this,ae),xn==qs){wt==4&&(this.s=4,Ne(14),v=!1),_t(this.i,this.l,null,"[Incomplete Response]");break}else if(xn==sa){this.s=4,Ne(15),_t(this.i,this.l,ae,"[Invalid Chunk]"),v=!1;break}else _t(this.i,this.l,xn,null),aa(this,xn);if(Ol(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),wt!=4||ae.length!=0||this.h.h||(this.s=1,Ne(16),v=!1),this.o=this.o&&v,!v)_t(this.i,this.l,ae,"[Invalid Chunked Response]"),Fn(this),yi(this);else if(0<ae.length&&!this.W){this.W=!0;var Nt=this.j;Nt.g==this&&Nt.ba&&!Nt.M&&(Nt.j.info("Great, no buffering proxy detected. Bytes received: "+ae.length),pa(Nt),Nt.M=!0,Ne(11))}}else _t(this.i,this.l,ae,null),aa(this,ae);wt==4&&Fn(this),this.o&&!this.J&&(wt==4?io(this.j,this):(this.o=!1,Ye(this)))}else Zs(this.g),v==400&&0<ae.indexOf("Unknown SID")?(this.s=3,Ne(12)):(this.s=0,Ne(13)),Fn(this),yi(this)}}}catch{}finally{}};function Ol(u){return u.g?u.u=="GET"&&u.L!=2&&u.j.Ca:!1}function pd(u,m){var v=u.C,I=m.indexOf(`
`,v);return I==-1?qs:(v=Number(m.substring(v,I)),isNaN(v)?sa:(I+=1,I+v>m.length?qs:(m=m.slice(I,I+v),u.C=I+v,m)))}er.prototype.cancel=function(){this.J=!0,Fn(this)};function Ye(u){u.S=Date.now()+u.I,Ll(u,u.I)}function Ll(u,m){if(u.B!=null)throw Error("WatchDog timer not null");u.B=ct(T(u.ba,u),m)}function ps(u){u.B&&(h.clearTimeout(u.B),u.B=null)}er.prototype.ba=function(){this.B=null;const u=Date.now();0<=u-this.S?(Jn(this.i,this.A),this.L!=2&&(vt(),Ne(17)),Fn(this),this.s=2,yi(this)):Ll(this,this.S-u)};function yi(u){u.j.G==0||u.J||io(u.j,u)}function Fn(u){ps(u);var m=u.M;m&&typeof m.ma=="function"&&m.ma(),u.M=null,cs(u.U),u.g&&(m=u.g,u.g=null,m.abort(),m.ma())}function aa(u,m){try{var v=u.j;if(v.G!=0&&(v.g==u||ln(v.h,u))){if(!u.K&&ln(v.h,u)&&v.G==3){try{var I=v.Da.g.parse(m)}catch{I=null}if(Array.isArray(I)&&I.length==3){var z=I;if(z[0]==0){e:if(!v.u){if(v.g)if(v.g.F+3e3<u.F)ro(v),sr(v);else break e;no(v),Ne(18)}}else v.za=z[1],0<v.za-v.T&&37500>z[2]&&v.F&&v.v==0&&!v.C&&(v.C=ct(T(v.Za,v),6e3));if(1>=Ml(v.h)&&v.ca){try{v.ca()}catch{}v.ca=void 0}}else Wr(v,11)}else if((u.K||v.g==u)&&ro(v),!K(m))for(z=v.Da.g.parse(m),m=0;m<z.length;m++){let ze=z[m];if(v.T=ze[0],ze=ze[1],v.G==2)if(ze[0]=="c"){v.K=ze[1],v.ia=ze[2];const Nt=ze[3];Nt!=null&&(v.la=Nt,v.j.info("VER="+v.la));const wt=ze[4];wt!=null&&(v.Aa=wt,v.j.info("SVER="+v.Aa));const jn=ze[5];jn!=null&&typeof jn=="number"&&0<jn&&(I=1.5*jn,v.L=I,v.j.info("backChannelRequestTimeoutMs_="+I)),I=v;const xn=u.g;if(xn){const Es=xn.g?xn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Es){var G=I.h;G.g||Es.indexOf("spdy")==-1&&Es.indexOf("quic")==-1&&Es.indexOf("h2")==-1||(G.j=G.l,G.g=new Set,G.h&&(la(G,G.h),G.h=null))}if(I.D){const oo=xn.g?xn.g.getResponseHeader("X-HTTP-Session-Id"):null;oo&&(I.ya=oo,Ge(I.I,I.D,oo))}}v.G=3,v.l&&v.l.ua(),v.ba&&(v.R=Date.now()-u.F,v.j.info("Handshake RTT: "+v.R+"ms")),I=v;var ae=u;if(I.qa=Yl(I,I.J?I.ia:null,I.W),ae.K){Fl(I.h,ae);var qe=ae,St=I.L;St&&(qe.I=St),qe.B&&(ps(qe),Ye(qe)),I.g=ae}else ws(I);0<v.i.length&&Tr(v)}else ze[0]!="stop"&&ze[0]!="close"||Wr(v,7);else v.G==3&&(ze[0]=="stop"||ze[0]=="close"?ze[0]=="stop"?Wr(v,7):Bt(v):ze[0]!="noop"&&v.l&&v.l.ta(ze),v.v=0)}}vt(4)}catch{}}var Vl=class{constructor(u,m){this.g=u,this.map=m}};function ms(u){this.l=u||10,h.PerformanceNavigationTiming?(u=h.performance.getEntriesByType("navigation"),u=0<u.length&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(h.chrome&&h.chrome.loadTimes&&h.chrome.loadTimes()&&h.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function An(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function Ml(u){return u.h?1:u.g?u.g.size:0}function ln(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function la(u,m){u.g?u.g.add(m):u.h=m}function Fl(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}ms.prototype.cancel=function(){if(this.i=Ul(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function Ul(u){if(u.h!=null)return u.i.concat(u.h.D);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const v of u.g.values())m=m.concat(v.D);return m}return M(u.i)}function Gs(u){if(u.V&&typeof u.V=="function")return u.V();if(typeof Map<"u"&&u instanceof Map||typeof Set<"u"&&u instanceof Set)return Array.from(u.values());if(typeof u=="string")return u.split("");if(p(u)){for(var m=[],v=u.length,I=0;I<v;I++)m.push(u[I]);return m}m=[],v=0;for(I in u)m[v++]=u[I];return m}function Qs(u){if(u.na&&typeof u.na=="function")return u.na();if(!u.V||typeof u.V!="function"){if(typeof Map<"u"&&u instanceof Map)return Array.from(u.keys());if(!(typeof Set<"u"&&u instanceof Set)){if(p(u)||typeof u=="string"){var m=[];u=u.length;for(var v=0;v<u;v++)m.push(v);return m}m=[],v=0;for(const I in u)m[v++]=I;return m}}}function vi(u,m){if(u.forEach&&typeof u.forEach=="function")u.forEach(m,void 0);else if(p(u)||typeof u=="string")Array.prototype.forEach.call(u,m,void 0);else for(var v=Qs(u),I=Gs(u),z=I.length,G=0;G<z;G++)m.call(void 0,I[G],v&&v[G],u)}var gs=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function md(u,m){if(u){u=u.split("&");for(var v=0;v<u.length;v++){var I=u[v].indexOf("="),z=null;if(0<=I){var G=u[v].substring(0,I);z=u[v].substring(I+1)}else G=u[v];m(G,z?decodeURIComponent(z.replace(/\+/g," ")):"")}}}function zr(u){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,u instanceof zr){this.h=u.h,ys(this,u.j),this.o=u.o,this.g=u.g,_i(this,u.s),this.l=u.l;var m=u.i,v=new _r;v.i=m.i,m.g&&(v.g=new Map(m.g),v.h=m.h),wi(this,v),this.m=u.m}else u&&(m=String(u).match(gs))?(this.h=!1,ys(this,m[1]||"",!0),this.o=Me(m[2]||""),this.g=Me(m[3]||"",!0),_i(this,m[4]),this.l=Me(m[5]||"",!0),wi(this,m[6]||"",!0),this.m=Me(m[7]||"")):(this.h=!1,this.i=new _r(null,this.h))}zr.prototype.toString=function(){var u=[],m=this.j;m&&u.push(Ti(m,Ys,!0),":");var v=this.g;return(v||m=="file")&&(u.push("//"),(m=this.o)&&u.push(Ti(m,Ys,!0),"@"),u.push(encodeURIComponent(String(v)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.s,v!=null&&u.push(":",String(v))),(v=this.l)&&(this.g&&v.charAt(0)!="/"&&u.push("/"),u.push(Ti(v,v.charAt(0)=="/"?Bl:zl,!0))),(v=this.i.toString())&&u.push("?",v),(v=this.m)&&u.push("#",Ti(v,ua)),u.join("")};function Pn(u){return new zr(u)}function ys(u,m,v){u.j=v?Me(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function _i(u,m){if(m){if(m=Number(m),isNaN(m)||0>m)throw Error("Bad port number "+m);u.s=m}else u.s=null}function wi(u,m,v){m instanceof _r?(u.i=m,wr(u.i,u.h)):(v||(m=Ti(m,$l)),u.i=new _r(m,u.h))}function Ge(u,m,v){u.i.set(m,v)}function Ei(u){return Ge(u,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),u}function Me(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function Ti(u,m,v){return typeof u=="string"?(u=encodeURI(u).replace(m,jl),v&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function jl(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var Ys=/[#\/\?@]/g,zl=/[#\?:]/g,Bl=/[#\?]/g,$l=/[#\?@]/g,ua=/#/g;function _r(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function zt(u){u.g||(u.g=new Map,u.h=0,u.i&&md(u.i,function(m,v){u.add(decodeURIComponent(m.replace(/\+/g," ")),v)}))}n=_r.prototype,n.add=function(u,m){zt(this),this.i=null,u=Un(this,u);var v=this.g.get(u);return v||this.g.set(u,v=[]),v.push(m),this.h+=1,this};function tr(u,m){zt(u),m=Un(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function nr(u,m){return zt(u),m=Un(u,m),u.g.has(m)}n.forEach=function(u,m){zt(this),this.g.forEach(function(v,I){v.forEach(function(z){u.call(m,z,I,this)},this)},this)},n.na=function(){zt(this);const u=Array.from(this.g.values()),m=Array.from(this.g.keys()),v=[];for(let I=0;I<m.length;I++){const z=u[I];for(let G=0;G<z.length;G++)v.push(m[I])}return v},n.V=function(u){zt(this);let m=[];if(typeof u=="string")nr(this,u)&&(m=m.concat(this.g.get(Un(this,u))));else{u=Array.from(this.g.values());for(let v=0;v<u.length;v++)m=m.concat(u[v])}return m},n.set=function(u,m){return zt(this),this.i=null,u=Un(this,u),nr(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},n.get=function(u,m){return u?(u=this.V(u),0<u.length?String(u[0]):m):m};function Ii(u,m,v){tr(u,m),0<v.length&&(u.i=null,u.g.set(Un(u,m),M(v)),u.h+=v.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(var v=0;v<m.length;v++){var I=m[v];const G=encodeURIComponent(String(I)),ae=this.V(I);for(I=0;I<ae.length;I++){var z=G;ae[I]!==""&&(z+="="+encodeURIComponent(String(ae[I]))),u.push(z)}}return this.i=u.join("&")};function Un(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function wr(u,m){m&&!u.j&&(zt(u),u.i=null,u.g.forEach(function(v,I){var z=I.toLowerCase();I!=z&&(tr(this,I),Ii(this,z,v))},u)),u.j=m}function gd(u,m){const v=new jt;if(h.Image){const I=new Image;I.onload=C(mn,v,"TestLoadImage: loaded",!0,m,I),I.onerror=C(mn,v,"TestLoadImage: error",!1,m,I),I.onabort=C(mn,v,"TestLoadImage: abort",!1,m,I),I.ontimeout=C(mn,v,"TestLoadImage: timeout",!1,m,I),h.setTimeout(function(){I.ontimeout&&I.ontimeout()},1e4),I.src=u}else m(!1)}function Hl(u,m){const v=new jt,I=new AbortController,z=setTimeout(()=>{I.abort(),mn(v,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:I.signal}).then(G=>{clearTimeout(z),G.ok?mn(v,"TestPingServer: ok",!0,m):mn(v,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(z),mn(v,"TestPingServer: error",!1,m)})}function mn(u,m,v,I,z){try{z&&(z.onload=null,z.onerror=null,z.onabort=null,z.ontimeout=null),I(v)}catch{}}function yd(){this.g=new ds}function Wl(u,m,v){const I=v||"";try{vi(u,function(z,G){let ae=z;y(z)&&(ae=jr(z)),m.push(I+G+"="+encodeURIComponent(ae))})}catch(z){throw m.push(I+"type="+encodeURIComponent("_badmap")),z}}function Br(u){this.l=u.Ub||null,this.j=u.eb||!1}b(Br,vr),Br.prototype.g=function(){return new vs(this.l,this.j)},Br.prototype.i=function(u){return function(){return u}}({});function vs(u,m){ht.call(this),this.D=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}b(vs,ht),n=vs.prototype,n.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=u,this.A=m,this.readyState=1,ir(this)},n.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const m={headers:this.u,method:this.B,credentials:this.m,cache:void 0};u&&(m.body=u),(this.D||h).fetch(new Request(this.A,m)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,rr(this)),this.readyState=0},n.Sa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,ir(this)),this.g&&(this.readyState=3,ir(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof h.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;ql(this)}else u.text().then(this.Ra.bind(this),this.ga.bind(this))};function ql(u){u.j.read().then(u.Pa.bind(u)).catch(u.ga.bind(u))}n.Pa=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.v.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?rr(this):ir(this),this.readyState==3&&ql(this)}},n.Ra=function(u){this.g&&(this.response=this.responseText=u,rr(this))},n.Qa=function(u){this.g&&(this.response=u,rr(this))},n.ga=function(){this.g&&rr(this)};function rr(u){u.readyState=4,u.l=null,u.j=null,u.v=null,ir(u)}n.setRequestHeader=function(u,m){this.u.append(u,m)},n.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var v=m.next();!v.done;)v=v.value,u.push(v[0]+": "+v[1]),v=m.next();return u.join(`\r
`)};function ir(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(vs.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function $r(u){let m="";return ue(u,function(v,I){m+=I,m+=":",m+=v,m+=`\r
`}),m}function Si(u,m,v){e:{for(I in v){var I=!1;break e}I=!0}I||(v=$r(v),typeof u=="string"?v!=null&&encodeURIComponent(String(v)):Ge(u,m,v))}function nt(u){ht.call(this),this.headers=new Map,this.o=u||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}b(nt,ht);var vd=/^https?$/i,ca=["POST","PUT"];n=nt.prototype,n.Ha=function(u){this.J=u},n.ea=function(u,m,v,I){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Zn.g(),this.v=this.o?mi(this.o):mi(Zn),this.g.onreadystatechange=T(this.Ea,this);try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(G){_s(this,G);return}if(u=v||"",v=new Map(this.headers),I)if(Object.getPrototypeOf(I)===Object.prototype)for(var z in I)v.set(z,I[z]);else if(typeof I.keys=="function"&&typeof I.get=="function")for(const G of I.keys())v.set(G,I.get(G));else throw Error("Unknown input type for opt_headers: "+String(I));I=Array.from(v.keys()).find(G=>G.toLowerCase()=="content-type"),z=h.FormData&&u instanceof h.FormData,!(0<=Array.prototype.indexOf.call(ca,m,void 0))||I||z||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[G,ae]of v)this.g.setRequestHeader(G,ae);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Js(this),this.u=!0,this.g.send(u),this.u=!1}catch(G){_s(this,G)}};function _s(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.m=5,Xs(u),kn(u)}function Xs(u){u.A||(u.A=!0,Qe(u,"complete"),Qe(u,"error"))}n.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=u||7,Qe(this,"complete"),Qe(this,"abort"),kn(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),kn(this,!0)),nt.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?da(this):this.bb())},n.bb=function(){da(this)};function da(u){if(u.h&&typeof c<"u"&&(!u.v[1]||gn(u)!=4||u.Z()!=2)){if(u.u&&gn(u)==4)Yn(u.Ea,0,u);else if(Qe(u,"readystatechange"),gn(u)==4){u.h=!1;try{const ae=u.Z();e:switch(ae){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break e;default:m=!1}var v;if(!(v=m)){var I;if(I=ae===0){var z=String(u.D).match(gs)[1]||null;!z&&h.self&&h.self.location&&(z=h.self.location.protocol.slice(0,-1)),I=!vd.test(z?z.toLowerCase():"")}v=I}if(v)Qe(u,"complete"),Qe(u,"success");else{u.m=6;try{var G=2<gn(u)?u.g.statusText:""}catch{G=""}u.l=G+" ["+u.Z()+"]",Xs(u)}}finally{kn(u)}}}}function kn(u,m){if(u.g){Js(u);const v=u.g,I=u.v[0]?()=>{}:null;u.g=null,u.v=null,m||Qe(u,"ready");try{v.onreadystatechange=I}catch{}}}function Js(u){u.I&&(h.clearTimeout(u.I),u.I=null)}n.isActive=function(){return!!this.g};function gn(u){return u.g?u.g.readyState:0}n.Z=function(){try{return 2<gn(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),pi(m)}};function ha(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.H){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function Zs(u){const m={};u=(u.g&&2<=gn(u)&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let I=0;I<u.length;I++){if(K(u[I]))continue;var v=O(u[I]);const z=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const G=m[z]||[];m[z]=G,G.push(v)}x(m,function(I){return I.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Er(u,m,v){return v&&v.internalChannelParams&&v.internalChannelParams[u]||m}function fa(u){this.Aa=0,this.i=[],this.j=new jt,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Er("failFast",!1,u),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Er("baseRetryDelayMs",5e3,u),this.cb=Er("retryDelaySeedMs",1e4,u),this.Wa=Er("forwardChannelMaxRetries",2,u),this.wa=Er("forwardChannelRequestTimeoutMs",2e4,u),this.pa=u&&u.xmlHttpFactory||void 0,this.Xa=u&&u.Tb||void 0,this.Ca=u&&u.useFetchStreams||!1,this.L=void 0,this.J=u&&u.supportsCrossDomainXhr||!1,this.K="",this.h=new ms(u&&u.concurrentRequestLimit),this.Da=new yd,this.P=u&&u.fastHandshake||!1,this.O=u&&u.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=u&&u.Rb||!1,u&&u.xa&&this.j.xa(),u&&u.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&u&&u.detectBufferingProxy||!1,this.ja=void 0,u&&u.longPollingTimeout&&0<u.longPollingTimeout&&(this.ja=u.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=fa.prototype,n.la=8,n.G=1,n.connect=function(u,m,v,I){Ne(0),this.W=u,this.H=m||{},v&&I!==void 0&&(this.H.OSID=v,this.H.OAID=I),this.F=this.X,this.I=Yl(this,null,this.W),Tr(this)};function Bt(u){if(eo(u),u.G==3){var m=u.U++,v=Pn(u.I);if(Ge(v,"SID",u.K),Ge(v,"RID",m),Ge(v,"TYPE","terminate"),Hr(u,v),m=new er(u,u.j,m),m.L=2,m.v=Ei(Pn(v)),v=!1,h.navigator&&h.navigator.sendBeacon)try{v=h.navigator.sendBeacon(m.v.toString(),"")}catch{}!v&&h.Image&&(new Image().src=m.v,v=!0),v||(m.g=Xl(m.j,null),m.g.ea(m.v)),m.F=Date.now(),Ye(m)}Ql(u)}function sr(u){u.g&&(pa(u),u.g.cancel(),u.g=null)}function eo(u){sr(u),u.u&&(h.clearTimeout(u.u),u.u=null),ro(u),u.h.cancel(),u.s&&(typeof u.s=="number"&&h.clearTimeout(u.s),u.s=null)}function Tr(u){if(!An(u.h)&&!u.s){u.s=!0;var m=u.Ga;ee||re(),Q||(ee(),Q=!0),se.add(m,u),u.B=0}}function _d(u,m){return Ml(u.h)>=u.h.j-(u.s?1:0)?!1:u.s?(u.i=m.D.concat(u.i),!0):u.G==1||u.G==2||u.B>=(u.Va?0:u.Wa)?!1:(u.s=ct(T(u.Ga,u,m),Gl(u,u.B)),u.B++,!0)}n.Ga=function(u){if(this.s)if(this.s=null,this.G==1){if(!u){this.U=Math.floor(1e5*Math.random()),u=this.U++;const z=new er(this,this.j,u);let G=this.o;if(this.S&&(G?(G=S(G),N(G,this.S)):G=this.S),this.m!==null||this.O||(z.H=G,G=null),this.P)e:{for(var m=0,v=0;v<this.i.length;v++){t:{var I=this.i[v];if("__data__"in I.map&&(I=I.map.__data__,typeof I=="string")){I=I.length;break t}I=void 0}if(I===void 0)break;if(m+=I,4096<m){m=v;break e}if(m===4096||v===this.i.length-1){m=v+1;break e}}m=1e3}else m=1e3;m=Ri(this,z,m),v=Pn(this.I),Ge(v,"RID",u),Ge(v,"CVER",22),this.D&&Ge(v,"X-HTTP-Session-Id",this.D),Hr(this,v),G&&(this.O?m="headers="+encodeURIComponent(String($r(G)))+"&"+m:this.m&&Si(v,this.m,G)),la(this.h,z),this.Ua&&Ge(v,"TYPE","init"),this.P?(Ge(v,"$req",m),Ge(v,"SID","null"),z.T=!0,Ks(z,v,null)):Ks(z,v,m),this.G=2}}else this.G==3&&(u?to(this,u):this.i.length==0||An(this.h)||to(this))};function to(u,m){var v;m?v=m.l:v=u.U++;const I=Pn(u.I);Ge(I,"SID",u.K),Ge(I,"RID",v),Ge(I,"AID",u.T),Hr(u,I),u.m&&u.o&&Si(I,u.m,u.o),v=new er(u,u.j,v,u.B+1),u.m===null&&(v.H=u.o),m&&(u.i=m.D.concat(u.i)),m=Ri(u,v,1e3),v.I=Math.round(.5*u.wa)+Math.round(.5*u.wa*Math.random()),la(u.h,v),Ks(v,I,m)}function Hr(u,m){u.H&&ue(u.H,function(v,I){Ge(m,I,v)}),u.l&&vi({},function(v,I){Ge(m,I,v)})}function Ri(u,m,v){v=Math.min(u.i.length,v);var I=u.l?T(u.l.Na,u.l,u):null;e:{var z=u.i;let G=-1;for(;;){const ae=["count="+v];G==-1?0<v?(G=z[0].g,ae.push("ofs="+G)):G=0:ae.push("ofs="+G);let qe=!0;for(let St=0;St<v;St++){let ze=z[St].g;const Nt=z[St].map;if(ze-=G,0>ze)G=Math.max(0,z[St].g-100),qe=!1;else try{Wl(Nt,ae,"req"+ze+"_")}catch{I&&I(Nt)}}if(qe){I=ae.join("&");break e}}}return u=u.i.splice(0,v),m.D=u,I}function ws(u){if(!u.g&&!u.u){u.Y=1;var m=u.Fa;ee||re(),Q||(ee(),Q=!0),se.add(m,u),u.v=0}}function no(u){return u.g||u.u||3<=u.v?!1:(u.Y++,u.u=ct(T(u.Fa,u),Gl(u,u.v)),u.v++,!0)}n.Fa=function(){if(this.u=null,Kl(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var u=2*this.R;this.j.info("BP detection timer enabled: "+u),this.A=ct(T(this.ab,this),u)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Ne(10),sr(this),Kl(this))};function pa(u){u.A!=null&&(h.clearTimeout(u.A),u.A=null)}function Kl(u){u.g=new er(u,u.j,"rpc",u.Y),u.m===null&&(u.g.H=u.o),u.g.O=0;var m=Pn(u.qa);Ge(m,"RID","rpc"),Ge(m,"SID",u.K),Ge(m,"AID",u.T),Ge(m,"CI",u.F?"0":"1"),!u.F&&u.ja&&Ge(m,"TO",u.ja),Ge(m,"TYPE","xmlhttp"),Hr(u,m),u.m&&u.o&&Si(m,u.m,u.o),u.L&&(u.g.I=u.L);var v=u.g;u=u.ia,v.L=1,v.v=Ei(Pn(m)),v.m=null,v.P=!0,oa(v,u)}n.Za=function(){this.C!=null&&(this.C=null,sr(this),no(this),Ne(19))};function ro(u){u.C!=null&&(h.clearTimeout(u.C),u.C=null)}function io(u,m){var v=null;if(u.g==m){ro(u),pa(u),u.g=null;var I=2}else if(ln(u.h,m))v=m.D,Fl(u.h,m),I=1;else return;if(u.G!=0){if(m.o)if(I==1){v=m.m?m.m.length:0,m=Date.now()-m.F;var z=u.B;I=yt(),Qe(I,new an(I,v)),Tr(u)}else ws(u);else if(z=m.s,z==3||z==0&&0<m.X||!(I==1&&_d(u,m)||I==2&&no(u)))switch(v&&0<v.length&&(m=u.h,m.i=m.i.concat(v)),z){case 1:Wr(u,5);break;case 4:Wr(u,10);break;case 3:Wr(u,6);break;default:Wr(u,2)}}}function Gl(u,m){let v=u.Ta+Math.floor(Math.random()*u.cb);return u.isActive()||(v*=2),v*m}function Wr(u,m){if(u.j.info("Error code "+m),m==2){var v=T(u.fb,u),I=u.Xa;const z=!I;I=new zr(I||"//www.google.com/images/cleardot.gif"),h.location&&h.location.protocol=="http"||ys(I,"https"),Ei(I),z?gd(I.toString(),v):Hl(I.toString(),v)}else Ne(2);u.G=0,u.l&&u.l.sa(m),Ql(u),eo(u)}n.fb=function(u){u?(this.j.info("Successfully pinged google.com"),Ne(2)):(this.j.info("Failed to ping google.com"),Ne(1))};function Ql(u){if(u.G=0,u.ka=[],u.l){const m=Ul(u.h);(m.length!=0||u.i.length!=0)&&(D(u.ka,m),D(u.ka,u.i),u.h.i.length=0,M(u.i),u.i.length=0),u.l.ra()}}function Yl(u,m,v){var I=v instanceof zr?Pn(v):new zr(v);if(I.g!="")m&&(I.g=m+"."+I.g),_i(I,I.s);else{var z=h.location;I=z.protocol,m=m?m+"."+z.hostname:z.hostname,z=+z.port;var G=new zr(null);I&&ys(G,I),m&&(G.g=m),z&&_i(G,z),v&&(G.l=v),I=G}return v=u.D,m=u.ya,v&&m&&Ge(I,v,m),Ge(I,"VER",u.la),Hr(u,I),I}function Xl(u,m,v){if(m&&!u.J)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Ca&&!u.pa?new nt(new Br({eb:v})):new nt(u.pa),m.Ha(u.J),m}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function ma(){}n=ma.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function so(){}so.prototype.g=function(u,m){return new un(u,m)};function un(u,m){ht.call(this),this.g=new fa(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.va&&(u?u["X-WebChannel-Client-Profile"]=m.va:u={"X-WebChannel-Client-Profile":m.va}),this.g.S=u,(u=m&&m.Sb)&&!K(u)&&(this.g.m=u),this.v=m&&m.supportsCrossDomainXhr||!1,this.u=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!K(m)&&(this.g.D=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new Ir(this)}b(un,ht),un.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},un.prototype.close=function(){Bt(this.g)},un.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var v={};v.__data__=u,u=v}else this.u&&(v={},v.__data__=jr(u),u=v);m.i.push(new Vl(m.Ya++,u)),m.G==3&&Tr(m)},un.prototype.N=function(){this.g.l=null,delete this.j,Bt(this.g),delete this.g,un.aa.N.call(this)};function Jl(u){Ke.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){e:{for(const v in m){u=v;break e}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}b(Jl,Ke);function Zl(){gt.call(this),this.status=1}b(Zl,gt);function Ir(u){this.g=u}b(Ir,ma),Ir.prototype.ua=function(){Qe(this.g,"a")},Ir.prototype.ta=function(u){Qe(this.g,new Jl(u))},Ir.prototype.sa=function(u){Qe(this.g,new Zl)},Ir.prototype.ra=function(){Qe(this.g,"b")},so.prototype.createWebChannel=so.prototype.g,un.prototype.send=un.prototype.o,un.prototype.open=un.prototype.m,un.prototype.close=un.prototype.close,Q_=function(){return new so},G_=function(){return yt()},K_=tt,vf={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Ws.NO_ERROR=0,Ws.TIMEOUT=8,Ws.HTTP_ERROR=6,dc=Ws,Nl.COMPLETE="complete",q_=Nl,gi.EventType=fn,fn.OPEN="a",fn.CLOSE="b",fn.ERROR="c",fn.MESSAGE="d",ht.prototype.listen=ht.prototype.K,Wa=gi,nt.prototype.listenOnce=nt.prototype.L,nt.prototype.getLastError=nt.prototype.Ka,nt.prototype.getLastErrorCode=nt.prototype.Ba,nt.prototype.getStatus=nt.prototype.Z,nt.prototype.getResponseJson=nt.prototype.Oa,nt.prototype.getResponseText=nt.prototype.oa,nt.prototype.send=nt.prototype.ea,nt.prototype.setWithCredentials=nt.prototype.Ha,W_=nt}).apply(typeof Qu<"u"?Qu:typeof self<"u"?self:typeof window<"u"?window:{});const Oy="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}tn.UNAUTHENTICATED=new tn(null),tn.GOOGLE_CREDENTIALS=new tn("google-credentials-uid"),tn.FIRST_PARTY=new tn("first-party-uid"),tn.MOCK_USER=new tn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Jo="11.2.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fs=new $f("@firebase/firestore");function Po(){return Fs.logLevel}function he(n,...e){if(Fs.logLevel<=Le.DEBUG){const t=e.map(tp);Fs.debug(`Firestore (${Jo}): ${n}`,...t)}}function ui(n,...e){if(Fs.logLevel<=Le.ERROR){const t=e.map(tp);Fs.error(`Firestore (${Jo}): ${n}`,...t)}}function jo(n,...e){if(Fs.logLevel<=Le.WARN){const t=e.map(tp);Fs.warn(`Firestore (${Jo}): ${n}`,...t)}}function tp(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ae(n="Unexpected state"){const e=`FIRESTORE (${Jo}) INTERNAL ASSERTION FAILED: `+n;throw ui(e),new Error(e)}function We(n,e){n||Ae()}function ke(n,e){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const te={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class we extends hi{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ji{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y_{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class aA{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(tn.UNAUTHENTICATED))}shutdown(){}}class lA{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class uA{constructor(e){this.t=e,this.currentUser=tn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){We(this.o===void 0);let i=this.i;const o=p=>this.i!==i?(i=this.i,t(p)):Promise.resolve();let a=new Ji;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new Ji,e.enqueueRetryable(()=>o(this.currentUser))};const c=()=>{const p=a;e.enqueueRetryable(async()=>{await p.promise,await o(this.currentUser)})},h=p=>{he("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit(p=>h(p)),setTimeout(()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?h(p):(he("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new Ji)}},0),c()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(i=>this.i!==e?(he("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(We(typeof i.accessToken=="string"),new Y_(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return We(e===null||typeof e=="string"),new tn(e)}}class cA{constructor(e,t,i){this.l=e,this.h=t,this.P=i,this.type="FirstParty",this.user=tn.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class dA{constructor(e,t,i){this.l=e,this.h=t,this.P=i}getToken(){return Promise.resolve(new cA(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable(()=>t(tn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class hA{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class fA{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,t){We(this.o===void 0);const i=a=>{a.error!=null&&he("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const c=a.token!==this.R;return this.R=a.token,he("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?t(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable(()=>i(a))};const o=a=>{he("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(a=>o(a)),setTimeout(()=>{if(!this.appCheck){const a=this.A.getImmediate({optional:!0});a?o(a):he("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(We(typeof t.token=="string"),this.R=t.token,new hA(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pA(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let i=0;i<n;i++)t[i]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X_{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let i="";for(;i.length<20;){const o=pA(40);for(let a=0;a<o.length;++a)i.length<20&&o[a]<t&&(i+=e.charAt(o[a]%e.length))}return i}}function Ue(n,e){return n<e?-1:n>e?1:0}function zo(n,e,t){return n.length===e.length&&n.every((i,o)=>t(i,e[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kt{static now(){return kt.fromMillis(Date.now())}static fromDate(e){return kt.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),i=Math.floor(1e6*(e-1e3*t));return new kt(t,i)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new we(te.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new we(te.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new we(te.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new we(te.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Ue(this.nanoseconds,e.nanoseconds):Ue(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pe{static fromTimestamp(e){return new Pe(e)}static min(){return new Pe(new kt(0,0))}static max(){return new Pe(new kt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pr{constructor(e,t,i){t===void 0?t=0:t>e.length&&Ae(),i===void 0?i=e.length-t:i>e.length-t&&Ae(),this.segments=e,this.offset=t,this.len=i}get length(){return this.len}isEqual(e){return Pr.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Pr?e.forEach(i=>{t.push(i)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,i=this.limit();t<i;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const i=Math.min(e.length,t.length);for(let o=0;o<i;o++){const a=Pr.compareSegments(e.get(o),t.get(o));if(a!==0)return a}return Math.sign(e.length-t.length)}static compareSegments(e,t){const i=Pr.isNumericId(e),o=Pr.isNumericId(t);return i&&!o?-1:!i&&o?1:i&&o?Pr.extractNumericId(e).compare(Pr.extractNumericId(t)):e<t?-1:e>t?1:0}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Xi.fromString(e.substring(4,e.length-2))}}class it extends Pr{construct(e,t,i){return new it(e,t,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const i of e){if(i.indexOf("//")>=0)throw new we(te.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);t.push(...i.split("/").filter(o=>o.length>0))}return new it(t)}static emptyPath(){return new it([])}}const mA=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class qt extends Pr{construct(e,t,i){return new qt(e,t,i)}static isValidIdentifier(e){return mA.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),qt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new qt(["__name__"])}static fromServerFormat(e){const t=[];let i="",o=0;const a=()=>{if(i.length===0)throw new we(te.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(i),i=""};let c=!1;for(;o<e.length;){const h=e[o];if(h==="\\"){if(o+1===e.length)throw new we(te.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[o+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new we(te.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=p,o+=2}else h==="`"?(c=!c,o++):h!=="."||c?(i+=h,o++):(a(),o++)}if(a(),c)throw new we(te.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new qt(t)}static emptyPath(){return new qt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ie{constructor(e){this.path=e}static fromPath(e){return new Ie(it.fromString(e))}static fromName(e){return new Ie(it.fromString(e).popFirst(5))}static empty(){return new Ie(it.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&it.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return it.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ie(new it(e.slice()))}}function gA(n,e){const t=n.toTimestamp().seconds,i=n.toTimestamp().nanoseconds+1,o=Pe.fromTimestamp(i===1e9?new kt(t+1,0):new kt(t,i));return new ts(o,Ie.empty(),e)}function yA(n){return new ts(n.readTime,n.key,-1)}class ts{constructor(e,t,i){this.readTime=e,this.documentKey=t,this.largestBatchId=i}static min(){return new ts(Pe.min(),Ie.empty(),-1)}static max(){return new ts(Pe.max(),Ie.empty(),-1)}}function vA(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=Ie.comparator(n.documentKey,e.documentKey),t!==0?t:Ue(n.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _A="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class wA{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Zo(n){if(n.code!==te.FAILED_PRECONDITION||n.message!==_A)throw n;he("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Ae(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new X((i,o)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(i,o)},this.catchCallback=a=>{this.wrapFailure(t,a).next(i,o)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof X?t:X.resolve(t)}catch(t){return X.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):X.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):X.reject(t)}static resolve(e){return new X((t,i)=>{t(e)})}static reject(e){return new X((t,i)=>{i(e)})}static waitFor(e){return new X((t,i)=>{let o=0,a=0,c=!1;e.forEach(h=>{++o,h.next(()=>{++a,c&&a===o&&t()},p=>i(p))}),c=!0,a===o&&t()})}static or(e){let t=X.resolve(!1);for(const i of e)t=t.next(o=>o?X.resolve(o):i());return t}static forEach(e,t){const i=[];return e.forEach((o,a)=>{i.push(t.call(this,o,a))}),this.waitFor(i)}static mapArray(e,t){return new X((i,o)=>{const a=e.length,c=new Array(a);let h=0;for(let p=0;p<a;p++){const y=p;t(e[y]).next(_=>{c[y]=_,++h,h===a&&i(c)},_=>o(_))}})}static doWhile(e,t){return new X((i,o)=>{const a=()=>{e()===!0?t().next(()=>{a()},o):i()};a()})}}function EA(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function ea(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yc{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=i=>this.ie(i),this.se=i=>t.writeSequenceNumber(i))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}Yc.oe=-1;function Xc(n){return n==null}function Ac(n){return n===0&&1/n==-1/0}function TA(n){return typeof n=="number"&&Number.isInteger(n)&&!Ac(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IA(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=Ly(e)),e=SA(n.get(t),e);return Ly(e)}function SA(n,e){let t=e;const i=n.length;for(let o=0;o<i;o++){const a=n.charAt(o);switch(a){case"\0":t+="";break;case"":t+="";break;default:t+=a}}return t}function Ly(n){return n+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vy(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function zs(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function J_(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ut{constructor(e,t){this.comparator=e,this.root=t||Wt.EMPTY}insert(e,t){return new ut(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Wt.BLACK,null,null))}remove(e){return new ut(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Wt.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const i=this.comparator(e,t.key);if(i===0)return t.value;i<0?t=t.left:i>0&&(t=t.right)}return null}indexOf(e){let t=0,i=this.root;for(;!i.isEmpty();){const o=this.comparator(e,i.key);if(o===0)return t+i.left.size;o<0?i=i.left:(t+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,i)=>(e(t,i),!1))}toString(){const e=[];return this.inorderTraversal((t,i)=>(e.push(`${t}:${i}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Yu(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Yu(this.root,e,this.comparator,!1)}getReverseIterator(){return new Yu(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Yu(this.root,e,this.comparator,!0)}}class Yu{constructor(e,t,i,o){this.isReverse=o,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=t?i(e.key,t):1,t&&o&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(a===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Wt{constructor(e,t,i,o,a){this.key=e,this.value=t,this.color=i??Wt.RED,this.left=o??Wt.EMPTY,this.right=a??Wt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,i,o,a){return new Wt(e??this.key,t??this.value,i??this.color,o??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,i){let o=this;const a=i(e,o.key);return o=a<0?o.copy(null,null,null,o.left.insert(e,t,i),null):a===0?o.copy(null,t,null,null,null):o.copy(null,null,null,null,o.right.insert(e,t,i)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Wt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let i,o=this;if(t(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,t),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),t(e,o.key)===0){if(o.right.isEmpty())return Wt.EMPTY;i=o.right.min(),o=o.copy(i.key,i.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,t))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Wt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Wt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Ae();const e=this.left.check();if(e!==this.right.check())throw Ae();return e+(this.isRed()?0:1)}}Wt.EMPTY=null,Wt.RED=!0,Wt.BLACK=!1;Wt.EMPTY=new class{constructor(){this.size=0}get key(){throw Ae()}get value(){throw Ae()}get color(){throw Ae()}get left(){throw Ae()}get right(){throw Ae()}copy(e,t,i,o,a){return this}insert(e,t,i){return new Wt(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xt{constructor(e){this.comparator=e,this.data=new ut(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,i)=>(e(t),!1))}forEachInRange(e,t){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const o=i.getNext();if(this.comparator(o.key,e[1])>=0)return;t(o.key)}}forEachWhile(e,t){let i;for(i=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new My(this.data.getIterator())}getIteratorFrom(e){return new My(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(i=>{t=t.add(i)}),t}isEqual(e){if(!(e instanceof xt)||this.size!==e.size)return!1;const t=this.data.getIterator(),i=e.data.getIterator();for(;t.hasNext();){const o=t.getNext().key,a=i.getNext().key;if(this.comparator(o,a)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new xt(this.comparator);return t.data=e,t}}class My{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hr{constructor(e){this.fields=e,e.sort(qt.comparator)}static empty(){return new hr([])}unionWith(e){let t=new xt(qt.comparator);for(const i of this.fields)t=t.add(i);for(const i of e)t=t.add(i);return new hr(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return zo(this.fields,e.fields,(t,i)=>t.isEqual(i))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z_ extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kt{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(o){try{return atob(o)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new Z_("Invalid base64 string: "+a):a}}(e);return new Kt(t)}static fromUint8Array(e){const t=function(o){let a="";for(let c=0;c<o.length;++c)a+=String.fromCharCode(o[c]);return a}(e);return new Kt(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const i=new Uint8Array(t.length);for(let o=0;o<t.length;o++)i[o]=t.charCodeAt(o);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ue(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Kt.EMPTY_BYTE_STRING=new Kt("");const RA=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ns(n){if(We(!!n),typeof n=="string"){let e=0;const t=RA.exec(n);if(We(!!t),t[1]){let o=t[1];o=(o+"000000000").substr(0,9),e=Number(o)}const i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:pt(n.seconds),nanos:pt(n.nanos)}}function pt(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function rs(n){return typeof n=="string"?Kt.fromBase64String(n):Kt.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function np(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||t===void 0?void 0:t.stringValue)==="server_timestamp"}function Jc(n){const e=n.mapValue.fields.__previous_value__;return np(e)?Jc(e):e}function al(n){const e=ns(n.mapValue.fields.__local_write_time__.timestampValue);return new kt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CA{constructor(e,t,i,o,a,c,h,p,y){this.databaseId=e,this.appId=t,this.persistenceKey=i,this.host=o,this.ssl=a,this.forceLongPolling=c,this.autoDetectLongPolling=h,this.longPollingOptions=p,this.useFetchStreams=y}}class ll{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new ll("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof ll&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xu={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function is(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?np(n)?4:PA(n)?9007199254740991:AA(n)?10:11:Ae()}function Or(n,e){if(n===e)return!0;const t=is(n);if(t!==is(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return al(n).isEqual(al(e));case 3:return function(o,a){if(typeof o.timestampValue=="string"&&typeof a.timestampValue=="string"&&o.timestampValue.length===a.timestampValue.length)return o.timestampValue===a.timestampValue;const c=ns(o.timestampValue),h=ns(a.timestampValue);return c.seconds===h.seconds&&c.nanos===h.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return function(o,a){return rs(o.bytesValue).isEqual(rs(a.bytesValue))}(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return function(o,a){return pt(o.geoPointValue.latitude)===pt(a.geoPointValue.latitude)&&pt(o.geoPointValue.longitude)===pt(a.geoPointValue.longitude)}(n,e);case 2:return function(o,a){if("integerValue"in o&&"integerValue"in a)return pt(o.integerValue)===pt(a.integerValue);if("doubleValue"in o&&"doubleValue"in a){const c=pt(o.doubleValue),h=pt(a.doubleValue);return c===h?Ac(c)===Ac(h):isNaN(c)&&isNaN(h)}return!1}(n,e);case 9:return zo(n.arrayValue.values||[],e.arrayValue.values||[],Or);case 10:case 11:return function(o,a){const c=o.mapValue.fields||{},h=a.mapValue.fields||{};if(Vy(c)!==Vy(h))return!1;for(const p in c)if(c.hasOwnProperty(p)&&(h[p]===void 0||!Or(c[p],h[p])))return!1;return!0}(n,e);default:return Ae()}}function ul(n,e){return(n.values||[]).find(t=>Or(t,e))!==void 0}function Bo(n,e){if(n===e)return 0;const t=is(n),i=is(e);if(t!==i)return Ue(t,i);switch(t){case 0:case 9007199254740991:return 0;case 1:return Ue(n.booleanValue,e.booleanValue);case 2:return function(a,c){const h=pt(a.integerValue||a.doubleValue),p=pt(c.integerValue||c.doubleValue);return h<p?-1:h>p?1:h===p?0:isNaN(h)?isNaN(p)?0:-1:1}(n,e);case 3:return Fy(n.timestampValue,e.timestampValue);case 4:return Fy(al(n),al(e));case 5:return Ue(n.stringValue,e.stringValue);case 6:return function(a,c){const h=rs(a),p=rs(c);return h.compareTo(p)}(n.bytesValue,e.bytesValue);case 7:return function(a,c){const h=a.split("/"),p=c.split("/");for(let y=0;y<h.length&&y<p.length;y++){const _=Ue(h[y],p[y]);if(_!==0)return _}return Ue(h.length,p.length)}(n.referenceValue,e.referenceValue);case 8:return function(a,c){const h=Ue(pt(a.latitude),pt(c.latitude));return h!==0?h:Ue(pt(a.longitude),pt(c.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return Uy(n.arrayValue,e.arrayValue);case 10:return function(a,c){var h,p,y,_;const E=a.fields||{},T=c.fields||{},C=(h=E.value)===null||h===void 0?void 0:h.arrayValue,b=(p=T.value)===null||p===void 0?void 0:p.arrayValue,M=Ue(((y=C==null?void 0:C.values)===null||y===void 0?void 0:y.length)||0,((_=b==null?void 0:b.values)===null||_===void 0?void 0:_.length)||0);return M!==0?M:Uy(C,b)}(n.mapValue,e.mapValue);case 11:return function(a,c){if(a===Xu.mapValue&&c===Xu.mapValue)return 0;if(a===Xu.mapValue)return 1;if(c===Xu.mapValue)return-1;const h=a.fields||{},p=Object.keys(h),y=c.fields||{},_=Object.keys(y);p.sort(),_.sort();for(let E=0;E<p.length&&E<_.length;++E){const T=Ue(p[E],_[E]);if(T!==0)return T;const C=Bo(h[p[E]],y[_[E]]);if(C!==0)return C}return Ue(p.length,_.length)}(n.mapValue,e.mapValue);default:throw Ae()}}function Fy(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return Ue(n,e);const t=ns(n),i=ns(e),o=Ue(t.seconds,i.seconds);return o!==0?o:Ue(t.nanos,i.nanos)}function Uy(n,e){const t=n.values||[],i=e.values||[];for(let o=0;o<t.length&&o<i.length;++o){const a=Bo(t[o],i[o]);if(a)return a}return Ue(t.length,i.length)}function $o(n){return _f(n)}function _f(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){const i=ns(t);return`time(${i.seconds},${i.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(t){return rs(t).toBase64()}(n.bytesValue):"referenceValue"in n?function(t){return Ie.fromName(t).toString()}(n.referenceValue):"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let i="[",o=!0;for(const a of t.values||[])o?o=!1:i+=",",i+=_f(a);return i+"]"}(n.arrayValue):"mapValue"in n?function(t){const i=Object.keys(t.fields||{}).sort();let o="{",a=!0;for(const c of i)a?a=!1:o+=",",o+=`${c}:${_f(t.fields[c])}`;return o+"}"}(n.mapValue):Ae()}function hc(n){switch(is(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Jc(n);return e?16+hc(e):16;case 5:return 2*n.stringValue.length;case 6:return rs(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return function(i){return(i.values||[]).reduce((o,a)=>o+hc(a),0)}(n.arrayValue);case 10:case 11:return function(i){let o=0;return zs(i.fields,(a,c)=>{o+=a.length+hc(c)}),o}(n.mapValue);default:throw Ae()}}function wf(n){return!!n&&"integerValue"in n}function rp(n){return!!n&&"arrayValue"in n}function jy(n){return!!n&&"nullValue"in n}function zy(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function fc(n){return!!n&&"mapValue"in n}function AA(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||t===void 0?void 0:t.stringValue)==="__vector__"}function Ya(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return zs(n.mapValue.fields,(t,i)=>e.mapValue.fields[t]=Ya(i)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Ya(n.arrayValue.values[t]);return e}return Object.assign({},n)}function PA(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gn{constructor(e){this.value=e}static empty(){return new Gn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let i=0;i<e.length-1;++i)if(t=(t.mapValue.fields||{})[e.get(i)],!fc(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Ya(t)}setAll(e){let t=qt.emptyPath(),i={},o=[];e.forEach((c,h)=>{if(!t.isImmediateParentOf(h)){const p=this.getFieldsMap(t);this.applyChanges(p,i,o),i={},o=[],t=h.popLast()}c?i[h.lastSegment()]=Ya(c):o.push(h.lastSegment())});const a=this.getFieldsMap(t);this.applyChanges(a,i,o)}delete(e){const t=this.field(e.popLast());fc(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Or(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let i=0;i<e.length;++i){let o=t.mapValue.fields[e.get(i)];fc(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},t.mapValue.fields[e.get(i)]=o),t=o}return t.mapValue.fields}applyChanges(e,t,i){zs(t,(o,a)=>e[o]=a);for(const o of i)delete e[o]}clone(){return new Gn(Ya(this.value))}}function ew(n){const e=[];return zs(n.fields,(t,i)=>{const o=new qt([t]);if(fc(i)){const a=ew(i.mapValue).fields;if(a.length===0)e.push(o);else for(const c of a)e.push(o.child(c))}else e.push(o)}),new hr(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nn{constructor(e,t,i,o,a,c,h){this.key=e,this.documentType=t,this.version=i,this.readTime=o,this.createTime=a,this.data=c,this.documentState=h}static newInvalidDocument(e){return new nn(e,0,Pe.min(),Pe.min(),Pe.min(),Gn.empty(),0)}static newFoundDocument(e,t,i,o){return new nn(e,1,t,Pe.min(),i,o,0)}static newNoDocument(e,t){return new nn(e,2,t,Pe.min(),Pe.min(),Gn.empty(),0)}static newUnknownDocument(e,t){return new nn(e,3,t,Pe.min(),Pe.min(),Gn.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Pe.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Gn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Gn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Pe.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof nn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new nn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pc{constructor(e,t){this.position=e,this.inclusive=t}}function By(n,e,t){let i=0;for(let o=0;o<n.position.length;o++){const a=e[o],c=n.position[o];if(a.field.isKeyField()?i=Ie.comparator(Ie.fromName(c.referenceValue),t.key):i=Bo(c,t.data.field(a.field)),a.dir==="desc"&&(i*=-1),i!==0)break}return i}function $y(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Or(n.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kc{constructor(e,t="asc"){this.field=e,this.dir=t}}function kA(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tw{}class Pt extends tw{constructor(e,t,i){super(),this.field=e,this.op=t,this.value=i}static create(e,t,i){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,i):new bA(e,t,i):t==="array-contains"?new OA(e,i):t==="in"?new LA(e,i):t==="not-in"?new VA(e,i):t==="array-contains-any"?new MA(e,i):new Pt(e,t,i)}static createKeyFieldInFilter(e,t,i){return t==="in"?new NA(e,i):new DA(e,i)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&this.matchesComparison(Bo(t,this.value)):t!==null&&is(this.value)===is(t)&&this.matchesComparison(Bo(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ae()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Lr extends tw{constructor(e,t){super(),this.filters=e,this.op=t,this.ae=null}static create(e,t){return new Lr(e,t)}matches(e){return nw(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function nw(n){return n.op==="and"}function rw(n){return xA(n)&&nw(n)}function xA(n){for(const e of n.filters)if(e instanceof Lr)return!1;return!0}function Ef(n){if(n instanceof Pt)return n.field.canonicalString()+n.op.toString()+$o(n.value);if(rw(n))return n.filters.map(e=>Ef(e)).join(",");{const e=n.filters.map(t=>Ef(t)).join(",");return`${n.op}(${e})`}}function iw(n,e){return n instanceof Pt?function(i,o){return o instanceof Pt&&i.op===o.op&&i.field.isEqual(o.field)&&Or(i.value,o.value)}(n,e):n instanceof Lr?function(i,o){return o instanceof Lr&&i.op===o.op&&i.filters.length===o.filters.length?i.filters.reduce((a,c,h)=>a&&iw(c,o.filters[h]),!0):!1}(n,e):void Ae()}function sw(n){return n instanceof Pt?function(t){return`${t.field.canonicalString()} ${t.op} ${$o(t.value)}`}(n):n instanceof Lr?function(t){return t.op.toString()+" {"+t.getFilters().map(sw).join(" ,")+"}"}(n):"Filter"}class bA extends Pt{constructor(e,t,i){super(e,t,i),this.key=Ie.fromName(i.referenceValue)}matches(e){const t=Ie.comparator(e.key,this.key);return this.matchesComparison(t)}}class NA extends Pt{constructor(e,t){super(e,"in",t),this.keys=ow("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class DA extends Pt{constructor(e,t){super(e,"not-in",t),this.keys=ow("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function ow(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(i=>Ie.fromName(i.referenceValue))}class OA extends Pt{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return rp(t)&&ul(t.arrayValue,this.value)}}class LA extends Pt{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&ul(this.value.arrayValue,t)}}class VA extends Pt{constructor(e,t){super(e,"not-in",t)}matches(e){if(ul(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&!ul(this.value.arrayValue,t)}}class MA extends Pt{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!rp(t)||!t.arrayValue.values)&&t.arrayValue.values.some(i=>ul(this.value.arrayValue,i))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FA{constructor(e,t=null,i=[],o=[],a=null,c=null,h=null){this.path=e,this.collectionGroup=t,this.orderBy=i,this.filters=o,this.limit=a,this.startAt=c,this.endAt=h,this.ue=null}}function Hy(n,e=null,t=[],i=[],o=null,a=null,c=null){return new FA(n,e,t,i,o,a,c)}function ip(n){const e=ke(n);if(e.ue===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(i=>Ef(i)).join(","),t+="|ob:",t+=e.orderBy.map(i=>function(a){return a.field.canonicalString()+a.dir}(i)).join(","),Xc(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(i=>$o(i)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(i=>$o(i)).join(",")),e.ue=t}return e.ue}function sp(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!kA(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!iw(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!$y(n.startAt,e.startAt)&&$y(n.endAt,e.endAt)}function Tf(n){return Ie.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zc{constructor(e,t=null,i=[],o=[],a=null,c="F",h=null,p=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=i,this.filters=o,this.limit=a,this.limitType=c,this.startAt=h,this.endAt=p,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function UA(n,e,t,i,o,a,c,h){return new Zc(n,e,t,i,o,a,c,h)}function aw(n){return new Zc(n)}function Wy(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function jA(n){return n.collectionGroup!==null}function Xa(n){const e=ke(n);if(e.ce===null){e.ce=[];const t=new Set;for(const a of e.explicitOrderBy)e.ce.push(a),t.add(a.field.canonicalString());const i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(c){let h=new xt(qt.comparator);return c.filters.forEach(p=>{p.getFlattenedFilters().forEach(y=>{y.isInequality()&&(h=h.add(y.field))})}),h})(e).forEach(a=>{t.has(a.canonicalString())||a.isKeyField()||e.ce.push(new kc(a,i))}),t.has(qt.keyField().canonicalString())||e.ce.push(new kc(qt.keyField(),i))}return e.ce}function br(n){const e=ke(n);return e.le||(e.le=zA(e,Xa(n))),e.le}function zA(n,e){if(n.limitType==="F")return Hy(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(o=>{const a=o.dir==="desc"?"asc":"desc";return new kc(o.field,a)});const t=n.endAt?new Pc(n.endAt.position,n.endAt.inclusive):null,i=n.startAt?new Pc(n.startAt.position,n.startAt.inclusive):null;return Hy(n.path,n.collectionGroup,e,n.filters,n.limit,t,i)}}function If(n,e,t){return new Zc(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function ed(n,e){return sp(br(n),br(e))&&n.limitType===e.limitType}function lw(n){return`${ip(br(n))}|lt:${n.limitType}`}function ko(n){return`Query(target=${function(t){let i=t.path.canonicalString();return t.collectionGroup!==null&&(i+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(i+=`, filters: [${t.filters.map(o=>sw(o)).join(", ")}]`),Xc(t.limit)||(i+=", limit: "+t.limit),t.orderBy.length>0&&(i+=`, orderBy: [${t.orderBy.map(o=>function(c){return`${c.field.canonicalString()} (${c.dir})`}(o)).join(", ")}]`),t.startAt&&(i+=", startAt: ",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map(o=>$o(o)).join(",")),t.endAt&&(i+=", endAt: ",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map(o=>$o(o)).join(",")),`Target(${i})`}(br(n))}; limitType=${n.limitType})`}function td(n,e){return e.isFoundDocument()&&function(i,o){const a=o.key.path;return i.collectionGroup!==null?o.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(a):Ie.isDocumentKey(i.path)?i.path.isEqual(a):i.path.isImmediateParentOf(a)}(n,e)&&function(i,o){for(const a of Xa(i))if(!a.field.isKeyField()&&o.data.field(a.field)===null)return!1;return!0}(n,e)&&function(i,o){for(const a of i.filters)if(!a.matches(o))return!1;return!0}(n,e)&&function(i,o){return!(i.startAt&&!function(c,h,p){const y=By(c,h,p);return c.inclusive?y<=0:y<0}(i.startAt,Xa(i),o)||i.endAt&&!function(c,h,p){const y=By(c,h,p);return c.inclusive?y>=0:y>0}(i.endAt,Xa(i),o))}(n,e)}function BA(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function uw(n){return(e,t)=>{let i=!1;for(const o of Xa(n)){const a=$A(o,e,t);if(a!==0)return a;i=i||o.field.isKeyField()}return 0}}function $A(n,e,t){const i=n.field.isKeyField()?Ie.comparator(e.key,t.key):function(a,c,h){const p=c.data.field(a),y=h.data.field(a);return p!==null&&y!==null?Bo(p,y):Ae()}(n.field,e,t);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return Ae()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bs{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),i=this.inner[t];if(i!==void 0){for(const[o,a]of i)if(this.equalsFn(o,e))return a}}has(e){return this.get(e)!==void 0}set(e,t){const i=this.mapKeyFn(e),o=this.inner[i];if(o===void 0)return this.inner[i]=[[e,t]],void this.innerSize++;for(let a=0;a<o.length;a++)if(this.equalsFn(o[a][0],e))return void(o[a]=[e,t]);o.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),i=this.inner[t];if(i===void 0)return!1;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return i.length===1?delete this.inner[t]:i.splice(o,1),this.innerSize--,!0;return!1}forEach(e){zs(this.inner,(t,i)=>{for(const[o,a]of i)e(o,a)})}isEmpty(){return J_(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HA=new ut(Ie.comparator);function ci(){return HA}const cw=new ut(Ie.comparator);function qa(...n){let e=cw;for(const t of n)e=e.insert(t.key,t);return e}function dw(n){let e=cw;return n.forEach((t,i)=>e=e.insert(t,i.overlayedDocument)),e}function Ls(){return Ja()}function hw(){return Ja()}function Ja(){return new Bs(n=>n.toString(),(n,e)=>n.isEqual(e))}const WA=new ut(Ie.comparator),qA=new xt(Ie.comparator);function Ve(...n){let e=qA;for(const t of n)e=e.add(t);return e}const KA=new xt(Ue);function GA(){return KA}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function op(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Ac(e)?"-0":e}}function fw(n){return{integerValue:""+n}}function QA(n,e){return TA(e)?fw(e):op(n,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nd{constructor(){this._=void 0}}function YA(n,e,t){return n instanceof xc?function(o,a){const c={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return a&&np(a)&&(a=Jc(a)),a&&(c.fields.__previous_value__=a),{mapValue:c}}(t,e):n instanceof cl?mw(n,e):n instanceof dl?gw(n,e):function(o,a){const c=pw(o,a),h=qy(c)+qy(o.Pe);return wf(c)&&wf(o.Pe)?fw(h):op(o.serializer,h)}(n,e)}function XA(n,e,t){return n instanceof cl?mw(n,e):n instanceof dl?gw(n,e):t}function pw(n,e){return n instanceof bc?function(i){return wf(i)||function(a){return!!a&&"doubleValue"in a}(i)}(e)?e:{integerValue:0}:null}class xc extends nd{}class cl extends nd{constructor(e){super(),this.elements=e}}function mw(n,e){const t=yw(e);for(const i of n.elements)t.some(o=>Or(o,i))||t.push(i);return{arrayValue:{values:t}}}class dl extends nd{constructor(e){super(),this.elements=e}}function gw(n,e){let t=yw(e);for(const i of n.elements)t=t.filter(o=>!Or(o,i));return{arrayValue:{values:t}}}class bc extends nd{constructor(e,t){super(),this.serializer=e,this.Pe=t}}function qy(n){return pt(n.integerValue||n.doubleValue)}function yw(n){return rp(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}function JA(n,e){return n.field.isEqual(e.field)&&function(i,o){return i instanceof cl&&o instanceof cl||i instanceof dl&&o instanceof dl?zo(i.elements,o.elements,Or):i instanceof bc&&o instanceof bc?Or(i.Pe,o.Pe):i instanceof xc&&o instanceof xc}(n.transform,e.transform)}class ZA{constructor(e,t){this.version=e,this.transformResults=t}}class oi{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new oi}static exists(e){return new oi(void 0,e)}static updateTime(e){return new oi(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function pc(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class rd{}function vw(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new ww(n.key,oi.none()):new Rl(n.key,n.data,oi.none());{const t=n.data,i=Gn.empty();let o=new xt(qt.comparator);for(let a of e.fields)if(!o.has(a)){let c=t.field(a);c===null&&a.length>1&&(a=a.popLast(),c=t.field(a)),c===null?i.delete(a):i.set(a,c),o=o.add(a)}return new $s(n.key,i,new hr(o.toArray()),oi.none())}}function eP(n,e,t){n instanceof Rl?function(o,a,c){const h=o.value.clone(),p=Gy(o.fieldTransforms,a,c.transformResults);h.setAll(p),a.convertToFoundDocument(c.version,h).setHasCommittedMutations()}(n,e,t):n instanceof $s?function(o,a,c){if(!pc(o.precondition,a))return void a.convertToUnknownDocument(c.version);const h=Gy(o.fieldTransforms,a,c.transformResults),p=a.data;p.setAll(_w(o)),p.setAll(h),a.convertToFoundDocument(c.version,p).setHasCommittedMutations()}(n,e,t):function(o,a,c){a.convertToNoDocument(c.version).setHasCommittedMutations()}(0,e,t)}function Za(n,e,t,i){return n instanceof Rl?function(a,c,h,p){if(!pc(a.precondition,c))return h;const y=a.value.clone(),_=Qy(a.fieldTransforms,p,c);return y.setAll(_),c.convertToFoundDocument(c.version,y).setHasLocalMutations(),null}(n,e,t,i):n instanceof $s?function(a,c,h,p){if(!pc(a.precondition,c))return h;const y=Qy(a.fieldTransforms,p,c),_=c.data;return _.setAll(_w(a)),_.setAll(y),c.convertToFoundDocument(c.version,_).setHasLocalMutations(),h===null?null:h.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map(E=>E.field))}(n,e,t,i):function(a,c,h){return pc(a.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):h}(n,e,t)}function tP(n,e){let t=null;for(const i of n.fieldTransforms){const o=e.data.field(i.field),a=pw(i.transform,o||null);a!=null&&(t===null&&(t=Gn.empty()),t.set(i.field,a))}return t||null}function Ky(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!function(i,o){return i===void 0&&o===void 0||!(!i||!o)&&zo(i,o,(a,c)=>JA(a,c))}(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class Rl extends rd{constructor(e,t,i,o=[]){super(),this.key=e,this.value=t,this.precondition=i,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class $s extends rd{constructor(e,t,i,o,a=[]){super(),this.key=e,this.data=t,this.fieldMask=i,this.precondition=o,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function _w(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const i=n.data.field(t);e.set(t,i)}}),e}function Gy(n,e,t){const i=new Map;We(n.length===t.length);for(let o=0;o<t.length;o++){const a=n[o],c=a.transform,h=e.data.field(a.field);i.set(a.field,XA(c,h,t[o]))}return i}function Qy(n,e,t){const i=new Map;for(const o of n){const a=o.transform,c=t.data.field(o.field);i.set(o.field,YA(a,c,e))}return i}class ww extends rd{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class nP extends rd{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rP{constructor(e,t,i,o){this.batchId=e,this.localWriteTime=t,this.baseMutations=i,this.mutations=o}applyToRemoteDocument(e,t){const i=t.mutationResults;for(let o=0;o<this.mutations.length;o++){const a=this.mutations[o];a.key.isEqual(e.key)&&eP(a,e,i[o])}}applyToLocalView(e,t){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(t=Za(i,e,t,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(t=Za(i,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const i=hw();return this.mutations.forEach(o=>{const a=e.get(o.key),c=a.overlayedDocument;let h=this.applyToLocalView(c,a.mutatedFields);h=t.has(o.key)?null:h;const p=vw(c,h);p!==null&&i.set(o.key,p),c.isValidDocument()||c.convertToNoDocument(Pe.min())}),i}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Ve())}isEqual(e){return this.batchId===e.batchId&&zo(this.mutations,e.mutations,(t,i)=>Ky(t,i))&&zo(this.baseMutations,e.baseMutations,(t,i)=>Ky(t,i))}}class ap{constructor(e,t,i,o){this.batch=e,this.commitVersion=t,this.mutationResults=i,this.docVersions=o}static from(e,t,i){We(e.mutations.length===i.length);let o=function(){return WA}();const a=e.mutations;for(let c=0;c<a.length;c++)o=o.insert(a[c].key,i[c].version);return new ap(e,t,i,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iP{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sP{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Tt,Be;function oP(n){switch(n){default:return Ae();case te.CANCELLED:case te.UNKNOWN:case te.DEADLINE_EXCEEDED:case te.RESOURCE_EXHAUSTED:case te.INTERNAL:case te.UNAVAILABLE:case te.UNAUTHENTICATED:return!1;case te.INVALID_ARGUMENT:case te.NOT_FOUND:case te.ALREADY_EXISTS:case te.PERMISSION_DENIED:case te.FAILED_PRECONDITION:case te.ABORTED:case te.OUT_OF_RANGE:case te.UNIMPLEMENTED:case te.DATA_LOSS:return!0}}function Ew(n){if(n===void 0)return ui("GRPC error has no .code"),te.UNKNOWN;switch(n){case Tt.OK:return te.OK;case Tt.CANCELLED:return te.CANCELLED;case Tt.UNKNOWN:return te.UNKNOWN;case Tt.DEADLINE_EXCEEDED:return te.DEADLINE_EXCEEDED;case Tt.RESOURCE_EXHAUSTED:return te.RESOURCE_EXHAUSTED;case Tt.INTERNAL:return te.INTERNAL;case Tt.UNAVAILABLE:return te.UNAVAILABLE;case Tt.UNAUTHENTICATED:return te.UNAUTHENTICATED;case Tt.INVALID_ARGUMENT:return te.INVALID_ARGUMENT;case Tt.NOT_FOUND:return te.NOT_FOUND;case Tt.ALREADY_EXISTS:return te.ALREADY_EXISTS;case Tt.PERMISSION_DENIED:return te.PERMISSION_DENIED;case Tt.FAILED_PRECONDITION:return te.FAILED_PRECONDITION;case Tt.ABORTED:return te.ABORTED;case Tt.OUT_OF_RANGE:return te.OUT_OF_RANGE;case Tt.UNIMPLEMENTED:return te.UNIMPLEMENTED;case Tt.DATA_LOSS:return te.DATA_LOSS;default:return Ae()}}(Be=Tt||(Tt={}))[Be.OK=0]="OK",Be[Be.CANCELLED=1]="CANCELLED",Be[Be.UNKNOWN=2]="UNKNOWN",Be[Be.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Be[Be.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Be[Be.NOT_FOUND=5]="NOT_FOUND",Be[Be.ALREADY_EXISTS=6]="ALREADY_EXISTS",Be[Be.PERMISSION_DENIED=7]="PERMISSION_DENIED",Be[Be.UNAUTHENTICATED=16]="UNAUTHENTICATED",Be[Be.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Be[Be.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Be[Be.ABORTED=10]="ABORTED",Be[Be.OUT_OF_RANGE=11]="OUT_OF_RANGE",Be[Be.UNIMPLEMENTED=12]="UNIMPLEMENTED",Be[Be.INTERNAL=13]="INTERNAL",Be[Be.UNAVAILABLE=14]="UNAVAILABLE",Be[Be.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aP(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lP=new Xi([4294967295,4294967295],0);function Yy(n){const e=aP().encode(n),t=new H_;return t.update(e),new Uint8Array(t.digest())}function Xy(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),i=e.getUint32(4,!0),o=e.getUint32(8,!0),a=e.getUint32(12,!0);return[new Xi([t,i],0),new Xi([o,a],0)]}class lp{constructor(e,t,i){if(this.bitmap=e,this.padding=t,this.hashCount=i,t<0||t>=8)throw new Ka(`Invalid padding: ${t}`);if(i<0)throw new Ka(`Invalid hash count: ${i}`);if(e.length>0&&this.hashCount===0)throw new Ka(`Invalid hash count: ${i}`);if(e.length===0&&t!==0)throw new Ka(`Invalid padding when bitmap length is 0: ${t}`);this.Te=8*e.length-t,this.Ie=Xi.fromNumber(this.Te)}de(e,t,i){let o=e.add(t.multiply(Xi.fromNumber(i)));return o.compare(lP)===1&&(o=new Xi([o.getBits(0),o.getBits(1)],0)),o.modulo(this.Ie).toNumber()}Ee(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Te===0)return!1;const t=Yy(e),[i,o]=Xy(t);for(let a=0;a<this.hashCount;a++){const c=this.de(i,o,a);if(!this.Ee(c))return!1}return!0}static create(e,t,i){const o=e%8==0?0:8-e%8,a=new Uint8Array(Math.ceil(e/8)),c=new lp(a,o,t);return i.forEach(h=>c.insert(h)),c}insert(e){if(this.Te===0)return;const t=Yy(e),[i,o]=Xy(t);for(let a=0;a<this.hashCount;a++){const c=this.de(i,o,a);this.Ae(c)}}Ae(e){const t=Math.floor(e/8),i=e%8;this.bitmap[t]|=1<<i}}class Ka extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class id{constructor(e,t,i,o,a){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=i,this.documentUpdates=o,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,t,i){const o=new Map;return o.set(e,Cl.createSynthesizedTargetChangeForCurrentChange(e,t,i)),new id(Pe.min(),o,new ut(Ue),ci(),Ve())}}class Cl{constructor(e,t,i,o,a){this.resumeToken=e,this.current=t,this.addedDocuments=i,this.modifiedDocuments=o,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,t,i){return new Cl(i,t,Ve(),Ve(),Ve())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mc{constructor(e,t,i,o){this.Re=e,this.removedTargetIds=t,this.key=i,this.Ve=o}}class Tw{constructor(e,t){this.targetId=e,this.me=t}}class Iw{constructor(e,t,i=Kt.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=t,this.resumeToken=i,this.cause=o}}class Jy{constructor(){this.fe=0,this.ge=Zy(),this.pe=Kt.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=Ve(),t=Ve(),i=Ve();return this.ge.forEach((o,a)=>{switch(a){case 0:e=e.add(o);break;case 2:t=t.add(o);break;case 1:i=i.add(o);break;default:Ae()}}),new Cl(this.pe,this.ye,e,t,i)}Ce(){this.we=!1,this.ge=Zy()}Fe(e,t){this.we=!0,this.ge=this.ge.insert(e,t)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,We(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class uP{constructor(e){this.Be=e,this.Le=new Map,this.ke=ci(),this.qe=Ju(),this.Qe=Ju(),this.Ke=new ut(Ue)}$e(e){for(const t of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.Ue(t,e.Ve):this.We(t,e.key,e.Ve);for(const t of e.removedTargetIds)this.We(t,e.key,e.Ve)}Ge(e){this.forEachTarget(e,t=>{const i=this.ze(t);switch(e.state){case 0:this.je(t)&&i.De(e.resumeToken);break;case 1:i.Oe(),i.Se||i.Ce(),i.De(e.resumeToken);break;case 2:i.Oe(),i.Se||this.removeTarget(t);break;case 3:this.je(t)&&(i.Ne(),i.De(e.resumeToken));break;case 4:this.je(t)&&(this.He(t),i.De(e.resumeToken));break;default:Ae()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Le.forEach((i,o)=>{this.je(o)&&t(o)})}Je(e){const t=e.targetId,i=e.me.count,o=this.Ye(t);if(o){const a=o.target;if(Tf(a))if(i===0){const c=new Ie(a.path);this.We(t,c,nn.newNoDocument(c,Pe.min()))}else We(i===1);else{const c=this.Ze(t);if(c!==i){const h=this.Xe(e),p=h?this.et(h,e,c):1;if(p!==0){this.He(t);const y=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(t,y)}}}}}Xe(e){const t=e.me.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:i="",padding:o=0},hashCount:a=0}=t;let c,h;try{c=rs(i).toUint8Array()}catch(p){if(p instanceof Z_)return jo("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{h=new lp(c,o,a)}catch(p){return jo(p instanceof Ka?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return h.Te===0?null:h}et(e,t,i){return t.me.count===i-this.rt(e,t.targetId)?0:2}rt(e,t){const i=this.Be.getRemoteKeysForTarget(t);let o=0;return i.forEach(a=>{const c=this.Be.nt(),h=`projects/${c.projectId}/databases/${c.database}/documents/${a.path.canonicalString()}`;e.mightContain(h)||(this.We(t,a,null),o++)}),o}it(e){const t=new Map;this.Le.forEach((a,c)=>{const h=this.Ye(c);if(h){if(a.current&&Tf(h.target)){const p=new Ie(h.target.path);this.st(p).has(c)||this.ot(c,p)||this.We(c,p,nn.newNoDocument(p,e))}a.be&&(t.set(c,a.ve()),a.Ce())}});let i=Ve();this.Qe.forEach((a,c)=>{let h=!0;c.forEachWhile(p=>{const y=this.Ye(p);return!y||y.purpose==="TargetPurposeLimboResolution"||(h=!1,!1)}),h&&(i=i.add(a))}),this.ke.forEach((a,c)=>c.setReadTime(e));const o=new id(e,t,this.Ke,this.ke,i);return this.ke=ci(),this.qe=Ju(),this.Qe=Ju(),this.Ke=new ut(Ue),o}Ue(e,t){if(!this.je(e))return;const i=this.ot(e,t.key)?2:0;this.ze(e).Fe(t.key,i),this.ke=this.ke.insert(t.key,t),this.qe=this.qe.insert(t.key,this.st(t.key).add(e)),this.Qe=this.Qe.insert(t.key,this._t(t.key).add(e))}We(e,t,i){if(!this.je(e))return;const o=this.ze(e);this.ot(e,t)?o.Fe(t,1):o.Me(t),this.Qe=this.Qe.insert(t,this._t(t).delete(e)),this.Qe=this.Qe.insert(t,this._t(t).add(e)),i&&(this.ke=this.ke.insert(t,i))}removeTarget(e){this.Le.delete(e)}Ze(e){const t=this.ze(e).ve();return this.Be.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}xe(e){this.ze(e).xe()}ze(e){let t=this.Le.get(e);return t||(t=new Jy,this.Le.set(e,t)),t}_t(e){let t=this.Qe.get(e);return t||(t=new xt(Ue),this.Qe=this.Qe.insert(e,t)),t}st(e){let t=this.qe.get(e);return t||(t=new xt(Ue),this.qe=this.qe.insert(e,t)),t}je(e){const t=this.Ye(e)!==null;return t||he("WatchChangeAggregator","Detected inactive target",e),t}Ye(e){const t=this.Le.get(e);return t&&t.Se?null:this.Be.ut(e)}He(e){this.Le.set(e,new Jy),this.Be.getRemoteKeysForTarget(e).forEach(t=>{this.We(e,t,null)})}ot(e,t){return this.Be.getRemoteKeysForTarget(e).has(t)}}function Ju(){return new ut(Ie.comparator)}function Zy(){return new ut(Ie.comparator)}const cP={asc:"ASCENDING",desc:"DESCENDING"},dP={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},hP={and:"AND",or:"OR"};class fP{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function Sf(n,e){return n.useProto3Json||Xc(e)?e:{value:e}}function Nc(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Sw(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function pP(n,e){return Nc(n,e.toTimestamp())}function Nr(n){return We(!!n),Pe.fromTimestamp(function(t){const i=ns(t);return new kt(i.seconds,i.nanos)}(n))}function up(n,e){return Rf(n,e).canonicalString()}function Rf(n,e){const t=function(o){return new it(["projects",o.projectId,"databases",o.database])}(n).child("documents");return e===void 0?t:t.child(e)}function Rw(n){const e=it.fromString(n);return We(xw(e)),e}function Cf(n,e){return up(n.databaseId,e.path)}function Zh(n,e){const t=Rw(e);if(t.get(1)!==n.databaseId.projectId)throw new we(te.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new we(te.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new Ie(Aw(t))}function Cw(n,e){return up(n.databaseId,e)}function mP(n){const e=Rw(n);return e.length===4?it.emptyPath():Aw(e)}function Af(n){return new it(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function Aw(n){return We(n.length>4&&n.get(4)==="documents"),n.popFirst(5)}function ev(n,e,t){return{name:Cf(n,e),fields:t.value.mapValue.fields}}function gP(n,e){let t;if("targetChange"in e){e.targetChange;const i=function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:Ae()}(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],a=function(y,_){return y.useProto3Json?(We(_===void 0||typeof _=="string"),Kt.fromBase64String(_||"")):(We(_===void 0||_ instanceof Buffer||_ instanceof Uint8Array),Kt.fromUint8Array(_||new Uint8Array))}(n,e.targetChange.resumeToken),c=e.targetChange.cause,h=c&&function(y){const _=y.code===void 0?te.UNKNOWN:Ew(y.code);return new we(_,y.message||"")}(c);t=new Iw(i,o,a,h||null)}else if("documentChange"in e){e.documentChange;const i=e.documentChange;i.document,i.document.name,i.document.updateTime;const o=Zh(n,i.document.name),a=Nr(i.document.updateTime),c=i.document.createTime?Nr(i.document.createTime):Pe.min(),h=new Gn({mapValue:{fields:i.document.fields}}),p=nn.newFoundDocument(o,a,c,h),y=i.targetIds||[],_=i.removedTargetIds||[];t=new mc(y,_,p.key,p)}else if("documentDelete"in e){e.documentDelete;const i=e.documentDelete;i.document;const o=Zh(n,i.document),a=i.readTime?Nr(i.readTime):Pe.min(),c=nn.newNoDocument(o,a),h=i.removedTargetIds||[];t=new mc([],h,c.key,c)}else if("documentRemove"in e){e.documentRemove;const i=e.documentRemove;i.document;const o=Zh(n,i.document),a=i.removedTargetIds||[];t=new mc([],a,o,null)}else{if(!("filter"in e))return Ae();{e.filter;const i=e.filter;i.targetId;const{count:o=0,unchangedNames:a}=i,c=new sP(o,a),h=i.targetId;t=new Tw(h,c)}}return t}function yP(n,e){let t;if(e instanceof Rl)t={update:ev(n,e.key,e.value)};else if(e instanceof ww)t={delete:Cf(n,e.key)};else if(e instanceof $s)t={update:ev(n,e.key,e.data),updateMask:CP(e.fieldMask)};else{if(!(e instanceof nP))return Ae();t={verify:Cf(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(i=>function(a,c){const h=c.transform;if(h instanceof xc)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(h instanceof cl)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:h.elements}};if(h instanceof dl)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:h.elements}};if(h instanceof bc)return{fieldPath:c.field.canonicalString(),increment:h.Pe};throw Ae()}(0,i))),e.precondition.isNone||(t.currentDocument=function(o,a){return a.updateTime!==void 0?{updateTime:pP(o,a.updateTime)}:a.exists!==void 0?{exists:a.exists}:Ae()}(n,e.precondition)),t}function vP(n,e){return n&&n.length>0?(We(e!==void 0),n.map(t=>function(o,a){let c=o.updateTime?Nr(o.updateTime):Nr(a);return c.isEqual(Pe.min())&&(c=Nr(a)),new ZA(c,o.transformResults||[])}(t,e))):[]}function _P(n,e){return{documents:[Cw(n,e.path)]}}function wP(n,e){const t={structuredQuery:{}},i=e.path;let o;e.collectionGroup!==null?(o=i,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=i.popLast(),t.structuredQuery.from=[{collectionId:i.lastSegment()}]),t.parent=Cw(n,o);const a=function(y){if(y.length!==0)return kw(Lr.create(y,"and"))}(e.filters);a&&(t.structuredQuery.where=a);const c=function(y){if(y.length!==0)return y.map(_=>function(T){return{field:xo(T.field),direction:IP(T.dir)}}(_))}(e.orderBy);c&&(t.structuredQuery.orderBy=c);const h=Sf(n,e.limit);return h!==null&&(t.structuredQuery.limit=h),e.startAt&&(t.structuredQuery.startAt=function(y){return{before:y.inclusive,values:y.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(y){return{before:!y.inclusive,values:y.position}}(e.endAt)),{ct:t,parent:o}}function EP(n){let e=mP(n.parent);const t=n.structuredQuery,i=t.from?t.from.length:0;let o=null;if(i>0){We(i===1);const _=t.from[0];_.allDescendants?o=_.collectionId:e=e.child(_.collectionId)}let a=[];t.where&&(a=function(E){const T=Pw(E);return T instanceof Lr&&rw(T)?T.getFilters():[T]}(t.where));let c=[];t.orderBy&&(c=function(E){return E.map(T=>function(b){return new kc(bo(b.field),function(D){switch(D){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(b.direction))}(T))}(t.orderBy));let h=null;t.limit&&(h=function(E){let T;return T=typeof E=="object"?E.value:E,Xc(T)?null:T}(t.limit));let p=null;t.startAt&&(p=function(E){const T=!!E.before,C=E.values||[];return new Pc(C,T)}(t.startAt));let y=null;return t.endAt&&(y=function(E){const T=!E.before,C=E.values||[];return new Pc(C,T)}(t.endAt)),UA(e,o,c,a,h,"F",p,y)}function TP(n,e){const t=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ae()}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function Pw(n){return n.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const i=bo(t.unaryFilter.field);return Pt.create(i,"==",{doubleValue:NaN});case"IS_NULL":const o=bo(t.unaryFilter.field);return Pt.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=bo(t.unaryFilter.field);return Pt.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=bo(t.unaryFilter.field);return Pt.create(c,"!=",{nullValue:"NULL_VALUE"});default:return Ae()}}(n):n.fieldFilter!==void 0?function(t){return Pt.create(bo(t.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Ae()}}(t.fieldFilter.op),t.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(t){return Lr.create(t.compositeFilter.filters.map(i=>Pw(i)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Ae()}}(t.compositeFilter.op))}(n):Ae()}function IP(n){return cP[n]}function SP(n){return dP[n]}function RP(n){return hP[n]}function xo(n){return{fieldPath:n.canonicalString()}}function bo(n){return qt.fromServerFormat(n.fieldPath)}function kw(n){return n instanceof Pt?function(t){if(t.op==="=="){if(zy(t.value))return{unaryFilter:{field:xo(t.field),op:"IS_NAN"}};if(jy(t.value))return{unaryFilter:{field:xo(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(zy(t.value))return{unaryFilter:{field:xo(t.field),op:"IS_NOT_NAN"}};if(jy(t.value))return{unaryFilter:{field:xo(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:xo(t.field),op:SP(t.op),value:t.value}}}(n):n instanceof Lr?function(t){const i=t.getFilters().map(o=>kw(o));return i.length===1?i[0]:{compositeFilter:{op:RP(t.op),filters:i}}}(n):Ae()}function CP(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function xw(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qi{constructor(e,t,i,o,a=Pe.min(),c=Pe.min(),h=Kt.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=t,this.purpose=i,this.sequenceNumber=o,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=h,this.expectedCount=p}withSequenceNumber(e){return new qi(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new qi(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new qi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new qi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AP{constructor(e){this.ht=e}}function PP(n){const e=EP({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?If(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kP{constructor(){this.ln=new xP}addToCollectionParentIndex(e,t){return this.ln.add(t),X.resolve()}getCollectionParents(e,t){return X.resolve(this.ln.getEntries(t))}addFieldIndex(e,t){return X.resolve()}deleteFieldIndex(e,t){return X.resolve()}deleteAllFieldIndexes(e){return X.resolve()}createTargetIndexes(e,t){return X.resolve()}getDocumentsMatchingTarget(e,t){return X.resolve(null)}getIndexType(e,t){return X.resolve(0)}getFieldIndexes(e,t){return X.resolve([])}getNextCollectionGroupToUpdate(e){return X.resolve(null)}getMinOffset(e,t){return X.resolve(ts.min())}getMinOffsetFromCollectionGroup(e,t){return X.resolve(ts.min())}updateCollectionGroup(e,t,i){return X.resolve()}updateIndexEntries(e,t){return X.resolve()}}class xP{constructor(){this.index={}}add(e){const t=e.lastSegment(),i=e.popLast(),o=this.index[t]||new xt(it.comparator),a=!o.has(i);return this.index[t]=o.add(i),a}has(e){const t=e.lastSegment(),i=e.popLast(),o=this.index[t];return o&&o.has(i)}getEntries(e){return(this.index[e]||new xt(it.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tv={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class In{static withCacheSize(e){return new In(e,In.DEFAULT_COLLECTION_PERCENTILE,In.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */In.DEFAULT_COLLECTION_PERCENTILE=10,In.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,In.DEFAULT=new In(41943040,In.DEFAULT_COLLECTION_PERCENTILE,In.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),In.DISABLED=new In(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ho{constructor(e){this.kn=e}next(){return this.kn+=2,this.kn}static qn(){return new Ho(0)}static Qn(){return new Ho(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nv([n,e],[t,i]){const o=Ue(n,t);return o===0?Ue(e,i):o}class bP{constructor(e){this.Gn=e,this.buffer=new xt(nv),this.zn=0}jn(){return++this.zn}Hn(e){const t=[e,this.jn()];if(this.buffer.size<this.Gn)this.buffer=this.buffer.add(t);else{const i=this.buffer.last();nv(t,i)<0&&(this.buffer=this.buffer.delete(i).add(t))}}get maxValue(){return this.buffer.last()[0]}}class NP{constructor(e,t,i){this.garbageCollector=e,this.asyncQueue=t,this.localStore=i,this.Jn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Yn(6e4)}stop(){this.Jn&&(this.Jn.cancel(),this.Jn=null)}get started(){return this.Jn!==null}Yn(e){he("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Jn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Jn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){ea(t)?he("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",t):await Zo(t)}await this.Yn(3e5)})}}class DP{constructor(e,t){this.Zn=e,this.params=t}calculateTargetCount(e,t){return this.Zn.Xn(e).next(i=>Math.floor(t/100*i))}nthSequenceNumber(e,t){if(t===0)return X.resolve(Yc.oe);const i=new bP(t);return this.Zn.forEachTarget(e,o=>i.Hn(o.sequenceNumber)).next(()=>this.Zn.er(e,o=>i.Hn(o))).next(()=>i.maxValue)}removeTargets(e,t,i){return this.Zn.removeTargets(e,t,i)}removeOrphanedDocuments(e,t){return this.Zn.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(he("LruGarbageCollector","Garbage collection skipped; disabled"),X.resolve(tv)):this.getCacheSize(e).next(i=>i<this.params.cacheSizeCollectionThreshold?(he("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),tv):this.tr(e,t))}getCacheSize(e){return this.Zn.getCacheSize(e)}tr(e,t){let i,o,a,c,h,p,y;const _=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(E=>(E>this.params.maximumSequenceNumbersToCollect?(he("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${E}`),o=this.params.maximumSequenceNumbersToCollect):o=E,c=Date.now(),this.nthSequenceNumber(e,o))).next(E=>(i=E,h=Date.now(),this.removeTargets(e,i,t))).next(E=>(a=E,p=Date.now(),this.removeOrphanedDocuments(e,i))).next(E=>(y=Date.now(),Po()<=Le.DEBUG&&he("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${c-_}ms
	Determined least recently used ${o} in `+(h-c)+`ms
	Removed ${a} targets in `+(p-h)+`ms
	Removed ${E} documents in `+(y-p)+`ms
Total Duration: ${y-_}ms`),X.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:a,documentsRemoved:E})))}}function OP(n,e){return new DP(n,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LP{constructor(){this.changes=new Bs(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,nn.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const i=this.changes.get(t);return i!==void 0?X.resolve(i):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VP{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MP{constructor(e,t,i,o){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=i,this.indexManager=o}getDocument(e,t){let i=null;return this.documentOverlayCache.getOverlay(e,t).next(o=>(i=o,this.remoteDocumentCache.getEntry(e,t))).next(o=>(i!==null&&Za(i.mutation,o,hr.empty(),kt.now()),o))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.getLocalViewOfDocuments(e,i,Ve()).next(()=>i))}getLocalViewOfDocuments(e,t,i=Ve()){const o=Ls();return this.populateOverlays(e,o,t).next(()=>this.computeViews(e,t,o,i).next(a=>{let c=qa();return a.forEach((h,p)=>{c=c.insert(h,p.overlayedDocument)}),c}))}getOverlayedDocuments(e,t){const i=Ls();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,Ve()))}populateOverlays(e,t,i){const o=[];return i.forEach(a=>{t.has(a)||o.push(a)}),this.documentOverlayCache.getOverlays(e,o).next(a=>{a.forEach((c,h)=>{t.set(c,h)})})}computeViews(e,t,i,o){let a=ci();const c=Ja(),h=function(){return Ja()}();return t.forEach((p,y)=>{const _=i.get(y.key);o.has(y.key)&&(_===void 0||_.mutation instanceof $s)?a=a.insert(y.key,y):_!==void 0?(c.set(y.key,_.mutation.getFieldMask()),Za(_.mutation,y,_.mutation.getFieldMask(),kt.now())):c.set(y.key,hr.empty())}),this.recalculateAndSaveOverlays(e,a).next(p=>(p.forEach((y,_)=>c.set(y,_)),t.forEach((y,_)=>{var E;return h.set(y,new VP(_,(E=c.get(y))!==null&&E!==void 0?E:null))}),h))}recalculateAndSaveOverlays(e,t){const i=Ja();let o=new ut((c,h)=>c-h),a=Ve();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(c=>{for(const h of c)h.keys().forEach(p=>{const y=t.get(p);if(y===null)return;let _=i.get(p)||hr.empty();_=h.applyToLocalView(y,_),i.set(p,_);const E=(o.get(h.batchId)||Ve()).add(p);o=o.insert(h.batchId,E)})}).next(()=>{const c=[],h=o.getReverseIterator();for(;h.hasNext();){const p=h.getNext(),y=p.key,_=p.value,E=hw();_.forEach(T=>{if(!a.has(T)){const C=vw(t.get(T),i.get(T));C!==null&&E.set(T,C),a=a.add(T)}}),c.push(this.documentOverlayCache.saveOverlays(e,y,E))}return X.waitFor(c)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.recalculateAndSaveOverlays(e,i))}getDocumentsMatchingQuery(e,t,i,o){return function(c){return Ie.isDocumentKey(c.path)&&c.collectionGroup===null&&c.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):jA(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,i,o):this.getDocumentsMatchingCollectionQuery(e,t,i,o)}getNextDocuments(e,t,i,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,i,o).next(a=>{const c=o-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,i.largestBatchId,o-a.size):X.resolve(Ls());let h=-1,p=a;return c.next(y=>X.forEach(y,(_,E)=>(h<E.largestBatchId&&(h=E.largestBatchId),a.get(_)?X.resolve():this.remoteDocumentCache.getEntry(e,_).next(T=>{p=p.insert(_,T)}))).next(()=>this.populateOverlays(e,y,a)).next(()=>this.computeViews(e,p,y,Ve())).next(_=>({batchId:h,changes:dw(_)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Ie(t)).next(i=>{let o=qa();return i.isFoundDocument()&&(o=o.insert(i.key,i)),o})}getDocumentsMatchingCollectionGroupQuery(e,t,i,o){const a=t.collectionGroup;let c=qa();return this.indexManager.getCollectionParents(e,a).next(h=>X.forEach(h,p=>{const y=function(E,T){return new Zc(T,null,E.explicitOrderBy.slice(),E.filters.slice(),E.limit,E.limitType,E.startAt,E.endAt)}(t,p.child(a));return this.getDocumentsMatchingCollectionQuery(e,y,i,o).next(_=>{_.forEach((E,T)=>{c=c.insert(E,T)})})}).next(()=>c))}getDocumentsMatchingCollectionQuery(e,t,i,o){let a;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,i.largestBatchId).next(c=>(a=c,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,i,a,o))).next(c=>{a.forEach((p,y)=>{const _=y.getKey();c.get(_)===null&&(c=c.insert(_,nn.newInvalidDocument(_)))});let h=qa();return c.forEach((p,y)=>{const _=a.get(p);_!==void 0&&Za(_.mutation,y,hr.empty(),kt.now()),td(t,y)&&(h=h.insert(p,y))}),h})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FP{constructor(e){this.serializer=e,this.Tr=new Map,this.Ir=new Map}getBundleMetadata(e,t){return X.resolve(this.Tr.get(t))}saveBundleMetadata(e,t){return this.Tr.set(t.id,function(o){return{id:o.id,version:o.version,createTime:Nr(o.createTime)}}(t)),X.resolve()}getNamedQuery(e,t){return X.resolve(this.Ir.get(t))}saveNamedQuery(e,t){return this.Ir.set(t.name,function(o){return{name:o.name,query:PP(o.bundledQuery),readTime:Nr(o.readTime)}}(t)),X.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UP{constructor(){this.overlays=new ut(Ie.comparator),this.dr=new Map}getOverlay(e,t){return X.resolve(this.overlays.get(t))}getOverlays(e,t){const i=Ls();return X.forEach(t,o=>this.getOverlay(e,o).next(a=>{a!==null&&i.set(o,a)})).next(()=>i)}saveOverlays(e,t,i){return i.forEach((o,a)=>{this.Tt(e,t,a)}),X.resolve()}removeOverlaysForBatchId(e,t,i){const o=this.dr.get(i);return o!==void 0&&(o.forEach(a=>this.overlays=this.overlays.remove(a)),this.dr.delete(i)),X.resolve()}getOverlaysForCollection(e,t,i){const o=Ls(),a=t.length+1,c=new Ie(t.child("")),h=this.overlays.getIteratorFrom(c);for(;h.hasNext();){const p=h.getNext().value,y=p.getKey();if(!t.isPrefixOf(y.path))break;y.path.length===a&&p.largestBatchId>i&&o.set(p.getKey(),p)}return X.resolve(o)}getOverlaysForCollectionGroup(e,t,i,o){let a=new ut((y,_)=>y-_);const c=this.overlays.getIterator();for(;c.hasNext();){const y=c.getNext().value;if(y.getKey().getCollectionGroup()===t&&y.largestBatchId>i){let _=a.get(y.largestBatchId);_===null&&(_=Ls(),a=a.insert(y.largestBatchId,_)),_.set(y.getKey(),y)}}const h=Ls(),p=a.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach((y,_)=>h.set(y,_)),!(h.size()>=o)););return X.resolve(h)}Tt(e,t,i){const o=this.overlays.get(i.key);if(o!==null){const c=this.dr.get(o.largestBatchId).delete(i.key);this.dr.set(o.largestBatchId,c)}this.overlays=this.overlays.insert(i.key,new iP(t,i));let a=this.dr.get(t);a===void 0&&(a=Ve(),this.dr.set(t,a)),this.dr.set(t,a.add(i.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jP{constructor(){this.sessionToken=Kt.EMPTY_BYTE_STRING}getSessionToken(e){return X.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,X.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cp{constructor(){this.Er=new xt(Vt.Ar),this.Rr=new xt(Vt.Vr)}isEmpty(){return this.Er.isEmpty()}addReference(e,t){const i=new Vt(e,t);this.Er=this.Er.add(i),this.Rr=this.Rr.add(i)}mr(e,t){e.forEach(i=>this.addReference(i,t))}removeReference(e,t){this.gr(new Vt(e,t))}pr(e,t){e.forEach(i=>this.removeReference(i,t))}yr(e){const t=new Ie(new it([])),i=new Vt(t,e),o=new Vt(t,e+1),a=[];return this.Rr.forEachInRange([i,o],c=>{this.gr(c),a.push(c.key)}),a}wr(){this.Er.forEach(e=>this.gr(e))}gr(e){this.Er=this.Er.delete(e),this.Rr=this.Rr.delete(e)}Sr(e){const t=new Ie(new it([])),i=new Vt(t,e),o=new Vt(t,e+1);let a=Ve();return this.Rr.forEachInRange([i,o],c=>{a=a.add(c.key)}),a}containsKey(e){const t=new Vt(e,0),i=this.Er.firstAfterOrEqual(t);return i!==null&&e.isEqual(i.key)}}class Vt{constructor(e,t){this.key=e,this.br=t}static Ar(e,t){return Ie.comparator(e.key,t.key)||Ue(e.br,t.br)}static Vr(e,t){return Ue(e.br,t.br)||Ie.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zP{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Dr=1,this.vr=new xt(Vt.Ar)}checkEmpty(e){return X.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,i,o){const a=this.Dr;this.Dr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new rP(a,t,i,o);this.mutationQueue.push(c);for(const h of o)this.vr=this.vr.add(new Vt(h.key,a)),this.indexManager.addToCollectionParentIndex(e,h.key.path.popLast());return X.resolve(c)}lookupMutationBatch(e,t){return X.resolve(this.Cr(t))}getNextMutationBatchAfterBatchId(e,t){const i=t+1,o=this.Fr(i),a=o<0?0:o;return X.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return X.resolve(this.mutationQueue.length===0?-1:this.Dr-1)}getAllMutationBatches(e){return X.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const i=new Vt(t,0),o=new Vt(t,Number.POSITIVE_INFINITY),a=[];return this.vr.forEachInRange([i,o],c=>{const h=this.Cr(c.br);a.push(h)}),X.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,t){let i=new xt(Ue);return t.forEach(o=>{const a=new Vt(o,0),c=new Vt(o,Number.POSITIVE_INFINITY);this.vr.forEachInRange([a,c],h=>{i=i.add(h.br)})}),X.resolve(this.Mr(i))}getAllMutationBatchesAffectingQuery(e,t){const i=t.path,o=i.length+1;let a=i;Ie.isDocumentKey(a)||(a=a.child(""));const c=new Vt(new Ie(a),0);let h=new xt(Ue);return this.vr.forEachWhile(p=>{const y=p.key.path;return!!i.isPrefixOf(y)&&(y.length===o&&(h=h.add(p.br)),!0)},c),X.resolve(this.Mr(h))}Mr(e){const t=[];return e.forEach(i=>{const o=this.Cr(i);o!==null&&t.push(o)}),t}removeMutationBatch(e,t){We(this.Or(t.batchId,"removed")===0),this.mutationQueue.shift();let i=this.vr;return X.forEach(t.mutations,o=>{const a=new Vt(o.key,t.batchId);return i=i.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(()=>{this.vr=i})}Bn(e){}containsKey(e,t){const i=new Vt(t,0),o=this.vr.firstAfterOrEqual(i);return X.resolve(t.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,X.resolve()}Or(e,t){return this.Fr(e)}Fr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Cr(e){const t=this.Fr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BP{constructor(e){this.Nr=e,this.docs=function(){return new ut(Ie.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const i=t.key,o=this.docs.get(i),a=o?o.size:0,c=this.Nr(t);return this.docs=this.docs.insert(i,{document:t.mutableCopy(),size:c}),this.size+=c-a,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const i=this.docs.get(t);return X.resolve(i?i.document.mutableCopy():nn.newInvalidDocument(t))}getEntries(e,t){let i=ci();return t.forEach(o=>{const a=this.docs.get(o);i=i.insert(o,a?a.document.mutableCopy():nn.newInvalidDocument(o))}),X.resolve(i)}getDocumentsMatchingQuery(e,t,i,o){let a=ci();const c=t.path,h=new Ie(c.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(h);for(;p.hasNext();){const{key:y,value:{document:_}}=p.getNext();if(!c.isPrefixOf(y.path))break;y.path.length>c.length+1||vA(yA(_),i)<=0||(o.has(_.key)||td(t,_))&&(a=a.insert(_.key,_.mutableCopy()))}return X.resolve(a)}getAllFromCollectionGroup(e,t,i,o){Ae()}Br(e,t){return X.forEach(this.docs,i=>t(i))}newChangeBuffer(e){return new $P(this)}getSize(e){return X.resolve(this.size)}}class $P extends LP{constructor(e){super(),this.hr=e}applyChanges(e){const t=[];return this.changes.forEach((i,o)=>{o.isValidDocument()?t.push(this.hr.addEntry(e,o)):this.hr.removeEntry(i)}),X.waitFor(t)}getFromCache(e,t){return this.hr.getEntry(e,t)}getAllFromCache(e,t){return this.hr.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HP{constructor(e){this.persistence=e,this.Lr=new Bs(t=>ip(t),sp),this.lastRemoteSnapshotVersion=Pe.min(),this.highestTargetId=0,this.kr=0,this.qr=new cp,this.targetCount=0,this.Qr=Ho.qn()}forEachTarget(e,t){return this.Lr.forEach((i,o)=>t(o)),X.resolve()}getLastRemoteSnapshotVersion(e){return X.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return X.resolve(this.kr)}allocateTargetId(e){return this.highestTargetId=this.Qr.next(),X.resolve(this.highestTargetId)}setTargetsMetadata(e,t,i){return i&&(this.lastRemoteSnapshotVersion=i),t>this.kr&&(this.kr=t),X.resolve()}Un(e){this.Lr.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Qr=new Ho(t),this.highestTargetId=t),e.sequenceNumber>this.kr&&(this.kr=e.sequenceNumber)}addTargetData(e,t){return this.Un(t),this.targetCount+=1,X.resolve()}updateTargetData(e,t){return this.Un(t),X.resolve()}removeTargetData(e,t){return this.Lr.delete(t.target),this.qr.yr(t.targetId),this.targetCount-=1,X.resolve()}removeTargets(e,t,i){let o=0;const a=[];return this.Lr.forEach((c,h)=>{h.sequenceNumber<=t&&i.get(h.targetId)===null&&(this.Lr.delete(c),a.push(this.removeMatchingKeysForTargetId(e,h.targetId)),o++)}),X.waitFor(a).next(()=>o)}getTargetCount(e){return X.resolve(this.targetCount)}getTargetData(e,t){const i=this.Lr.get(t)||null;return X.resolve(i)}addMatchingKeys(e,t,i){return this.qr.mr(t,i),X.resolve()}removeMatchingKeys(e,t,i){this.qr.pr(t,i);const o=this.persistence.referenceDelegate,a=[];return o&&t.forEach(c=>{a.push(o.markPotentiallyOrphaned(e,c))}),X.waitFor(a)}removeMatchingKeysForTargetId(e,t){return this.qr.yr(t),X.resolve()}getMatchingKeysForTargetId(e,t){const i=this.qr.Sr(t);return X.resolve(i)}containsKey(e,t){return X.resolve(this.qr.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bw{constructor(e,t){this.Kr={},this.overlays={},this.$r=new Yc(0),this.Ur=!1,this.Ur=!0,this.Wr=new jP,this.referenceDelegate=e(this),this.Gr=new HP(this),this.indexManager=new kP,this.remoteDocumentCache=function(o){return new BP(o)}(i=>this.referenceDelegate.zr(i)),this.serializer=new AP(t),this.jr=new FP(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Ur=!1,Promise.resolve()}get started(){return this.Ur}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new UP,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let i=this.Kr[e.toKey()];return i||(i=new zP(t,this.referenceDelegate),this.Kr[e.toKey()]=i),i}getGlobalsCache(){return this.Wr}getTargetCache(){return this.Gr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.jr}runTransaction(e,t,i){he("MemoryPersistence","Starting transaction:",e);const o=new WP(this.$r.next());return this.referenceDelegate.Hr(),i(o).next(a=>this.referenceDelegate.Jr(o).next(()=>a)).toPromise().then(a=>(o.raiseOnCommittedEvent(),a))}Yr(e,t){return X.or(Object.values(this.Kr).map(i=>()=>i.containsKey(e,t)))}}class WP extends wA{constructor(e){super(),this.currentSequenceNumber=e}}class dp{constructor(e){this.persistence=e,this.Zr=new cp,this.Xr=null}static ei(e){return new dp(e)}get ti(){if(this.Xr)return this.Xr;throw Ae()}addReference(e,t,i){return this.Zr.addReference(i,t),this.ti.delete(i.toString()),X.resolve()}removeReference(e,t,i){return this.Zr.removeReference(i,t),this.ti.add(i.toString()),X.resolve()}markPotentiallyOrphaned(e,t){return this.ti.add(t.toString()),X.resolve()}removeTarget(e,t){this.Zr.yr(t.targetId).forEach(o=>this.ti.add(o.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,t.targetId).next(o=>{o.forEach(a=>this.ti.add(a.toString()))}).next(()=>i.removeTargetData(e,t))}Hr(){this.Xr=new Set}Jr(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return X.forEach(this.ti,i=>{const o=Ie.fromPath(i);return this.ni(e,o).next(a=>{a||t.removeEntry(o,Pe.min())})}).next(()=>(this.Xr=null,t.apply(e)))}updateLimboDocument(e,t){return this.ni(e,t).next(i=>{i?this.ti.delete(t.toString()):this.ti.add(t.toString())})}zr(e){return 0}ni(e,t){return X.or([()=>X.resolve(this.Zr.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Yr(e,t)])}}class Dc{constructor(e,t){this.persistence=e,this.ri=new Bs(i=>IA(i.path),(i,o)=>i.isEqual(o)),this.garbageCollector=OP(this,t)}static ei(e,t){return new Dc(e,t)}Hr(){}Jr(e){return X.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}Xn(e){const t=this.nr(e);return this.persistence.getTargetCache().getTargetCount(e).next(i=>t.next(o=>i+o))}nr(e){let t=0;return this.er(e,i=>{t++}).next(()=>t)}er(e,t){return X.forEach(this.ri,(i,o)=>this.ir(e,i,o).next(a=>a?X.resolve():t(o)))}removeTargets(e,t,i){return this.persistence.getTargetCache().removeTargets(e,t,i)}removeOrphanedDocuments(e,t){let i=0;const o=this.persistence.getRemoteDocumentCache(),a=o.newChangeBuffer();return o.Br(e,c=>this.ir(e,c,t).next(h=>{h||(i++,a.removeEntry(c,Pe.min()))})).next(()=>a.apply(e)).next(()=>i)}markPotentiallyOrphaned(e,t){return this.ri.set(t,e.currentSequenceNumber),X.resolve()}removeTarget(e,t){const i=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,i)}addReference(e,t,i){return this.ri.set(i,e.currentSequenceNumber),X.resolve()}removeReference(e,t,i){return this.ri.set(i,e.currentSequenceNumber),X.resolve()}updateLimboDocument(e,t){return this.ri.set(t,e.currentSequenceNumber),X.resolve()}zr(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=hc(e.data.value)),t}ir(e,t,i){return X.or([()=>this.persistence.Yr(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const o=this.ri.get(t);return X.resolve(o!==void 0&&o>i)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hp{constructor(e,t,i,o){this.targetId=e,this.fromCache=t,this.Wi=i,this.Gi=o}static zi(e,t){let i=Ve(),o=Ve();for(const a of t.docChanges)switch(a.type){case 0:i=i.add(a.doc.key);break;case 1:o=o.add(a.doc.key)}return new hp(e,t.fromCache,i,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qP{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KP{constructor(){this.ji=!1,this.Hi=!1,this.Ji=100,this.Yi=function(){return NS()?8:EA(rn())>0?6:4}()}initialize(e,t){this.Zi=e,this.indexManager=t,this.ji=!0}getDocumentsMatchingQuery(e,t,i,o){const a={result:null};return this.Xi(e,t).next(c=>{a.result=c}).next(()=>{if(!a.result)return this.es(e,t,o,i).next(c=>{a.result=c})}).next(()=>{if(a.result)return;const c=new qP;return this.ts(e,t,c).next(h=>{if(a.result=h,this.Hi)return this.ns(e,t,c,h.size)})}).next(()=>a.result)}ns(e,t,i,o){return i.documentReadCount<this.Ji?(Po()<=Le.DEBUG&&he("QueryEngine","SDK will not create cache indexes for query:",ko(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Ji,"documents"),X.resolve()):(Po()<=Le.DEBUG&&he("QueryEngine","Query:",ko(t),"scans",i.documentReadCount,"local documents and returns",o,"documents as results."),i.documentReadCount>this.Yi*o?(Po()<=Le.DEBUG&&he("QueryEngine","The SDK decides to create cache indexes for query:",ko(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,br(t))):X.resolve())}Xi(e,t){if(Wy(t))return X.resolve(null);let i=br(t);return this.indexManager.getIndexType(e,i).next(o=>o===0?null:(t.limit!==null&&o===1&&(t=If(t,null,"F"),i=br(t)),this.indexManager.getDocumentsMatchingTarget(e,i).next(a=>{const c=Ve(...a);return this.Zi.getDocuments(e,c).next(h=>this.indexManager.getMinOffset(e,i).next(p=>{const y=this.rs(t,h);return this.ss(t,y,c,p.readTime)?this.Xi(e,If(t,null,"F")):this.os(e,y,t,p)}))})))}es(e,t,i,o){return Wy(t)||o.isEqual(Pe.min())?X.resolve(null):this.Zi.getDocuments(e,i).next(a=>{const c=this.rs(t,a);return this.ss(t,c,i,o)?X.resolve(null):(Po()<=Le.DEBUG&&he("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),ko(t)),this.os(e,c,t,gA(o,-1)).next(h=>h))})}rs(e,t){let i=new xt(uw(e));return t.forEach((o,a)=>{td(e,a)&&(i=i.add(a))}),i}ss(e,t,i,o){if(e.limit===null)return!1;if(i.size!==t.size)return!0;const a=e.limitType==="F"?t.last():t.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(o)>0)}ts(e,t,i){return Po()<=Le.DEBUG&&he("QueryEngine","Using full collection scan to execute query:",ko(t)),this.Zi.getDocumentsMatchingQuery(e,t,ts.min(),i)}os(e,t,i,o){return this.Zi.getDocumentsMatchingQuery(e,i,o).next(a=>(t.forEach(c=>{a=a.insert(c.key,c)}),a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GP{constructor(e,t,i,o){this.persistence=e,this._s=t,this.serializer=o,this.us=new ut(Ue),this.cs=new Bs(a=>ip(a),sp),this.ls=new Map,this.hs=e.getRemoteDocumentCache(),this.Gr=e.getTargetCache(),this.jr=e.getBundleCache(),this.Ps(i)}Ps(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new MP(this.hs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.hs.setIndexManager(this.indexManager),this._s.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.us))}}function QP(n,e,t,i){return new GP(n,e,t,i)}async function Nw(n,e){const t=ke(n);return await t.persistence.runTransaction("Handle user change","readonly",i=>{let o;return t.mutationQueue.getAllMutationBatches(i).next(a=>(o=a,t.Ps(e),t.mutationQueue.getAllMutationBatches(i))).next(a=>{const c=[],h=[];let p=Ve();for(const y of o){c.push(y.batchId);for(const _ of y.mutations)p=p.add(_.key)}for(const y of a){h.push(y.batchId);for(const _ of y.mutations)p=p.add(_.key)}return t.localDocuments.getDocuments(i,p).next(y=>({Ts:y,removedBatchIds:c,addedBatchIds:h}))})})}function YP(n,e){const t=ke(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const o=e.batch.keys(),a=t.hs.newChangeBuffer({trackRemovals:!0});return function(h,p,y,_){const E=y.batch,T=E.keys();let C=X.resolve();return T.forEach(b=>{C=C.next(()=>_.getEntry(p,b)).next(M=>{const D=y.docVersions.get(b);We(D!==null),M.version.compareTo(D)<0&&(E.applyToRemoteDocument(M,y),M.isValidDocument()&&(M.setReadTime(y.commitVersion),_.addEntry(M)))})}),C.next(()=>h.mutationQueue.removeMutationBatch(p,E))}(t,i,e,a).next(()=>a.apply(i)).next(()=>t.mutationQueue.performConsistencyCheck(i)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(i,o,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(h){let p=Ve();for(let y=0;y<h.mutationResults.length;++y)h.mutationResults[y].transformResults.length>0&&(p=p.add(h.batch.mutations[y].key));return p}(e))).next(()=>t.localDocuments.getDocuments(i,o))})}function Dw(n){const e=ke(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Gr.getLastRemoteSnapshotVersion(t))}function XP(n,e){const t=ke(n),i=e.snapshotVersion;let o=t.us;return t.persistence.runTransaction("Apply remote event","readwrite-primary",a=>{const c=t.hs.newChangeBuffer({trackRemovals:!0});o=t.us;const h=[];e.targetChanges.forEach((_,E)=>{const T=o.get(E);if(!T)return;h.push(t.Gr.removeMatchingKeys(a,_.removedDocuments,E).next(()=>t.Gr.addMatchingKeys(a,_.addedDocuments,E)));let C=T.withSequenceNumber(a.currentSequenceNumber);e.targetMismatches.get(E)!==null?C=C.withResumeToken(Kt.EMPTY_BYTE_STRING,Pe.min()).withLastLimboFreeSnapshotVersion(Pe.min()):_.resumeToken.approximateByteSize()>0&&(C=C.withResumeToken(_.resumeToken,i)),o=o.insert(E,C),function(M,D,H){return M.resumeToken.approximateByteSize()===0||D.snapshotVersion.toMicroseconds()-M.snapshotVersion.toMicroseconds()>=3e8?!0:H.addedDocuments.size+H.modifiedDocuments.size+H.removedDocuments.size>0}(T,C,_)&&h.push(t.Gr.updateTargetData(a,C))});let p=ci(),y=Ve();if(e.documentUpdates.forEach(_=>{e.resolvedLimboDocuments.has(_)&&h.push(t.persistence.referenceDelegate.updateLimboDocument(a,_))}),h.push(JP(a,c,e.documentUpdates).next(_=>{p=_.Is,y=_.ds})),!i.isEqual(Pe.min())){const _=t.Gr.getLastRemoteSnapshotVersion(a).next(E=>t.Gr.setTargetsMetadata(a,a.currentSequenceNumber,i));h.push(_)}return X.waitFor(h).next(()=>c.apply(a)).next(()=>t.localDocuments.getLocalViewOfDocuments(a,p,y)).next(()=>p)}).then(a=>(t.us=o,a))}function JP(n,e,t){let i=Ve(),o=Ve();return t.forEach(a=>i=i.add(a)),e.getEntries(n,i).next(a=>{let c=ci();return t.forEach((h,p)=>{const y=a.get(h);p.isFoundDocument()!==y.isFoundDocument()&&(o=o.add(h)),p.isNoDocument()&&p.version.isEqual(Pe.min())?(e.removeEntry(h,p.readTime),c=c.insert(h,p)):!y.isValidDocument()||p.version.compareTo(y.version)>0||p.version.compareTo(y.version)===0&&y.hasPendingWrites?(e.addEntry(p),c=c.insert(h,p)):he("LocalStore","Ignoring outdated watch update for ",h,". Current version:",y.version," Watch version:",p.version)}),{Is:c,ds:o}})}function ZP(n,e){const t=ke(n);return t.persistence.runTransaction("Get next mutation batch","readonly",i=>(e===void 0&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(i,e)))}function ek(n,e){const t=ke(n);return t.persistence.runTransaction("Allocate target","readwrite",i=>{let o;return t.Gr.getTargetData(i,e).next(a=>a?(o=a,X.resolve(o)):t.Gr.allocateTargetId(i).next(c=>(o=new qi(e,c,"TargetPurposeListen",i.currentSequenceNumber),t.Gr.addTargetData(i,o).next(()=>o))))}).then(i=>{const o=t.us.get(i.targetId);return(o===null||i.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(t.us=t.us.insert(i.targetId,i),t.cs.set(e,i.targetId)),i})}async function Pf(n,e,t){const i=ke(n),o=i.us.get(e),a=t?"readwrite":"readwrite-primary";try{t||await i.persistence.runTransaction("Release target",a,c=>i.persistence.referenceDelegate.removeTarget(c,o))}catch(c){if(!ea(c))throw c;he("LocalStore",`Failed to update sequence numbers for target ${e}: ${c}`)}i.us=i.us.remove(e),i.cs.delete(o.target)}function rv(n,e,t){const i=ke(n);let o=Pe.min(),a=Ve();return i.persistence.runTransaction("Execute query","readwrite",c=>function(p,y,_){const E=ke(p),T=E.cs.get(_);return T!==void 0?X.resolve(E.us.get(T)):E.Gr.getTargetData(y,_)}(i,c,br(e)).next(h=>{if(h)return o=h.lastLimboFreeSnapshotVersion,i.Gr.getMatchingKeysForTargetId(c,h.targetId).next(p=>{a=p})}).next(()=>i._s.getDocumentsMatchingQuery(c,e,t?o:Pe.min(),t?a:Ve())).next(h=>(tk(i,BA(e),h),{documents:h,Es:a})))}function tk(n,e,t){let i=n.ls.get(e)||Pe.min();t.forEach((o,a)=>{a.readTime.compareTo(i)>0&&(i=a.readTime)}),n.ls.set(e,i)}class iv{constructor(){this.activeTargetIds=GA()}ps(e){this.activeTargetIds=this.activeTargetIds.add(e)}ys(e){this.activeTargetIds=this.activeTargetIds.delete(e)}gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class nk{constructor(){this._o=new iv,this.ao={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,i){}addLocalQueryTarget(e,t=!0){return t&&this._o.ps(e),this.ao[e]||"not-current"}updateQueryState(e,t,i){this.ao[e]=t}removeLocalQueryTarget(e){this._o.ys(e)}isLocalQueryTarget(e){return this._o.activeTargetIds.has(e)}clearQueryState(e){delete this.ao[e]}getAllActiveQueryTargets(){return this._o.activeTargetIds}isActiveQueryTarget(e){return this._o.activeTargetIds.has(e)}start(){return this._o=new iv,Promise.resolve()}handleUserChange(e,t,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rk{uo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sv{constructor(){this.co=()=>this.lo(),this.ho=()=>this.Po(),this.To=[],this.Io()}uo(e){this.To.push(e)}shutdown(){window.removeEventListener("online",this.co),window.removeEventListener("offline",this.ho)}Io(){window.addEventListener("online",this.co),window.addEventListener("offline",this.ho)}lo(){he("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.To)e(0)}Po(){he("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.To)e(1)}static p(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Zu=null;function ef(){return Zu===null?Zu=function(){return 268435456+Math.round(2147483648*Math.random())}():Zu++,"0x"+Zu.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ik={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sk{constructor(e){this.Eo=e.Eo,this.Ao=e.Ao}Ro(e){this.Vo=e}mo(e){this.fo=e}po(e){this.yo=e}onMessage(e){this.wo=e}close(){this.Ao()}send(e){this.Eo(e)}So(){this.Vo()}bo(){this.fo()}Do(e){this.yo(e)}vo(e){this.wo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const en="WebChannelConnection";class ok extends class{get Co(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const i=t.ssl?"https":"http",o=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.Fo=i+"://"+t.host,this.Mo=`projects/${o}/databases/${a}`,this.xo=this.databaseId.database==="(default)"?`project_id=${o}`:`project_id=${o}&database_id=${a}`}Oo(t,i,o,a,c){const h=ef(),p=this.No(t,i.toUriEncodedString());he("RestConnection",`Sending RPC '${t}' ${h}:`,p,o);const y={"google-cloud-resource-prefix":this.Mo,"x-goog-request-params":this.xo};return this.Bo(y,a,c),this.Lo(t,p,y,o).then(_=>(he("RestConnection",`Received RPC '${t}' ${h}: `,_),_),_=>{throw jo("RestConnection",`RPC '${t}' ${h} failed with error: `,_,"url: ",p,"request:",o),_})}ko(t,i,o,a,c,h){return this.Oo(t,i,o,a,c)}Bo(t,i,o){t["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Jo}(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach((a,c)=>t[c]=a),o&&o.headers.forEach((a,c)=>t[c]=a)}No(t,i){const o=ik[t];return`${this.Fo}/v1/${i}:${o}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Lo(e,t,i,o){const a=ef();return new Promise((c,h)=>{const p=new W_;p.setWithCredentials(!0),p.listenOnce(q_.COMPLETE,()=>{try{switch(p.getLastErrorCode()){case dc.NO_ERROR:const _=p.getResponseJson();he(en,`XHR for RPC '${e}' ${a} received:`,JSON.stringify(_)),c(_);break;case dc.TIMEOUT:he(en,`RPC '${e}' ${a} timed out`),h(new we(te.DEADLINE_EXCEEDED,"Request time out"));break;case dc.HTTP_ERROR:const E=p.getStatus();if(he(en,`RPC '${e}' ${a} failed with status:`,E,"response text:",p.getResponseText()),E>0){let T=p.getResponseJson();Array.isArray(T)&&(T=T[0]);const C=T==null?void 0:T.error;if(C&&C.status&&C.message){const b=function(D){const H=D.toLowerCase().replace(/_/g,"-");return Object.values(te).indexOf(H)>=0?H:te.UNKNOWN}(C.status);h(new we(b,C.message))}else h(new we(te.UNKNOWN,"Server responded with status "+p.getStatus()))}else h(new we(te.UNAVAILABLE,"Connection failed."));break;default:Ae()}}finally{he(en,`RPC '${e}' ${a} completed.`)}});const y=JSON.stringify(o);he(en,`RPC '${e}' ${a} sending request:`,o),p.send(t,"POST",y,i,15)})}qo(e,t,i){const o=ef(),a=[this.Fo,"/","google.firestore.v1.Firestore","/",e,"/channel"],c=Q_(),h=G_(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},y=this.longPollingOptions.timeoutSeconds;y!==void 0&&(p.longPollingTimeout=Math.round(1e3*y)),this.useFetchStreams&&(p.useFetchStreams=!0),this.Bo(p.initMessageHeaders,t,i),p.encodeInitMessageHeaders=!0;const _=a.join("");he(en,`Creating RPC '${e}' stream ${o}: ${_}`,p);const E=c.createWebChannel(_,p);let T=!1,C=!1;const b=new sk({Eo:D=>{C?he(en,`Not sending because RPC '${e}' stream ${o} is closed:`,D):(T||(he(en,`Opening RPC '${e}' stream ${o} transport.`),E.open(),T=!0),he(en,`RPC '${e}' stream ${o} sending:`,D),E.send(D))},Ao:()=>E.close()}),M=(D,H,K)=>{D.listen(H,Y=>{try{K(Y)}catch(ie){setTimeout(()=>{throw ie},0)}})};return M(E,Wa.EventType.OPEN,()=>{C||(he(en,`RPC '${e}' stream ${o} transport opened.`),b.So())}),M(E,Wa.EventType.CLOSE,()=>{C||(C=!0,he(en,`RPC '${e}' stream ${o} transport closed`),b.Do())}),M(E,Wa.EventType.ERROR,D=>{C||(C=!0,jo(en,`RPC '${e}' stream ${o} transport errored:`,D),b.Do(new we(te.UNAVAILABLE,"The operation could not be completed")))}),M(E,Wa.EventType.MESSAGE,D=>{var H;if(!C){const K=D.data[0];We(!!K);const Y=K,ie=(Y==null?void 0:Y.error)||((H=Y[0])===null||H===void 0?void 0:H.error);if(ie){he(en,`RPC '${e}' stream ${o} received error:`,ie);const ce=ie.status;let ue=function(R){const N=Tt[R];if(N!==void 0)return Ew(N)}(ce),x=ie.message;ue===void 0&&(ue=te.INTERNAL,x="Unknown error status: "+ce+" with message "+ie.message),C=!0,b.Do(new we(ue,x)),E.close()}else he(en,`RPC '${e}' stream ${o} received:`,K),b.vo(K)}}),M(h,K_.STAT_EVENT,D=>{D.stat===vf.PROXY?he(en,`RPC '${e}' stream ${o} detected buffering proxy`):D.stat===vf.NOPROXY&&he(en,`RPC '${e}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{b.bo()},0),b}}function tf(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sd(n){return new fP(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ow{constructor(e,t,i=1e3,o=1.5,a=6e4){this.li=e,this.timerId=t,this.Qo=i,this.Ko=o,this.$o=a,this.Uo=0,this.Wo=null,this.Go=Date.now(),this.reset()}reset(){this.Uo=0}zo(){this.Uo=this.$o}jo(e){this.cancel();const t=Math.floor(this.Uo+this.Ho()),i=Math.max(0,Date.now()-this.Go),o=Math.max(0,t-i);o>0&&he("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.Uo} ms, delay with jitter: ${t} ms, last attempt: ${i} ms ago)`),this.Wo=this.li.enqueueAfterDelay(this.timerId,o,()=>(this.Go=Date.now(),e())),this.Uo*=this.Ko,this.Uo<this.Qo&&(this.Uo=this.Qo),this.Uo>this.$o&&(this.Uo=this.$o)}Jo(){this.Wo!==null&&(this.Wo.skipDelay(),this.Wo=null)}cancel(){this.Wo!==null&&(this.Wo.cancel(),this.Wo=null)}Ho(){return(Math.random()-.5)*this.Uo}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lw{constructor(e,t,i,o,a,c,h,p){this.li=e,this.Yo=i,this.Zo=o,this.connection=a,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=h,this.listener=p,this.state=0,this.Xo=0,this.e_=null,this.t_=null,this.stream=null,this.n_=0,this.r_=new Ow(e,t)}i_(){return this.state===1||this.state===5||this.s_()}s_(){return this.state===2||this.state===3}start(){this.n_=0,this.state!==4?this.auth():this.o_()}async stop(){this.i_()&&await this.close(0)}__(){this.state=0,this.r_.reset()}a_(){this.s_()&&this.e_===null&&(this.e_=this.li.enqueueAfterDelay(this.Yo,6e4,()=>this.u_()))}c_(e){this.l_(),this.stream.send(e)}async u_(){if(this.s_())return this.close(0)}l_(){this.e_&&(this.e_.cancel(),this.e_=null)}h_(){this.t_&&(this.t_.cancel(),this.t_=null)}async close(e,t){this.l_(),this.h_(),this.r_.cancel(),this.Xo++,e!==4?this.r_.reset():t&&t.code===te.RESOURCE_EXHAUSTED?(ui(t.toString()),ui("Using maximum backoff delay to prevent overloading the backend."),this.r_.zo()):t&&t.code===te.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.P_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.po(t)}P_(){}auth(){this.state=1;const e=this.T_(this.Xo),t=this.Xo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,o])=>{this.Xo===t&&this.I_(i,o)},i=>{e(()=>{const o=new we(te.UNKNOWN,"Fetching auth token failed: "+i.message);return this.d_(o)})})}I_(e,t){const i=this.T_(this.Xo);this.stream=this.E_(e,t),this.stream.Ro(()=>{i(()=>this.listener.Ro())}),this.stream.mo(()=>{i(()=>(this.state=2,this.t_=this.li.enqueueAfterDelay(this.Zo,1e4,()=>(this.s_()&&(this.state=3),Promise.resolve())),this.listener.mo()))}),this.stream.po(o=>{i(()=>this.d_(o))}),this.stream.onMessage(o=>{i(()=>++this.n_==1?this.A_(o):this.onNext(o))})}o_(){this.state=5,this.r_.jo(async()=>{this.state=0,this.start()})}d_(e){return he("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}T_(e){return t=>{this.li.enqueueAndForget(()=>this.Xo===e?t():(he("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class ak extends Lw{constructor(e,t,i,o,a,c){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,i,o,c),this.serializer=a}E_(e,t){return this.connection.qo("Listen",e,t)}A_(e){return this.onNext(e)}onNext(e){this.r_.reset();const t=gP(this.serializer,e),i=function(a){if(!("targetChange"in a))return Pe.min();const c=a.targetChange;return c.targetIds&&c.targetIds.length?Pe.min():c.readTime?Nr(c.readTime):Pe.min()}(e);return this.listener.R_(t,i)}V_(e){const t={};t.database=Af(this.serializer),t.addTarget=function(a,c){let h;const p=c.target;if(h=Tf(p)?{documents:_P(a,p)}:{query:wP(a,p).ct},h.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){h.resumeToken=Sw(a,c.resumeToken);const y=Sf(a,c.expectedCount);y!==null&&(h.expectedCount=y)}else if(c.snapshotVersion.compareTo(Pe.min())>0){h.readTime=Nc(a,c.snapshotVersion.toTimestamp());const y=Sf(a,c.expectedCount);y!==null&&(h.expectedCount=y)}return h}(this.serializer,e);const i=TP(this.serializer,e);i&&(t.labels=i),this.c_(t)}m_(e){const t={};t.database=Af(this.serializer),t.removeTarget=e,this.c_(t)}}class lk extends Lw{constructor(e,t,i,o,a,c){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,i,o,c),this.serializer=a}get f_(){return this.n_>0}start(){this.lastStreamToken=void 0,super.start()}P_(){this.f_&&this.g_([])}E_(e,t){return this.connection.qo("Write",e,t)}A_(e){return We(!!e.streamToken),this.lastStreamToken=e.streamToken,We(!e.writeResults||e.writeResults.length===0),this.listener.p_()}onNext(e){We(!!e.streamToken),this.lastStreamToken=e.streamToken,this.r_.reset();const t=vP(e.writeResults,e.commitTime),i=Nr(e.commitTime);return this.listener.y_(i,t)}w_(){const e={};e.database=Af(this.serializer),this.c_(e)}g_(e){const t={streamToken:this.lastStreamToken,writes:e.map(i=>yP(this.serializer,i))};this.c_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uk extends class{}{constructor(e,t,i,o){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=i,this.serializer=o,this.S_=!1}b_(){if(this.S_)throw new we(te.FAILED_PRECONDITION,"The client has already been terminated.")}Oo(e,t,i,o){return this.b_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,c])=>this.connection.Oo(e,Rf(t,i),o,a,c)).catch(a=>{throw a.name==="FirebaseError"?(a.code===te.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new we(te.UNKNOWN,a.toString())})}ko(e,t,i,o,a){return this.b_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([c,h])=>this.connection.ko(e,Rf(t,i),o,c,h,a)).catch(c=>{throw c.name==="FirebaseError"?(c.code===te.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new we(te.UNKNOWN,c.toString())})}terminate(){this.S_=!0,this.connection.terminate()}}class ck{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.D_=0,this.v_=null,this.C_=!0}F_(){this.D_===0&&(this.M_("Unknown"),this.v_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.v_=null,this.x_("Backend didn't respond within 10 seconds."),this.M_("Offline"),Promise.resolve())))}O_(e){this.state==="Online"?this.M_("Unknown"):(this.D_++,this.D_>=1&&(this.N_(),this.x_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.M_("Offline")))}set(e){this.N_(),this.D_=0,e==="Online"&&(this.C_=!1),this.M_(e)}M_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}x_(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.C_?(ui(t),this.C_=!1):he("OnlineStateTracker",t)}N_(){this.v_!==null&&(this.v_.cancel(),this.v_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dk{constructor(e,t,i,o,a){this.localStore=e,this.datastore=t,this.asyncQueue=i,this.remoteSyncer={},this.B_=[],this.L_=new Map,this.k_=new Set,this.q_=[],this.Q_=a,this.Q_.uo(c=>{i.enqueueAndForget(async()=>{Hs(this)&&(he("RemoteStore","Restarting streams for network reachability change."),await async function(p){const y=ke(p);y.k_.add(4),await Al(y),y.K_.set("Unknown"),y.k_.delete(4),await od(y)}(this))})}),this.K_=new ck(i,o)}}async function od(n){if(Hs(n))for(const e of n.q_)await e(!0)}async function Al(n){for(const e of n.q_)await e(!1)}function Vw(n,e){const t=ke(n);t.L_.has(e.targetId)||(t.L_.set(e.targetId,e),gp(t)?mp(t):ta(t).s_()&&pp(t,e))}function fp(n,e){const t=ke(n),i=ta(t);t.L_.delete(e),i.s_()&&Mw(t,e),t.L_.size===0&&(i.s_()?i.a_():Hs(t)&&t.K_.set("Unknown"))}function pp(n,e){if(n.U_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Pe.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}ta(n).V_(e)}function Mw(n,e){n.U_.xe(e),ta(n).m_(e)}function mp(n){n.U_=new uP({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),ut:e=>n.L_.get(e)||null,nt:()=>n.datastore.serializer.databaseId}),ta(n).start(),n.K_.F_()}function gp(n){return Hs(n)&&!ta(n).i_()&&n.L_.size>0}function Hs(n){return ke(n).k_.size===0}function Fw(n){n.U_=void 0}async function hk(n){n.K_.set("Online")}async function fk(n){n.L_.forEach((e,t)=>{pp(n,e)})}async function pk(n,e){Fw(n),gp(n)?(n.K_.O_(e),mp(n)):n.K_.set("Unknown")}async function mk(n,e,t){if(n.K_.set("Online"),e instanceof Iw&&e.state===2&&e.cause)try{await async function(o,a){const c=a.cause;for(const h of a.targetIds)o.L_.has(h)&&(await o.remoteSyncer.rejectListen(h,c),o.L_.delete(h),o.U_.removeTarget(h))}(n,e)}catch(i){he("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),i),await Oc(n,i)}else if(e instanceof mc?n.U_.$e(e):e instanceof Tw?n.U_.Je(e):n.U_.Ge(e),!t.isEqual(Pe.min()))try{const i=await Dw(n.localStore);t.compareTo(i)>=0&&await function(a,c){const h=a.U_.it(c);return h.targetChanges.forEach((p,y)=>{if(p.resumeToken.approximateByteSize()>0){const _=a.L_.get(y);_&&a.L_.set(y,_.withResumeToken(p.resumeToken,c))}}),h.targetMismatches.forEach((p,y)=>{const _=a.L_.get(p);if(!_)return;a.L_.set(p,_.withResumeToken(Kt.EMPTY_BYTE_STRING,_.snapshotVersion)),Mw(a,p);const E=new qi(_.target,p,y,_.sequenceNumber);pp(a,E)}),a.remoteSyncer.applyRemoteEvent(h)}(n,t)}catch(i){he("RemoteStore","Failed to raise snapshot:",i),await Oc(n,i)}}async function Oc(n,e,t){if(!ea(e))throw e;n.k_.add(1),await Al(n),n.K_.set("Offline"),t||(t=()=>Dw(n.localStore)),n.asyncQueue.enqueueRetryable(async()=>{he("RemoteStore","Retrying IndexedDB access"),await t(),n.k_.delete(1),await od(n)})}function Uw(n,e){return e().catch(t=>Oc(n,t,e))}async function ad(n){const e=ke(n),t=ss(e);let i=e.B_.length>0?e.B_[e.B_.length-1].batchId:-1;for(;gk(e);)try{const o=await ZP(e.localStore,i);if(o===null){e.B_.length===0&&t.a_();break}i=o.batchId,yk(e,o)}catch(o){await Oc(e,o)}jw(e)&&zw(e)}function gk(n){return Hs(n)&&n.B_.length<10}function yk(n,e){n.B_.push(e);const t=ss(n);t.s_()&&t.f_&&t.g_(e.mutations)}function jw(n){return Hs(n)&&!ss(n).i_()&&n.B_.length>0}function zw(n){ss(n).start()}async function vk(n){ss(n).w_()}async function _k(n){const e=ss(n);for(const t of n.B_)e.g_(t.mutations)}async function wk(n,e,t){const i=n.B_.shift(),o=ap.from(i,e,t);await Uw(n,()=>n.remoteSyncer.applySuccessfulWrite(o)),await ad(n)}async function Ek(n,e){e&&ss(n).f_&&await async function(i,o){if(function(c){return oP(c)&&c!==te.ABORTED}(o.code)){const a=i.B_.shift();ss(i).__(),await Uw(i,()=>i.remoteSyncer.rejectFailedWrite(a.batchId,o)),await ad(i)}}(n,e),jw(n)&&zw(n)}async function ov(n,e){const t=ke(n);t.asyncQueue.verifyOperationInProgress(),he("RemoteStore","RemoteStore received new credentials");const i=Hs(t);t.k_.add(3),await Al(t),i&&t.K_.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.k_.delete(3),await od(t)}async function Tk(n,e){const t=ke(n);e?(t.k_.delete(2),await od(t)):e||(t.k_.add(2),await Al(t),t.K_.set("Unknown"))}function ta(n){return n.W_||(n.W_=function(t,i,o){const a=ke(t);return a.b_(),new ak(i,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,o)}(n.datastore,n.asyncQueue,{Ro:hk.bind(null,n),mo:fk.bind(null,n),po:pk.bind(null,n),R_:mk.bind(null,n)}),n.q_.push(async e=>{e?(n.W_.__(),gp(n)?mp(n):n.K_.set("Unknown")):(await n.W_.stop(),Fw(n))})),n.W_}function ss(n){return n.G_||(n.G_=function(t,i,o){const a=ke(t);return a.b_(),new lk(i,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,o)}(n.datastore,n.asyncQueue,{Ro:()=>Promise.resolve(),mo:vk.bind(null,n),po:Ek.bind(null,n),p_:_k.bind(null,n),y_:wk.bind(null,n)}),n.q_.push(async e=>{e?(n.G_.__(),await ad(n)):(await n.G_.stop(),n.B_.length>0&&(he("RemoteStore",`Stopping write stream with ${n.B_.length} pending writes`),n.B_=[]))})),n.G_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yp{constructor(e,t,i,o,a){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=i,this.op=o,this.removalCallback=a,this.deferred=new Ji,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(c=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,i,o,a){const c=Date.now()+i,h=new yp(e,t,c,o,a);return h.start(i),h}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new we(te.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function vp(n,e){if(ui("AsyncQueue",`${e}: ${n}`),ea(n))return new we(te.UNAVAILABLE,`${e}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vo{static emptySet(e){return new Vo(e.comparator)}constructor(e){this.comparator=e?(t,i)=>e(t,i)||Ie.comparator(t.key,i.key):(t,i)=>Ie.comparator(t.key,i.key),this.keyedMap=qa(),this.sortedSet=new ut(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,i)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Vo)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;t.hasNext();){const o=t.getNext().key,a=i.getNext().key;if(!o.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const i=new Vo;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=t,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class av{constructor(){this.z_=new ut(Ie.comparator)}track(e){const t=e.doc.key,i=this.z_.get(t);i?e.type!==0&&i.type===3?this.z_=this.z_.insert(t,e):e.type===3&&i.type!==1?this.z_=this.z_.insert(t,{type:i.type,doc:e.doc}):e.type===2&&i.type===2?this.z_=this.z_.insert(t,{type:2,doc:e.doc}):e.type===2&&i.type===0?this.z_=this.z_.insert(t,{type:0,doc:e.doc}):e.type===1&&i.type===0?this.z_=this.z_.remove(t):e.type===1&&i.type===2?this.z_=this.z_.insert(t,{type:1,doc:i.doc}):e.type===0&&i.type===1?this.z_=this.z_.insert(t,{type:2,doc:e.doc}):Ae():this.z_=this.z_.insert(t,e)}j_(){const e=[];return this.z_.inorderTraversal((t,i)=>{e.push(i)}),e}}class Wo{constructor(e,t,i,o,a,c,h,p,y){this.query=e,this.docs=t,this.oldDocs=i,this.docChanges=o,this.mutatedKeys=a,this.fromCache=c,this.syncStateChanged=h,this.excludesMetadataChanges=p,this.hasCachedResults=y}static fromInitialDocuments(e,t,i,o,a){const c=[];return t.forEach(h=>{c.push({type:0,doc:h})}),new Wo(e,t,Vo.emptySet(t),c,i,o,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&ed(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,i=e.docChanges;if(t.length!==i.length)return!1;for(let o=0;o<t.length;o++)if(t[o].type!==i[o].type||!t[o].doc.isEqual(i[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ik{constructor(){this.H_=void 0,this.J_=[]}Y_(){return this.J_.some(e=>e.Z_())}}class Sk{constructor(){this.queries=lv(),this.onlineState="Unknown",this.X_=new Set}terminate(){(function(t,i){const o=ke(t),a=o.queries;o.queries=lv(),a.forEach((c,h)=>{for(const p of h.J_)p.onError(i)})})(this,new we(te.ABORTED,"Firestore shutting down"))}}function lv(){return new Bs(n=>lw(n),ed)}async function Rk(n,e){const t=ke(n);let i=3;const o=e.query;let a=t.queries.get(o);a?!a.Y_()&&e.Z_()&&(i=2):(a=new Ik,i=e.Z_()?0:1);try{switch(i){case 0:a.H_=await t.onListen(o,!0);break;case 1:a.H_=await t.onListen(o,!1);break;case 2:await t.onFirstRemoteStoreListen(o)}}catch(c){const h=vp(c,`Initialization of query '${ko(e.query)}' failed`);return void e.onError(h)}t.queries.set(o,a),a.J_.push(e),e.ea(t.onlineState),a.H_&&e.ta(a.H_)&&_p(t)}async function Ck(n,e){const t=ke(n),i=e.query;let o=3;const a=t.queries.get(i);if(a){const c=a.J_.indexOf(e);c>=0&&(a.J_.splice(c,1),a.J_.length===0?o=e.Z_()?0:1:!a.Y_()&&e.Z_()&&(o=2))}switch(o){case 0:return t.queries.delete(i),t.onUnlisten(i,!0);case 1:return t.queries.delete(i),t.onUnlisten(i,!1);case 2:return t.onLastRemoteStoreUnlisten(i);default:return}}function Ak(n,e){const t=ke(n);let i=!1;for(const o of e){const a=o.query,c=t.queries.get(a);if(c){for(const h of c.J_)h.ta(o)&&(i=!0);c.H_=o}}i&&_p(t)}function Pk(n,e,t){const i=ke(n),o=i.queries.get(e);if(o)for(const a of o.J_)a.onError(t);i.queries.delete(e)}function _p(n){n.X_.forEach(e=>{e.next()})}var kf,uv;(uv=kf||(kf={})).na="default",uv.Cache="cache";class kk{constructor(e,t,i){this.query=e,this.ra=t,this.ia=!1,this.sa=null,this.onlineState="Unknown",this.options=i||{}}ta(e){if(!this.options.includeMetadataChanges){const i=[];for(const o of e.docChanges)o.type!==3&&i.push(o);e=new Wo(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.ia?this.oa(e)&&(this.ra.next(e),t=!0):this._a(e,this.onlineState)&&(this.aa(e),t=!0),this.sa=e,t}onError(e){this.ra.error(e)}ea(e){this.onlineState=e;let t=!1;return this.sa&&!this.ia&&this._a(this.sa,e)&&(this.aa(this.sa),t=!0),t}_a(e,t){if(!e.fromCache||!this.Z_())return!0;const i=t!=="Offline";return(!this.options.ua||!i)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}oa(e){if(e.docChanges.length>0)return!0;const t=this.sa&&this.sa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}aa(e){e=Wo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ia=!0,this.ra.next(e)}Z_(){return this.options.source!==kf.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bw{constructor(e){this.key=e}}class $w{constructor(e){this.key=e}}class xk{constructor(e,t){this.query=e,this.Ea=t,this.Aa=null,this.hasCachedResults=!1,this.current=!1,this.Ra=Ve(),this.mutatedKeys=Ve(),this.Va=uw(e),this.ma=new Vo(this.Va)}get fa(){return this.Ea}ga(e,t){const i=t?t.pa:new av,o=t?t.ma:this.ma;let a=t?t.mutatedKeys:this.mutatedKeys,c=o,h=!1;const p=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,y=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal((_,E)=>{const T=o.get(_),C=td(this.query,E)?E:null,b=!!T&&this.mutatedKeys.has(T.key),M=!!C&&(C.hasLocalMutations||this.mutatedKeys.has(C.key)&&C.hasCommittedMutations);let D=!1;T&&C?T.data.isEqual(C.data)?b!==M&&(i.track({type:3,doc:C}),D=!0):this.ya(T,C)||(i.track({type:2,doc:C}),D=!0,(p&&this.Va(C,p)>0||y&&this.Va(C,y)<0)&&(h=!0)):!T&&C?(i.track({type:0,doc:C}),D=!0):T&&!C&&(i.track({type:1,doc:T}),D=!0,(p||y)&&(h=!0)),D&&(C?(c=c.add(C),a=M?a.add(_):a.delete(_)):(c=c.delete(_),a=a.delete(_)))}),this.query.limit!==null)for(;c.size>this.query.limit;){const _=this.query.limitType==="F"?c.last():c.first();c=c.delete(_.key),a=a.delete(_.key),i.track({type:1,doc:_})}return{ma:c,pa:i,ss:h,mutatedKeys:a}}ya(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,i,o){const a=this.ma;this.ma=e.ma,this.mutatedKeys=e.mutatedKeys;const c=e.pa.j_();c.sort((_,E)=>function(C,b){const M=D=>{switch(D){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ae()}};return M(C)-M(b)}(_.type,E.type)||this.Va(_.doc,E.doc)),this.wa(i),o=o!=null&&o;const h=t&&!o?this.Sa():[],p=this.Ra.size===0&&this.current&&!o?1:0,y=p!==this.Aa;return this.Aa=p,c.length!==0||y?{snapshot:new Wo(this.query,e.ma,a,c,e.mutatedKeys,p===0,y,!1,!!i&&i.resumeToken.approximateByteSize()>0),ba:h}:{ba:h}}ea(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({ma:this.ma,pa:new av,mutatedKeys:this.mutatedKeys,ss:!1},!1)):{ba:[]}}Da(e){return!this.Ea.has(e)&&!!this.ma.has(e)&&!this.ma.get(e).hasLocalMutations}wa(e){e&&(e.addedDocuments.forEach(t=>this.Ea=this.Ea.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Ea=this.Ea.delete(t)),this.current=e.current)}Sa(){if(!this.current)return[];const e=this.Ra;this.Ra=Ve(),this.ma.forEach(i=>{this.Da(i.key)&&(this.Ra=this.Ra.add(i.key))});const t=[];return e.forEach(i=>{this.Ra.has(i)||t.push(new $w(i))}),this.Ra.forEach(i=>{e.has(i)||t.push(new Bw(i))}),t}va(e){this.Ea=e.Es,this.Ra=Ve();const t=this.ga(e.documents);return this.applyChanges(t,!0)}Ca(){return Wo.fromInitialDocuments(this.query,this.ma,this.mutatedKeys,this.Aa===0,this.hasCachedResults)}}class bk{constructor(e,t,i){this.query=e,this.targetId=t,this.view=i}}class Nk{constructor(e){this.key=e,this.Fa=!1}}class Dk{constructor(e,t,i,o,a,c){this.localStore=e,this.remoteStore=t,this.eventManager=i,this.sharedClientState=o,this.currentUser=a,this.maxConcurrentLimboResolutions=c,this.Ma={},this.xa=new Bs(h=>lw(h),ed),this.Oa=new Map,this.Na=new Set,this.Ba=new ut(Ie.comparator),this.La=new Map,this.ka=new cp,this.qa={},this.Qa=new Map,this.Ka=Ho.Qn(),this.onlineState="Unknown",this.$a=void 0}get isPrimaryClient(){return this.$a===!0}}async function Ok(n,e,t=!0){const i=Qw(n);let o;const a=i.xa.get(e);return a?(i.sharedClientState.addLocalQueryTarget(a.targetId),o=a.view.Ca()):o=await Hw(i,e,t,!0),o}async function Lk(n,e){const t=Qw(n);await Hw(t,e,!0,!1)}async function Hw(n,e,t,i){const o=await ek(n.localStore,br(e)),a=o.targetId,c=n.sharedClientState.addLocalQueryTarget(a,t);let h;return i&&(h=await Vk(n,e,a,c==="current",o.resumeToken)),n.isPrimaryClient&&t&&Vw(n.remoteStore,o),h}async function Vk(n,e,t,i,o){n.Ua=(E,T,C)=>async function(M,D,H,K){let Y=D.view.ga(H);Y.ss&&(Y=await rv(M.localStore,D.query,!1).then(({documents:x})=>D.view.ga(x,Y)));const ie=K&&K.targetChanges.get(D.targetId),ce=K&&K.targetMismatches.get(D.targetId)!=null,ue=D.view.applyChanges(Y,M.isPrimaryClient,ie,ce);return dv(M,D.targetId,ue.ba),ue.snapshot}(n,E,T,C);const a=await rv(n.localStore,e,!0),c=new xk(e,a.Es),h=c.ga(a.documents),p=Cl.createSynthesizedTargetChangeForCurrentChange(t,i&&n.onlineState!=="Offline",o),y=c.applyChanges(h,n.isPrimaryClient,p);dv(n,t,y.ba);const _=new bk(e,t,c);return n.xa.set(e,_),n.Oa.has(t)?n.Oa.get(t).push(e):n.Oa.set(t,[e]),y.snapshot}async function Mk(n,e,t){const i=ke(n),o=i.xa.get(e),a=i.Oa.get(o.targetId);if(a.length>1)return i.Oa.set(o.targetId,a.filter(c=>!ed(c,e))),void i.xa.delete(e);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(o.targetId),i.sharedClientState.isActiveQueryTarget(o.targetId)||await Pf(i.localStore,o.targetId,!1).then(()=>{i.sharedClientState.clearQueryState(o.targetId),t&&fp(i.remoteStore,o.targetId),xf(i,o.targetId)}).catch(Zo)):(xf(i,o.targetId),await Pf(i.localStore,o.targetId,!0))}async function Fk(n,e){const t=ke(n),i=t.xa.get(e),o=t.Oa.get(i.targetId);t.isPrimaryClient&&o.length===1&&(t.sharedClientState.removeLocalQueryTarget(i.targetId),fp(t.remoteStore,i.targetId))}async function Uk(n,e,t){const i=qk(n);try{const o=await function(c,h){const p=ke(c),y=kt.now(),_=h.reduce((C,b)=>C.add(b.key),Ve());let E,T;return p.persistence.runTransaction("Locally write mutations","readwrite",C=>{let b=ci(),M=Ve();return p.hs.getEntries(C,_).next(D=>{b=D,b.forEach((H,K)=>{K.isValidDocument()||(M=M.add(H))})}).next(()=>p.localDocuments.getOverlayedDocuments(C,b)).next(D=>{E=D;const H=[];for(const K of h){const Y=tP(K,E.get(K.key).overlayedDocument);Y!=null&&H.push(new $s(K.key,Y,ew(Y.value.mapValue),oi.exists(!0)))}return p.mutationQueue.addMutationBatch(C,y,H,h)}).next(D=>{T=D;const H=D.applyToLocalDocumentSet(E,M);return p.documentOverlayCache.saveOverlays(C,D.batchId,H)})}).then(()=>({batchId:T.batchId,changes:dw(E)}))}(i.localStore,e);i.sharedClientState.addPendingMutation(o.batchId),function(c,h,p){let y=c.qa[c.currentUser.toKey()];y||(y=new ut(Ue)),y=y.insert(h,p),c.qa[c.currentUser.toKey()]=y}(i,o.batchId,t),await Pl(i,o.changes),await ad(i.remoteStore)}catch(o){const a=vp(o,"Failed to persist write");t.reject(a)}}async function Ww(n,e){const t=ke(n);try{const i=await XP(t.localStore,e);e.targetChanges.forEach((o,a)=>{const c=t.La.get(a);c&&(We(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1),o.addedDocuments.size>0?c.Fa=!0:o.modifiedDocuments.size>0?We(c.Fa):o.removedDocuments.size>0&&(We(c.Fa),c.Fa=!1))}),await Pl(t,i,e)}catch(i){await Zo(i)}}function cv(n,e,t){const i=ke(n);if(i.isPrimaryClient&&t===0||!i.isPrimaryClient&&t===1){const o=[];i.xa.forEach((a,c)=>{const h=c.view.ea(e);h.snapshot&&o.push(h.snapshot)}),function(c,h){const p=ke(c);p.onlineState=h;let y=!1;p.queries.forEach((_,E)=>{for(const T of E.J_)T.ea(h)&&(y=!0)}),y&&_p(p)}(i.eventManager,e),o.length&&i.Ma.R_(o),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}async function jk(n,e,t){const i=ke(n);i.sharedClientState.updateQueryState(e,"rejected",t);const o=i.La.get(e),a=o&&o.key;if(a){let c=new ut(Ie.comparator);c=c.insert(a,nn.newNoDocument(a,Pe.min()));const h=Ve().add(a),p=new id(Pe.min(),new Map,new ut(Ue),c,h);await Ww(i,p),i.Ba=i.Ba.remove(a),i.La.delete(e),wp(i)}else await Pf(i.localStore,e,!1).then(()=>xf(i,e,t)).catch(Zo)}async function zk(n,e){const t=ke(n),i=e.batch.batchId;try{const o=await YP(t.localStore,e);Kw(t,i,null),qw(t,i),t.sharedClientState.updateMutationState(i,"acknowledged"),await Pl(t,o)}catch(o){await Zo(o)}}async function Bk(n,e,t){const i=ke(n);try{const o=await function(c,h){const p=ke(c);return p.persistence.runTransaction("Reject batch","readwrite-primary",y=>{let _;return p.mutationQueue.lookupMutationBatch(y,h).next(E=>(We(E!==null),_=E.keys(),p.mutationQueue.removeMutationBatch(y,E))).next(()=>p.mutationQueue.performConsistencyCheck(y)).next(()=>p.documentOverlayCache.removeOverlaysForBatchId(y,_,h)).next(()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,_)).next(()=>p.localDocuments.getDocuments(y,_))})}(i.localStore,e);Kw(i,e,t),qw(i,e),i.sharedClientState.updateMutationState(e,"rejected",t),await Pl(i,o)}catch(o){await Zo(o)}}function qw(n,e){(n.Qa.get(e)||[]).forEach(t=>{t.resolve()}),n.Qa.delete(e)}function Kw(n,e,t){const i=ke(n);let o=i.qa[i.currentUser.toKey()];if(o){const a=o.get(e);a&&(t?a.reject(t):a.resolve(),o=o.remove(e)),i.qa[i.currentUser.toKey()]=o}}function xf(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const i of n.Oa.get(e))n.xa.delete(i),t&&n.Ma.Wa(i,t);n.Oa.delete(e),n.isPrimaryClient&&n.ka.yr(e).forEach(i=>{n.ka.containsKey(i)||Gw(n,i)})}function Gw(n,e){n.Na.delete(e.path.canonicalString());const t=n.Ba.get(e);t!==null&&(fp(n.remoteStore,t),n.Ba=n.Ba.remove(e),n.La.delete(t),wp(n))}function dv(n,e,t){for(const i of t)i instanceof Bw?(n.ka.addReference(i.key,e),$k(n,i)):i instanceof $w?(he("SyncEngine","Document no longer in limbo: "+i.key),n.ka.removeReference(i.key,e),n.ka.containsKey(i.key)||Gw(n,i.key)):Ae()}function $k(n,e){const t=e.key,i=t.path.canonicalString();n.Ba.get(t)||n.Na.has(i)||(he("SyncEngine","New document in limbo: "+t),n.Na.add(i),wp(n))}function wp(n){for(;n.Na.size>0&&n.Ba.size<n.maxConcurrentLimboResolutions;){const e=n.Na.values().next().value;n.Na.delete(e);const t=new Ie(it.fromString(e)),i=n.Ka.next();n.La.set(i,new Nk(t)),n.Ba=n.Ba.insert(t,i),Vw(n.remoteStore,new qi(br(aw(t.path)),i,"TargetPurposeLimboResolution",Yc.oe))}}async function Pl(n,e,t){const i=ke(n),o=[],a=[],c=[];i.xa.isEmpty()||(i.xa.forEach((h,p)=>{c.push(i.Ua(p,e,t).then(y=>{var _;if((y||t)&&i.isPrimaryClient){const E=y?!y.fromCache:(_=t==null?void 0:t.targetChanges.get(p.targetId))===null||_===void 0?void 0:_.current;i.sharedClientState.updateQueryState(p.targetId,E?"current":"not-current")}if(y){o.push(y);const E=hp.zi(p.targetId,y);a.push(E)}}))}),await Promise.all(c),i.Ma.R_(o),await async function(p,y){const _=ke(p);try{await _.persistence.runTransaction("notifyLocalViewChanges","readwrite",E=>X.forEach(y,T=>X.forEach(T.Wi,C=>_.persistence.referenceDelegate.addReference(E,T.targetId,C)).next(()=>X.forEach(T.Gi,C=>_.persistence.referenceDelegate.removeReference(E,T.targetId,C)))))}catch(E){if(!ea(E))throw E;he("LocalStore","Failed to update sequence numbers: "+E)}for(const E of y){const T=E.targetId;if(!E.fromCache){const C=_.us.get(T),b=C.snapshotVersion,M=C.withLastLimboFreeSnapshotVersion(b);_.us=_.us.insert(T,M)}}}(i.localStore,a))}async function Hk(n,e){const t=ke(n);if(!t.currentUser.isEqual(e)){he("SyncEngine","User change. New user:",e.toKey());const i=await Nw(t.localStore,e);t.currentUser=e,function(a,c){a.Qa.forEach(h=>{h.forEach(p=>{p.reject(new we(te.CANCELLED,c))})}),a.Qa.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),await Pl(t,i.Ts)}}function Wk(n,e){const t=ke(n),i=t.La.get(e);if(i&&i.Fa)return Ve().add(i.key);{let o=Ve();const a=t.Oa.get(e);if(!a)return o;for(const c of a){const h=t.xa.get(c);o=o.unionWith(h.view.fa)}return o}}function Qw(n){const e=ke(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=Ww.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Wk.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=jk.bind(null,e),e.Ma.R_=Ak.bind(null,e.eventManager),e.Ma.Wa=Pk.bind(null,e.eventManager),e}function qk(n){const e=ke(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=zk.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Bk.bind(null,e),e}class Lc{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=sd(e.databaseInfo.databaseId),this.sharedClientState=this.za(e),this.persistence=this.ja(e),await this.persistence.start(),this.localStore=this.Ha(e),this.gcScheduler=this.Ja(e,this.localStore),this.indexBackfillerScheduler=this.Ya(e,this.localStore)}Ja(e,t){return null}Ya(e,t){return null}Ha(e){return QP(this.persistence,new KP,e.initialUser,this.serializer)}ja(e){return new bw(dp.ei,this.serializer)}za(e){return new nk}async terminate(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Lc.provider={build:()=>new Lc};class Kk extends Lc{constructor(e){super(),this.cacheSizeBytes=e}Ja(e,t){We(this.persistence.referenceDelegate instanceof Dc);const i=this.persistence.referenceDelegate.garbageCollector;return new NP(i,e.asyncQueue,t)}ja(e){const t=this.cacheSizeBytes!==void 0?In.withCacheSize(this.cacheSizeBytes):In.DEFAULT;return new bw(i=>Dc.ei(i,t),this.serializer)}}class bf{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>cv(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=Hk.bind(null,this.syncEngine),await Tk(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new Sk}()}createDatastore(e){const t=sd(e.databaseInfo.databaseId),i=function(a){return new ok(a)}(e.databaseInfo);return function(a,c,h,p){return new uk(a,c,h,p)}(e.authCredentials,e.appCheckCredentials,i,t)}createRemoteStore(e){return function(i,o,a,c,h){return new dk(i,o,a,c,h)}(this.localStore,this.datastore,e.asyncQueue,t=>cv(this.syncEngine,t,0),function(){return sv.p()?new sv:new rk}())}createSyncEngine(e,t){return function(o,a,c,h,p,y,_){const E=new Dk(o,a,c,h,p,y);return _&&(E.$a=!0),E}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(o){const a=ke(o);he("RemoteStore","RemoteStore shutting down."),a.k_.add(5),await Al(a),a.Q_.shutdown(),a.K_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(t=this.eventManager)===null||t===void 0||t.terminate()}}bf.provider={build:()=>new bf};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gk{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Xa(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Xa(this.observer.error,e):ui("Uncaught Error in snapshot listener:",e.toString()))}eu(){this.muted=!0}Xa(e,t){setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qk{constructor(e,t,i,o,a){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=i,this.databaseInfo=o,this.user=tn.UNAUTHENTICATED,this.clientId=X_.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=a,this.authCredentials.start(i,async c=>{he("FirestoreClient","Received user=",c.uid),await this.authCredentialListener(c),this.user=c}),this.appCheckCredentials.start(i,c=>(he("FirestoreClient","Received new app check token=",c),this.appCheckCredentialListener(c,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Ji;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const i=vp(t,"Failed to shutdown persistence");e.reject(i)}}),e.promise}}async function nf(n,e){n.asyncQueue.verifyOperationInProgress(),he("FirestoreClient","Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let i=t.initialUser;n.setCredentialChangeListener(async o=>{i.isEqual(o)||(await Nw(e.localStore,o),i=o)}),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}async function hv(n,e){n.asyncQueue.verifyOperationInProgress();const t=await Yk(n);he("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener(i=>ov(e.remoteStore,i)),n.setAppCheckTokenChangeListener((i,o)=>ov(e.remoteStore,o)),n._onlineComponents=e}async function Yk(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){he("FirestoreClient","Using user provided OfflineComponentProvider");try{await nf(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function(o){return o.name==="FirebaseError"?o.code===te.FAILED_PRECONDITION||o.code===te.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}(t))throw t;jo("Error using user provided cache. Falling back to memory cache: "+t),await nf(n,new Lc)}}else he("FirestoreClient","Using default OfflineComponentProvider"),await nf(n,new Kk(void 0));return n._offlineComponents}async function Yw(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(he("FirestoreClient","Using user provided OnlineComponentProvider"),await hv(n,n._uninitializedComponentsProvider._online)):(he("FirestoreClient","Using default OnlineComponentProvider"),await hv(n,new bf))),n._onlineComponents}function Xk(n){return Yw(n).then(e=>e.syncEngine)}async function Jk(n){const e=await Yw(n),t=e.eventManager;return t.onListen=Ok.bind(null,e.syncEngine),t.onUnlisten=Mk.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=Lk.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=Fk.bind(null,e.syncEngine),t}function Zk(n,e,t={}){const i=new Ji;return n.asyncQueue.enqueueAndForget(async()=>function(a,c,h,p,y){const _=new Gk({next:T=>{_.eu(),c.enqueueAndForget(()=>Ck(a,E)),T.fromCache&&p.source==="server"?y.reject(new we(te.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):y.resolve(T)},error:T=>y.reject(T)}),E=new kk(h,_,{includeMetadataChanges:!0,ua:!0});return Rk(a,E)}(await Jk(n),n.asyncQueue,e,t,i)),i.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xw(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fv=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jw(n,e,t){if(!t)throw new we(te.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function ex(n,e,t,i){if(e===!0&&i===!0)throw new we(te.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function pv(n){if(!Ie.isDocumentKey(n))throw new we(te.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function mv(n){if(Ie.isDocumentKey(n))throw new we(te.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function Ep(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=function(i){return i.constructor?i.constructor.name:null}(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":Ae()}function hl(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new we(te.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=Ep(n);throw new we(te.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gv{constructor(e){var t,i;if(e.host===void 0){if(e.ssl!==void 0)throw new we(te.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(t=e.ssl)===null||t===void 0||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new we(te.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}ex("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Xw((i=e.experimentalLongPollingOptions)!==null&&i!==void 0?i:{}),function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new we(te.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new we(te.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new we(te.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(i,o){return i.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class ld{constructor(e,t,i,o){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=i,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new gv({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new we(te.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new we(te.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new gv(e),e.credentials!==void 0&&(this._authCredentials=function(i){if(!i)return new aA;switch(i.type){case"firstParty":return new dA(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new we(te.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const i=fv.get(t);i&&(he("ComponentProvider","Removing Datastore"),fv.delete(t),i.terminate())}(this),Promise.resolve()}}function tx(n,e,t,i={}){var o;const a=(n=hl(n,ld))._getSettings(),c=`${e}:${t}`;if(a.host!=="firestore.googleapis.com"&&a.host!==c&&jo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),n._setSettings(Object.assign(Object.assign({},a),{host:c,ssl:!1})),i.mockUserToken){let h,p;if(typeof i.mockUserToken=="string")h=i.mockUserToken,p=tn.MOCK_USER;else{h=RS(i.mockUserToken,(o=n._app)===null||o===void 0?void 0:o.options.projectId);const y=i.mockUserToken.sub||i.mockUserToken.user_id;if(!y)throw new we(te.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");p=new tn(y)}n._authCredentials=new lA(new Y_(h,p))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ud{constructor(e,t,i){this.converter=t,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new ud(this.firestore,e,this._query)}}class Qn{constructor(e,t,i){this.converter=t,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Zi(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Qn(this.firestore,e,this._key)}}class Zi extends ud{constructor(e,t,i){super(e,t,aw(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Qn(this.firestore,null,new Ie(e))}withConverter(e){return new Zi(this.firestore,e,this._path)}}function nx(n,e,...t){if(n=On(n),Jw("collection","path",e),n instanceof ld){const i=it.fromString(e,...t);return mv(i),new Zi(n,null,i)}{if(!(n instanceof Qn||n instanceof Zi))throw new we(te.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(it.fromString(e,...t));return mv(i),new Zi(n.firestore,null,i)}}function ei(n,e,...t){if(n=On(n),arguments.length===1&&(e=X_.newId()),Jw("doc","path",e),n instanceof ld){const i=it.fromString(e,...t);return pv(i),new Qn(n,null,new Ie(i))}{if(!(n instanceof Qn||n instanceof Zi))throw new we(te.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(it.fromString(e,...t));return pv(i),new Qn(n.firestore,n instanceof Zi?n.converter:null,new Ie(i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yv{constructor(e=Promise.resolve()){this.Iu=[],this.du=!1,this.Eu=[],this.Au=null,this.Ru=!1,this.Vu=!1,this.mu=[],this.r_=new Ow(this,"async_queue_retry"),this.fu=()=>{const i=tf();i&&he("AsyncQueue","Visibility state changed to "+i.visibilityState),this.r_.Jo()},this.gu=e;const t=tf();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.fu)}get isShuttingDown(){return this.du}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.pu(),this.yu(e)}enterRestrictedMode(e){if(!this.du){this.du=!0,this.Vu=e||!1;const t=tf();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.fu)}}enqueue(e){if(this.pu(),this.du)return new Promise(()=>{});const t=new Ji;return this.yu(()=>this.du&&this.Vu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Iu.push(e),this.wu()))}async wu(){if(this.Iu.length!==0){try{await this.Iu[0](),this.Iu.shift(),this.r_.reset()}catch(e){if(!ea(e))throw e;he("AsyncQueue","Operation failed with retryable error: "+e)}this.Iu.length>0&&this.r_.jo(()=>this.wu())}}yu(e){const t=this.gu.then(()=>(this.Ru=!0,e().catch(i=>{this.Au=i,this.Ru=!1;const o=function(c){let h=c.message||"";return c.stack&&(h=c.stack.includes(c.message)?c.stack:c.message+`
`+c.stack),h}(i);throw ui("INTERNAL UNHANDLED ERROR: ",o),i}).then(i=>(this.Ru=!1,i))));return this.gu=t,t}enqueueAfterDelay(e,t,i){this.pu(),this.mu.indexOf(e)>-1&&(t=0);const o=yp.createAndSchedule(this,e,t,i,a=>this.Su(a));return this.Eu.push(o),o}pu(){this.Au&&Ae()}verifyOperationInProgress(){}async bu(){let e;do e=this.gu,await e;while(e!==this.gu)}Du(e){for(const t of this.Eu)if(t.timerId===e)return!0;return!1}vu(e){return this.bu().then(()=>{this.Eu.sort((t,i)=>t.targetTimeMs-i.targetTimeMs);for(const t of this.Eu)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.bu()})}Cu(e){this.mu.push(e)}Su(e){const t=this.Eu.indexOf(e);this.Eu.splice(t,1)}}class Tp extends ld{constructor(e,t,i,o){super(e,t,i,o),this.type="firestore",this._queue=new yv,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new yv(e),this._firestoreClient=void 0,await e}}}function rx(n,e){const t=typeof n=="object"?n:a_(),i=typeof n=="string"?n:"(default)",o=Wf(t,"firestore").getImmediate({identifier:i});if(!o._initialized){const a=IS("firestore");a&&tx(o,...a)}return o}function Zw(n){if(n._terminated)throw new we(te.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||ix(n),n._firestoreClient}function ix(n){var e,t,i;const o=n._freezeSettings(),a=function(h,p,y,_){return new CA(h,p,y,_.host,_.ssl,_.experimentalForceLongPolling,_.experimentalAutoDetectLongPolling,Xw(_.experimentalLongPollingOptions),_.useFetchStreams)}(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,o);n._componentsProvider||!((t=o.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((i=o.localCache)===null||i===void 0)&&i._onlineComponentProvider)&&(n._componentsProvider={_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider}),n._firestoreClient=new Qk(n._authCredentials,n._appCheckCredentials,n._queue,a,n._componentsProvider&&function(h){const p=h==null?void 0:h._online.build();return{_offline:h==null?void 0:h._offline.build(p),_online:p}}(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qo{constructor(e){this._byteString=e}static fromBase64String(e){try{return new qo(Kt.fromBase64String(e))}catch(t){throw new we(te.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new qo(Kt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ip{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new we(te.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new qt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eE{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sp{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new we(te.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new we(te.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Ue(this._lat,e._lat)||Ue(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rp{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(i,o){if(i.length!==o.length)return!1;for(let a=0;a<i.length;++a)if(i[a]!==o[a])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sx=/^__.*__$/;class ox{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return this.fieldMask!==null?new $s(e,this.data,this.fieldMask,t,this.fieldTransforms):new Rl(e,this.data,t,this.fieldTransforms)}}function tE(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ae()}}class Cp{constructor(e,t,i,o,a,c){this.settings=e,this.databaseId=t,this.serializer=i,this.ignoreUndefinedProperties=o,a===void 0&&this.Fu(),this.fieldTransforms=a||[],this.fieldMask=c||[]}get path(){return this.settings.path}get Mu(){return this.settings.Mu}xu(e){return new Cp(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ou(e){var t;const i=(t=this.path)===null||t===void 0?void 0:t.child(e),o=this.xu({path:i,Nu:!1});return o.Bu(e),o}Lu(e){var t;const i=(t=this.path)===null||t===void 0?void 0:t.child(e),o=this.xu({path:i,Nu:!1});return o.Fu(),o}ku(e){return this.xu({path:void 0,Nu:!0})}qu(e){return Vc(e,this.settings.methodName,this.settings.Qu||!1,this.path,this.settings.Ku)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}Fu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Bu(this.path.get(e))}Bu(e){if(e.length===0)throw this.qu("Document fields must not be empty");if(tE(this.Mu)&&sx.test(e))throw this.qu('Document fields cannot begin and end with "__"')}}class ax{constructor(e,t,i){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=i||sd(e)}$u(e,t,i,o=!1){return new Cp({Mu:e,methodName:t,Ku:i,path:qt.emptyPath(),Nu:!1,Qu:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function lx(n){const e=n._freezeSettings(),t=sd(n._databaseId);return new ax(n._databaseId,!!e.ignoreUndefinedProperties,t)}function ux(n,e,t,i,o,a={}){const c=n.$u(a.merge||a.mergeFields?2:0,e,t,o);sE("Data must be an object, but it was:",c,i);const h=rE(i,c);let p,y;if(a.merge)p=new hr(c.fieldMask),y=c.fieldTransforms;else if(a.mergeFields){const _=[];for(const E of a.mergeFields){const T=cx(e,E,t);if(!c.contains(T))throw new we(te.INVALID_ARGUMENT,`Field '${T}' is specified in your field mask but missing from your input data.`);hx(_,T)||_.push(T)}p=new hr(_),y=c.fieldTransforms.filter(E=>p.covers(E.field))}else p=null,y=c.fieldTransforms;return new ox(new Gn(h),p,y)}function nE(n,e){if(iE(n=On(n)))return sE("Unsupported field value:",e,n),rE(n,e);if(n instanceof eE)return function(i,o){if(!tE(o.Mu))throw o.qu(`${i._methodName}() can only be used with update() and set()`);if(!o.path)throw o.qu(`${i._methodName}() is not currently supported inside arrays`);const a=i._toFieldTransform(o);a&&o.fieldTransforms.push(a)}(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.Nu&&e.Mu!==4)throw e.qu("Nested arrays are not supported");return function(i,o){const a=[];let c=0;for(const h of i){let p=nE(h,o.ku(c));p==null&&(p={nullValue:"NULL_VALUE"}),a.push(p),c++}return{arrayValue:{values:a}}}(n,e)}return function(i,o){if((i=On(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return QA(o.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const a=kt.fromDate(i);return{timestampValue:Nc(o.serializer,a)}}if(i instanceof kt){const a=new kt(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:Nc(o.serializer,a)}}if(i instanceof Sp)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof qo)return{bytesValue:Sw(o.serializer,i._byteString)};if(i instanceof Qn){const a=o.databaseId,c=i.firestore._databaseId;if(!c.isEqual(a))throw o.qu(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:up(i.firestore._databaseId||o.databaseId,i._key.path)}}if(i instanceof Rp)return function(c,h){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:c.toArray().map(p=>{if(typeof p!="number")throw h.qu("VectorValues must only contain numeric values.");return op(h.serializer,p)})}}}}}}(i,o);throw o.qu(`Unsupported field value: ${Ep(i)}`)}(n,e)}function rE(n,e){const t={};return J_(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):zs(n,(i,o)=>{const a=nE(o,e.Ou(i));a!=null&&(t[i]=a)}),{mapValue:{fields:t}}}function iE(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof kt||n instanceof Sp||n instanceof qo||n instanceof Qn||n instanceof eE||n instanceof Rp)}function sE(n,e,t){if(!iE(t)||!function(o){return typeof o=="object"&&o!==null&&(Object.getPrototypeOf(o)===Object.prototype||Object.getPrototypeOf(o)===null)}(t)){const i=Ep(t);throw i==="an object"?e.qu(n+" a custom object"):e.qu(n+" "+i)}}function cx(n,e,t){if((e=On(e))instanceof Ip)return e._internalPath;if(typeof e=="string")return oE(n,e);throw Vc("Field path arguments must be of type string or ",n,!1,void 0,t)}const dx=new RegExp("[~\\*/\\[\\]]");function oE(n,e,t){if(e.search(dx)>=0)throw Vc(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new Ip(...e.split("."))._internalPath}catch{throw Vc(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function Vc(n,e,t,i,o){const a=i&&!i.isEmpty(),c=o!==void 0;let h=`Function ${e}() called with invalid data`;t&&(h+=" (via `toFirestore()`)"),h+=". ";let p="";return(a||c)&&(p+=" (found",a&&(p+=` in field ${i}`),c&&(p+=` in document ${o}`),p+=")"),new we(te.INVALID_ARGUMENT,h+n+p)}function hx(n,e){return n.some(t=>t.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aE{constructor(e,t,i,o,a){this._firestore=e,this._userDataWriter=t,this._key=i,this._document=o,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new Qn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new fx(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(lE("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class fx extends aE{data(){return super.data()}}function lE(n,e){return typeof e=="string"?oE(n,e):e instanceof Ip?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function px(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new we(te.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class mx{convertValue(e,t="none"){switch(is(e)){case 0:return null;case 1:return e.booleanValue;case 2:return pt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(rs(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Ae()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const i={};return zs(e,(o,a)=>{i[o]=this.convertValue(a,t)}),i}convertVectorValue(e){var t,i,o;const a=(o=(i=(t=e.fields)===null||t===void 0?void 0:t.value.arrayValue)===null||i===void 0?void 0:i.values)===null||o===void 0?void 0:o.map(c=>pt(c.doubleValue));return new Rp(a)}convertGeoPoint(e){return new Sp(pt(e.latitude),pt(e.longitude))}convertArray(e,t){return(e.values||[]).map(i=>this.convertValue(i,t))}convertServerTimestamp(e,t){switch(t){case"previous":const i=Jc(e);return i==null?null:this.convertValue(i,t);case"estimate":return this.convertTimestamp(al(e));default:return null}}convertTimestamp(e){const t=ns(e);return new kt(t.seconds,t.nanos)}convertDocumentKey(e,t){const i=it.fromString(e);We(xw(i));const o=new ll(i.get(1),i.get(3)),a=new Ie(i.popFirst(5));return o.isEqual(t)||ui(`Document ${a} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gx(n,e,t){let i;return i=n?n.toFirestore(e):e,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ec{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class yx extends aE{constructor(e,t,i,o,a,c){super(e,t,i,o,c),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new gc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const i=this._document.data.field(lE("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i,t.serverTimestamps)}}}class gc extends yx{data(e={}){return super.data(e)}}class vx{constructor(e,t,i,o){this._firestore=e,this._userDataWriter=t,this._snapshot=o,this.metadata=new ec(o.hasPendingWrites,o.fromCache),this.query=i}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(i=>{e.call(t,new gc(this._firestore,this._userDataWriter,i.key,i,new ec(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new we(te.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(o,a){if(o._snapshot.oldDocs.isEmpty()){let c=0;return o._snapshot.docChanges.map(h=>{const p=new gc(o._firestore,o._userDataWriter,h.doc.key,h.doc,new ec(o._snapshot.mutatedKeys.has(h.doc.key),o._snapshot.fromCache),o.query.converter);return h.doc,{type:"added",doc:p,oldIndex:-1,newIndex:c++}})}{let c=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(h=>a||h.type!==3).map(h=>{const p=new gc(o._firestore,o._userDataWriter,h.doc.key,h.doc,new ec(o._snapshot.mutatedKeys.has(h.doc.key),o._snapshot.fromCache),o.query.converter);let y=-1,_=-1;return h.type!==0&&(y=c.indexOf(h.doc.key),c=c.delete(h.doc.key)),h.type!==1&&(c=c.add(h.doc),_=c.indexOf(h.doc.key)),{type:_x(h.type),doc:p,oldIndex:y,newIndex:_}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function _x(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ae()}}class wx extends mx{constructor(e){super(),this.firestore=e}convertBytes(e){return new qo(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Qn(this.firestore,null,t)}}function Ex(n){n=hl(n,ud);const e=hl(n.firestore,Tp),t=Zw(e),i=new wx(e);return px(n._query),Zk(t,n._query).then(o=>new vx(e,i,n,o))}function tc(n,e,t){n=hl(n,Qn);const i=hl(n.firestore,Tp),o=gx(n.converter,e);return Tx(i,[ux(lx(i),"setDoc",n._key,o,n.converter!==null,t).toMutation(n._key,oi.none())])}function Tx(n,e){return function(i,o){const a=new Ji;return i.asyncQueue.enqueueAndForget(async()=>Uk(await Xk(i),o,a)),a.promise}(Zw(n),e)}(function(e,t=!0){(function(o){Jo=o})(Qo),Fo(new Vs("firestore",(i,{instanceIdentifier:o,options:a})=>{const c=i.getProvider("app").getImmediate(),h=new Tp(new uA(i.getProvider("auth-internal")),new fA(i.getProvider("app-check-internal")),function(y,_){if(!Object.prototype.hasOwnProperty.apply(y.options,["projectId"]))throw new we(te.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ll(y.options.projectId,_)}(c,o),c);return a=Object.assign({useFetchStreams:t},a),h._setSettings(a),h},"PUBLIC").setMultipleInstances(!0)),Qi(Oy,"4.7.6",e),Qi(Oy,"4.7.6","esm2017")})();var Ix="firebase",Sx="11.2.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Qi(Ix,Sx,"app");const Rx={apiKey:"AIzaSyAmq4XW20robCSRP8muEInvKhIP5xDoUb0",authDomain:"landing-page-1-ee86d.firebaseapp.com",projectId:"landing-page-1-ee86d",storageBucket:"landing-page-1-ee86d.firebasestorage.app",messagingSenderId:"229283372291",appId:"1:229283372291:web:afa94d4b3792265fb2dd36",measurementId:"G-VY4CFYYS5W"},uE=o_(Rx),vv=sA(uE),Ba=rx(uE);var Ga=Ov();function Cx(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];return A.useMemo(()=>i=>{e.forEach(o=>o(i))},e)}const cd=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function na(n){const e=Object.prototype.toString.call(n);return e==="[object Window]"||e==="[object global]"}function Ap(n){return"nodeType"in n}function Sn(n){var e,t;return n?na(n)?n:Ap(n)&&(e=(t=n.ownerDocument)==null?void 0:t.defaultView)!=null?e:window:window}function Pp(n){const{Document:e}=Sn(n);return n instanceof e}function kl(n){return na(n)?!1:n instanceof Sn(n).HTMLElement}function cE(n){return n instanceof Sn(n).SVGElement}function ra(n){return n?na(n)?n.document:Ap(n)?Pp(n)?n:kl(n)||cE(n)?n.ownerDocument:document:document:document}const Vr=cd?A.useLayoutEffect:A.useEffect;function kp(n){const e=A.useRef(n);return Vr(()=>{e.current=n}),A.useCallback(function(){for(var t=arguments.length,i=new Array(t),o=0;o<t;o++)i[o]=arguments[o];return e.current==null?void 0:e.current(...i)},[])}function Ax(){const n=A.useRef(null),e=A.useCallback((i,o)=>{n.current=setInterval(i,o)},[]),t=A.useCallback(()=>{n.current!==null&&(clearInterval(n.current),n.current=null)},[]);return[e,t]}function fl(n,e){e===void 0&&(e=[n]);const t=A.useRef(n);return Vr(()=>{t.current!==n&&(t.current=n)},e),t}function xl(n,e){const t=A.useRef();return A.useMemo(()=>{const i=n(t.current);return t.current=i,i},[...e])}function Mc(n){const e=kp(n),t=A.useRef(null),i=A.useCallback(o=>{o!==t.current&&(e==null||e(o,t.current)),t.current=o},[]);return[t,i]}function Nf(n){const e=A.useRef();return A.useEffect(()=>{e.current=n},[n]),e.current}let rf={};function bl(n,e){return A.useMemo(()=>{if(e)return e;const t=rf[n]==null?0:rf[n]+1;return rf[n]=t,n+"-"+t},[n,e])}function dE(n){return function(e){for(var t=arguments.length,i=new Array(t>1?t-1:0),o=1;o<t;o++)i[o-1]=arguments[o];return i.reduce((a,c)=>{const h=Object.entries(c);for(const[p,y]of h){const _=a[p];_!=null&&(a[p]=_+n*y)}return a},{...e})}}const Mo=dE(1),pl=dE(-1);function Px(n){return"clientX"in n&&"clientY"in n}function xp(n){if(!n)return!1;const{KeyboardEvent:e}=Sn(n.target);return e&&n instanceof e}function kx(n){if(!n)return!1;const{TouchEvent:e}=Sn(n.target);return e&&n instanceof e}function Df(n){if(kx(n)){if(n.touches&&n.touches.length){const{clientX:e,clientY:t}=n.touches[0];return{x:e,y:t}}else if(n.changedTouches&&n.changedTouches.length){const{clientX:e,clientY:t}=n.changedTouches[0];return{x:e,y:t}}}return Px(n)?{x:n.clientX,y:n.clientY}:null}const ml=Object.freeze({Translate:{toString(n){if(!n)return;const{x:e,y:t}=n;return"translate3d("+(e?Math.round(e):0)+"px, "+(t?Math.round(t):0)+"px, 0)"}},Scale:{toString(n){if(!n)return;const{scaleX:e,scaleY:t}=n;return"scaleX("+e+") scaleY("+t+")"}},Transform:{toString(n){if(n)return[ml.Translate.toString(n),ml.Scale.toString(n)].join(" ")}},Transition:{toString(n){let{property:e,duration:t,easing:i}=n;return e+" "+t+"ms "+i}}}),_v="a,frame,iframe,input:not([type=hidden]):not(:disabled),select:not(:disabled),textarea:not(:disabled),button:not(:disabled),*[tabindex]";function xx(n){return n.matches(_v)?n:n.querySelector(_v)}const bx={display:"none"};function Nx(n){let{id:e,value:t}=n;return mt.createElement("div",{id:e,style:bx},t)}function Dx(n){let{id:e,announcement:t,ariaLiveType:i="assertive"}=n;const o={position:"fixed",top:0,left:0,width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0 0 0 0)",clipPath:"inset(100%)",whiteSpace:"nowrap"};return mt.createElement("div",{id:e,style:o,role:"status","aria-live":i,"aria-atomic":!0},t)}function Ox(){const[n,e]=A.useState("");return{announce:A.useCallback(i=>{i!=null&&e(i)},[]),announcement:n}}const hE=A.createContext(null);function Lx(n){const e=A.useContext(hE);A.useEffect(()=>{if(!e)throw new Error("useDndMonitor must be used within a children of <DndContext>");return e(n)},[n,e])}function Vx(){const[n]=A.useState(()=>new Set),e=A.useCallback(i=>(n.add(i),()=>n.delete(i)),[n]);return[A.useCallback(i=>{let{type:o,event:a}=i;n.forEach(c=>{var h;return(h=c[o])==null?void 0:h.call(c,a)})},[n]),e]}const Mx={draggable:`
    To pick up a draggable item, press the space bar.
    While dragging, use the arrow keys to move the item.
    Press space again to drop the item in its new position, or press escape to cancel.
  `},Fx={onDragStart(n){let{active:e}=n;return"Picked up draggable item "+e.id+"."},onDragOver(n){let{active:e,over:t}=n;return t?"Draggable item "+e.id+" was moved over droppable area "+t.id+".":"Draggable item "+e.id+" is no longer over a droppable area."},onDragEnd(n){let{active:e,over:t}=n;return t?"Draggable item "+e.id+" was dropped over droppable area "+t.id:"Draggable item "+e.id+" was dropped."},onDragCancel(n){let{active:e}=n;return"Dragging was cancelled. Draggable item "+e.id+" was dropped."}};function Ux(n){let{announcements:e=Fx,container:t,hiddenTextDescribedById:i,screenReaderInstructions:o=Mx}=n;const{announce:a,announcement:c}=Ox(),h=bl("DndLiveRegion"),[p,y]=A.useState(!1);if(A.useEffect(()=>{y(!0)},[]),Lx(A.useMemo(()=>({onDragStart(E){let{active:T}=E;a(e.onDragStart({active:T}))},onDragMove(E){let{active:T,over:C}=E;e.onDragMove&&a(e.onDragMove({active:T,over:C}))},onDragOver(E){let{active:T,over:C}=E;a(e.onDragOver({active:T,over:C}))},onDragEnd(E){let{active:T,over:C}=E;a(e.onDragEnd({active:T,over:C}))},onDragCancel(E){let{active:T,over:C}=E;a(e.onDragCancel({active:T,over:C}))}}),[a,e])),!p)return null;const _=mt.createElement(mt.Fragment,null,mt.createElement(Nx,{id:i,value:o.draggable}),mt.createElement(Dx,{id:h,announcement:c}));return t?Ga.createPortal(_,t):_}var At;(function(n){n.DragStart="dragStart",n.DragMove="dragMove",n.DragEnd="dragEnd",n.DragCancel="dragCancel",n.DragOver="dragOver",n.RegisterDroppable="registerDroppable",n.SetDroppableDisabled="setDroppableDisabled",n.UnregisterDroppable="unregisterDroppable"})(At||(At={}));function Fc(){}function nc(n,e){return A.useMemo(()=>({sensor:n,options:e??{}}),[n,e])}const pr=Object.freeze({x:0,y:0});function jx(n,e){return Math.sqrt(Math.pow(n.x-e.x,2)+Math.pow(n.y-e.y,2))}function zx(n,e){let{data:{value:t}}=n,{data:{value:i}}=e;return t-i}function Bx(n,e){let{data:{value:t}}=n,{data:{value:i}}=e;return i-t}function wv(n){let{left:e,top:t,height:i,width:o}=n;return[{x:e,y:t},{x:e+o,y:t},{x:e,y:t+i},{x:e+o,y:t+i}]}function fE(n,e){if(!n||n.length===0)return null;const[t]=n;return t[e]}const pE=n=>{let{collisionRect:e,droppableRects:t,droppableContainers:i}=n;const o=wv(e),a=[];for(const c of i){const{id:h}=c,p=t.get(h);if(p){const y=wv(p),_=o.reduce((T,C,b)=>T+jx(y[b],C),0),E=Number((_/4).toFixed(4));a.push({id:h,data:{droppableContainer:c,value:E}})}}return a.sort(zx)};function $x(n,e){const t=Math.max(e.top,n.top),i=Math.max(e.left,n.left),o=Math.min(e.left+e.width,n.left+n.width),a=Math.min(e.top+e.height,n.top+n.height),c=o-i,h=a-t;if(i<o&&t<a){const p=e.width*e.height,y=n.width*n.height,_=c*h,E=_/(p+y-_);return Number(E.toFixed(4))}return 0}const Hx=n=>{let{collisionRect:e,droppableRects:t,droppableContainers:i}=n;const o=[];for(const a of i){const{id:c}=a,h=t.get(c);if(h){const p=$x(h,e);p>0&&o.push({id:c,data:{droppableContainer:a,value:p}})}}return o.sort(Bx)};function Wx(n,e,t){return{...n,scaleX:e&&t?e.width/t.width:1,scaleY:e&&t?e.height/t.height:1}}function mE(n,e){return n&&e?{x:n.left-e.left,y:n.top-e.top}:pr}function qx(n){return function(t){for(var i=arguments.length,o=new Array(i>1?i-1:0),a=1;a<i;a++)o[a-1]=arguments[a];return o.reduce((c,h)=>({...c,top:c.top+n*h.y,bottom:c.bottom+n*h.y,left:c.left+n*h.x,right:c.right+n*h.x}),{...t})}}const Kx=qx(1);function Gx(n){if(n.startsWith("matrix3d(")){const e=n.slice(9,-1).split(/, /);return{x:+e[12],y:+e[13],scaleX:+e[0],scaleY:+e[5]}}else if(n.startsWith("matrix(")){const e=n.slice(7,-1).split(/, /);return{x:+e[4],y:+e[5],scaleX:+e[0],scaleY:+e[3]}}return null}function Qx(n,e,t){const i=Gx(e);if(!i)return n;const{scaleX:o,scaleY:a,x:c,y:h}=i,p=n.left-c-(1-o)*parseFloat(t),y=n.top-h-(1-a)*parseFloat(t.slice(t.indexOf(" ")+1)),_=o?n.width/o:n.width,E=a?n.height/a:n.height;return{width:_,height:E,top:y,right:p+_,bottom:y+E,left:p}}const Yx={ignoreTransform:!1};function ia(n,e){e===void 0&&(e=Yx);let t=n.getBoundingClientRect();if(e.ignoreTransform){const{transform:y,transformOrigin:_}=Sn(n).getComputedStyle(n);y&&(t=Qx(t,y,_))}const{top:i,left:o,width:a,height:c,bottom:h,right:p}=t;return{top:i,left:o,width:a,height:c,bottom:h,right:p}}function Ev(n){return ia(n,{ignoreTransform:!0})}function Xx(n){const e=n.innerWidth,t=n.innerHeight;return{top:0,left:0,right:e,bottom:t,width:e,height:t}}function Jx(n,e){return e===void 0&&(e=Sn(n).getComputedStyle(n)),e.position==="fixed"}function Zx(n,e){e===void 0&&(e=Sn(n).getComputedStyle(n));const t=/(auto|scroll|overlay)/;return["overflow","overflowX","overflowY"].some(o=>{const a=e[o];return typeof a=="string"?t.test(a):!1})}function dd(n,e){const t=[];function i(o){if(e!=null&&t.length>=e||!o)return t;if(Pp(o)&&o.scrollingElement!=null&&!t.includes(o.scrollingElement))return t.push(o.scrollingElement),t;if(!kl(o)||cE(o)||t.includes(o))return t;const a=Sn(n).getComputedStyle(o);return o!==n&&Zx(o,a)&&t.push(o),Jx(o,a)?t:i(o.parentNode)}return n?i(n):t}function gE(n){const[e]=dd(n,1);return e??null}function sf(n){return!cd||!n?null:na(n)?n:Ap(n)?Pp(n)||n===ra(n).scrollingElement?window:kl(n)?n:null:null}function yE(n){return na(n)?n.scrollX:n.scrollLeft}function vE(n){return na(n)?n.scrollY:n.scrollTop}function Of(n){return{x:yE(n),y:vE(n)}}var Mt;(function(n){n[n.Forward=1]="Forward",n[n.Backward=-1]="Backward"})(Mt||(Mt={}));function _E(n){return!cd||!n?!1:n===document.scrollingElement}function wE(n){const e={x:0,y:0},t=_E(n)?{height:window.innerHeight,width:window.innerWidth}:{height:n.clientHeight,width:n.clientWidth},i={x:n.scrollWidth-t.width,y:n.scrollHeight-t.height},o=n.scrollTop<=e.y,a=n.scrollLeft<=e.x,c=n.scrollTop>=i.y,h=n.scrollLeft>=i.x;return{isTop:o,isLeft:a,isBottom:c,isRight:h,maxScroll:i,minScroll:e}}const e1={x:.2,y:.2};function t1(n,e,t,i,o){let{top:a,left:c,right:h,bottom:p}=t;i===void 0&&(i=10),o===void 0&&(o=e1);const{isTop:y,isBottom:_,isLeft:E,isRight:T}=wE(n),C={x:0,y:0},b={x:0,y:0},M={height:e.height*o.y,width:e.width*o.x};return!y&&a<=e.top+M.height?(C.y=Mt.Backward,b.y=i*Math.abs((e.top+M.height-a)/M.height)):!_&&p>=e.bottom-M.height&&(C.y=Mt.Forward,b.y=i*Math.abs((e.bottom-M.height-p)/M.height)),!T&&h>=e.right-M.width?(C.x=Mt.Forward,b.x=i*Math.abs((e.right-M.width-h)/M.width)):!E&&c<=e.left+M.width&&(C.x=Mt.Backward,b.x=i*Math.abs((e.left+M.width-c)/M.width)),{direction:C,speed:b}}function n1(n){if(n===document.scrollingElement){const{innerWidth:a,innerHeight:c}=window;return{top:0,left:0,right:a,bottom:c,width:a,height:c}}const{top:e,left:t,right:i,bottom:o}=n.getBoundingClientRect();return{top:e,left:t,right:i,bottom:o,width:n.clientWidth,height:n.clientHeight}}function EE(n){return n.reduce((e,t)=>Mo(e,Of(t)),pr)}function r1(n){return n.reduce((e,t)=>e+yE(t),0)}function i1(n){return n.reduce((e,t)=>e+vE(t),0)}function s1(n,e){if(e===void 0&&(e=ia),!n)return;const{top:t,left:i,bottom:o,right:a}=e(n);gE(n)&&(o<=0||a<=0||t>=window.innerHeight||i>=window.innerWidth)&&n.scrollIntoView({block:"center",inline:"center"})}const o1=[["x",["left","right"],r1],["y",["top","bottom"],i1]];class bp{constructor(e,t){this.rect=void 0,this.width=void 0,this.height=void 0,this.top=void 0,this.bottom=void 0,this.right=void 0,this.left=void 0;const i=dd(t),o=EE(i);this.rect={...e},this.width=e.width,this.height=e.height;for(const[a,c,h]of o1)for(const p of c)Object.defineProperty(this,p,{get:()=>{const y=h(i),_=o[a]-y;return this.rect[p]+_},enumerable:!0});Object.defineProperty(this,"rect",{enumerable:!1})}}class el{constructor(e){this.target=void 0,this.listeners=[],this.removeAll=()=>{this.listeners.forEach(t=>{var i;return(i=this.target)==null?void 0:i.removeEventListener(...t)})},this.target=e}add(e,t,i){var o;(o=this.target)==null||o.addEventListener(e,t,i),this.listeners.push([e,t,i])}}function a1(n){const{EventTarget:e}=Sn(n);return n instanceof e?n:ra(n)}function of(n,e){const t=Math.abs(n.x),i=Math.abs(n.y);return typeof e=="number"?Math.sqrt(t**2+i**2)>e:"x"in e&&"y"in e?t>e.x&&i>e.y:"x"in e?t>e.x:"y"in e?i>e.y:!1}var Kn;(function(n){n.Click="click",n.DragStart="dragstart",n.Keydown="keydown",n.ContextMenu="contextmenu",n.Resize="resize",n.SelectionChange="selectionchange",n.VisibilityChange="visibilitychange"})(Kn||(Kn={}));function Tv(n){n.preventDefault()}function l1(n){n.stopPropagation()}var Fe;(function(n){n.Space="Space",n.Down="ArrowDown",n.Right="ArrowRight",n.Left="ArrowLeft",n.Up="ArrowUp",n.Esc="Escape",n.Enter="Enter",n.Tab="Tab"})(Fe||(Fe={}));const TE={start:[Fe.Space,Fe.Enter],cancel:[Fe.Esc],end:[Fe.Space,Fe.Enter,Fe.Tab]},u1=(n,e)=>{let{currentCoordinates:t}=e;switch(n.code){case Fe.Right:return{...t,x:t.x+25};case Fe.Left:return{...t,x:t.x-25};case Fe.Down:return{...t,y:t.y+25};case Fe.Up:return{...t,y:t.y-25}}};class Np{constructor(e){this.props=void 0,this.autoScrollEnabled=!1,this.referenceCoordinates=void 0,this.listeners=void 0,this.windowListeners=void 0,this.props=e;const{event:{target:t}}=e;this.props=e,this.listeners=new el(ra(t)),this.windowListeners=new el(Sn(t)),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleCancel=this.handleCancel.bind(this),this.attach()}attach(){this.handleStart(),this.windowListeners.add(Kn.Resize,this.handleCancel),this.windowListeners.add(Kn.VisibilityChange,this.handleCancel),setTimeout(()=>this.listeners.add(Kn.Keydown,this.handleKeyDown))}handleStart(){const{activeNode:e,onStart:t}=this.props,i=e.node.current;i&&s1(i),t(pr)}handleKeyDown(e){if(xp(e)){const{active:t,context:i,options:o}=this.props,{keyboardCodes:a=TE,coordinateGetter:c=u1,scrollBehavior:h="smooth"}=o,{code:p}=e;if(a.end.includes(p)){this.handleEnd(e);return}if(a.cancel.includes(p)){this.handleCancel(e);return}const{collisionRect:y}=i.current,_=y?{x:y.left,y:y.top}:pr;this.referenceCoordinates||(this.referenceCoordinates=_);const E=c(e,{active:t,context:i.current,currentCoordinates:_});if(E){const T=pl(E,_),C={x:0,y:0},{scrollableAncestors:b}=i.current;for(const M of b){const D=e.code,{isTop:H,isRight:K,isLeft:Y,isBottom:ie,maxScroll:ce,minScroll:ue}=wE(M),x=n1(M),S={x:Math.min(D===Fe.Right?x.right-x.width/2:x.right,Math.max(D===Fe.Right?x.left:x.left+x.width/2,E.x)),y:Math.min(D===Fe.Down?x.bottom-x.height/2:x.bottom,Math.max(D===Fe.Down?x.top:x.top+x.height/2,E.y))},R=D===Fe.Right&&!K||D===Fe.Left&&!Y,N=D===Fe.Down&&!ie||D===Fe.Up&&!H;if(R&&S.x!==E.x){const O=M.scrollLeft+T.x,j=D===Fe.Right&&O<=ce.x||D===Fe.Left&&O>=ue.x;if(j&&!T.y){M.scrollTo({left:O,behavior:h});return}j?C.x=M.scrollLeft-O:C.x=D===Fe.Right?M.scrollLeft-ce.x:M.scrollLeft-ue.x,C.x&&M.scrollBy({left:-C.x,behavior:h});break}else if(N&&S.y!==E.y){const O=M.scrollTop+T.y,j=D===Fe.Down&&O<=ce.y||D===Fe.Up&&O>=ue.y;if(j&&!T.x){M.scrollTo({top:O,behavior:h});return}j?C.y=M.scrollTop-O:C.y=D===Fe.Down?M.scrollTop-ce.y:M.scrollTop-ue.y,C.y&&M.scrollBy({top:-C.y,behavior:h});break}}this.handleMove(e,Mo(pl(E,this.referenceCoordinates),C))}}}handleMove(e,t){const{onMove:i}=this.props;e.preventDefault(),i(t)}handleEnd(e){const{onEnd:t}=this.props;e.preventDefault(),this.detach(),t()}handleCancel(e){const{onCancel:t}=this.props;e.preventDefault(),this.detach(),t()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll()}}Np.activators=[{eventName:"onKeyDown",handler:(n,e,t)=>{let{keyboardCodes:i=TE,onActivation:o}=e,{active:a}=t;const{code:c}=n.nativeEvent;if(i.start.includes(c)){const h=a.activatorNode.current;return h&&n.target!==h?!1:(n.preventDefault(),o==null||o({event:n.nativeEvent}),!0)}return!1}}];function Iv(n){return!!(n&&"distance"in n)}function Sv(n){return!!(n&&"delay"in n)}class Dp{constructor(e,t,i){var o;i===void 0&&(i=a1(e.event.target)),this.props=void 0,this.events=void 0,this.autoScrollEnabled=!0,this.document=void 0,this.activated=!1,this.initialCoordinates=void 0,this.timeoutId=null,this.listeners=void 0,this.documentListeners=void 0,this.windowListeners=void 0,this.props=e,this.events=t;const{event:a}=e,{target:c}=a;this.props=e,this.events=t,this.document=ra(c),this.documentListeners=new el(this.document),this.listeners=new el(i),this.windowListeners=new el(Sn(c)),this.initialCoordinates=(o=Df(a))!=null?o:pr,this.handleStart=this.handleStart.bind(this),this.handleMove=this.handleMove.bind(this),this.handleEnd=this.handleEnd.bind(this),this.handleCancel=this.handleCancel.bind(this),this.handleKeydown=this.handleKeydown.bind(this),this.removeTextSelection=this.removeTextSelection.bind(this),this.attach()}attach(){const{events:e,props:{options:{activationConstraint:t,bypassActivationConstraint:i}}}=this;if(this.listeners.add(e.move.name,this.handleMove,{passive:!1}),this.listeners.add(e.end.name,this.handleEnd),e.cancel&&this.listeners.add(e.cancel.name,this.handleCancel),this.windowListeners.add(Kn.Resize,this.handleCancel),this.windowListeners.add(Kn.DragStart,Tv),this.windowListeners.add(Kn.VisibilityChange,this.handleCancel),this.windowListeners.add(Kn.ContextMenu,Tv),this.documentListeners.add(Kn.Keydown,this.handleKeydown),t){if(i!=null&&i({event:this.props.event,activeNode:this.props.activeNode,options:this.props.options}))return this.handleStart();if(Sv(t)){this.timeoutId=setTimeout(this.handleStart,t.delay),this.handlePending(t);return}if(Iv(t)){this.handlePending(t);return}}this.handleStart()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll(),setTimeout(this.documentListeners.removeAll,50),this.timeoutId!==null&&(clearTimeout(this.timeoutId),this.timeoutId=null)}handlePending(e,t){const{active:i,onPending:o}=this.props;o(i,e,this.initialCoordinates,t)}handleStart(){const{initialCoordinates:e}=this,{onStart:t}=this.props;e&&(this.activated=!0,this.documentListeners.add(Kn.Click,l1,{capture:!0}),this.removeTextSelection(),this.documentListeners.add(Kn.SelectionChange,this.removeTextSelection),t(e))}handleMove(e){var t;const{activated:i,initialCoordinates:o,props:a}=this,{onMove:c,options:{activationConstraint:h}}=a;if(!o)return;const p=(t=Df(e))!=null?t:pr,y=pl(o,p);if(!i&&h){if(Iv(h)){if(h.tolerance!=null&&of(y,h.tolerance))return this.handleCancel();if(of(y,h.distance))return this.handleStart()}if(Sv(h)&&of(y,h.tolerance))return this.handleCancel();this.handlePending(h,y);return}e.cancelable&&e.preventDefault(),c(p)}handleEnd(){const{onAbort:e,onEnd:t}=this.props;this.detach(),this.activated||e(this.props.active),t()}handleCancel(){const{onAbort:e,onCancel:t}=this.props;this.detach(),this.activated||e(this.props.active),t()}handleKeydown(e){e.code===Fe.Esc&&this.handleCancel()}removeTextSelection(){var e;(e=this.document.getSelection())==null||e.removeAllRanges()}}const c1={cancel:{name:"pointercancel"},move:{name:"pointermove"},end:{name:"pointerup"}};class Op extends Dp{constructor(e){const{event:t}=e,i=ra(t.target);super(e,c1,i)}}Op.activators=[{eventName:"onPointerDown",handler:(n,e)=>{let{nativeEvent:t}=n,{onActivation:i}=e;return!t.isPrimary||t.button!==0?!1:(i==null||i({event:t}),!0)}}];const d1={move:{name:"mousemove"},end:{name:"mouseup"}};var Lf;(function(n){n[n.RightClick=2]="RightClick"})(Lf||(Lf={}));class h1 extends Dp{constructor(e){super(e,d1,ra(e.event.target))}}h1.activators=[{eventName:"onMouseDown",handler:(n,e)=>{let{nativeEvent:t}=n,{onActivation:i}=e;return t.button===Lf.RightClick?!1:(i==null||i({event:t}),!0)}}];const af={cancel:{name:"touchcancel"},move:{name:"touchmove"},end:{name:"touchend"}};class IE extends Dp{constructor(e){super(e,af)}static setup(){return window.addEventListener(af.move.name,e,{capture:!1,passive:!1}),function(){window.removeEventListener(af.move.name,e)};function e(){}}}IE.activators=[{eventName:"onTouchStart",handler:(n,e)=>{let{nativeEvent:t}=n,{onActivation:i}=e;const{touches:o}=t;return o.length>1?!1:(i==null||i({event:t}),!0)}}];var tl;(function(n){n[n.Pointer=0]="Pointer",n[n.DraggableRect=1]="DraggableRect"})(tl||(tl={}));var Uc;(function(n){n[n.TreeOrder=0]="TreeOrder",n[n.ReversedTreeOrder=1]="ReversedTreeOrder"})(Uc||(Uc={}));function f1(n){let{acceleration:e,activator:t=tl.Pointer,canScroll:i,draggingRect:o,enabled:a,interval:c=5,order:h=Uc.TreeOrder,pointerCoordinates:p,scrollableAncestors:y,scrollableAncestorRects:_,delta:E,threshold:T}=n;const C=m1({delta:E,disabled:!a}),[b,M]=Ax(),D=A.useRef({x:0,y:0}),H=A.useRef({x:0,y:0}),K=A.useMemo(()=>{switch(t){case tl.Pointer:return p?{top:p.y,bottom:p.y,left:p.x,right:p.x}:null;case tl.DraggableRect:return o}},[t,o,p]),Y=A.useRef(null),ie=A.useCallback(()=>{const ue=Y.current;if(!ue)return;const x=D.current.x*H.current.x,S=D.current.y*H.current.y;ue.scrollBy(x,S)},[]),ce=A.useMemo(()=>h===Uc.TreeOrder?[...y].reverse():y,[h,y]);A.useEffect(()=>{if(!a||!y.length||!K){M();return}for(const ue of ce){if((i==null?void 0:i(ue))===!1)continue;const x=y.indexOf(ue),S=_[x];if(!S)continue;const{direction:R,speed:N}=t1(ue,S,K,e,T);for(const O of["x","y"])C[O][R[O]]||(N[O]=0,R[O]=0);if(N.x>0||N.y>0){M(),Y.current=ue,b(ie,c),D.current=N,H.current=R;return}}D.current={x:0,y:0},H.current={x:0,y:0},M()},[e,ie,i,M,a,c,JSON.stringify(K),JSON.stringify(C),b,y,ce,_,JSON.stringify(T)])}const p1={x:{[Mt.Backward]:!1,[Mt.Forward]:!1},y:{[Mt.Backward]:!1,[Mt.Forward]:!1}};function m1(n){let{delta:e,disabled:t}=n;const i=Nf(e);return xl(o=>{if(t||!i||!o)return p1;const a={x:Math.sign(e.x-i.x),y:Math.sign(e.y-i.y)};return{x:{[Mt.Backward]:o.x[Mt.Backward]||a.x===-1,[Mt.Forward]:o.x[Mt.Forward]||a.x===1},y:{[Mt.Backward]:o.y[Mt.Backward]||a.y===-1,[Mt.Forward]:o.y[Mt.Forward]||a.y===1}}},[t,e,i])}function g1(n,e){const t=e!=null?n.get(e):void 0,i=t?t.node.current:null;return xl(o=>{var a;return e==null?null:(a=i??o)!=null?a:null},[i,e])}function y1(n,e){return A.useMemo(()=>n.reduce((t,i)=>{const{sensor:o}=i,a=o.activators.map(c=>({eventName:c.eventName,handler:e(c.handler,i)}));return[...t,...a]},[]),[n,e])}var gl;(function(n){n[n.Always=0]="Always",n[n.BeforeDragging=1]="BeforeDragging",n[n.WhileDragging=2]="WhileDragging"})(gl||(gl={}));var Vf;(function(n){n.Optimized="optimized"})(Vf||(Vf={}));const Rv=new Map;function v1(n,e){let{dragging:t,dependencies:i,config:o}=e;const[a,c]=A.useState(null),{frequency:h,measure:p,strategy:y}=o,_=A.useRef(n),E=D(),T=fl(E),C=A.useCallback(function(H){H===void 0&&(H=[]),!T.current&&c(K=>K===null?H:K.concat(H.filter(Y=>!K.includes(Y))))},[T]),b=A.useRef(null),M=xl(H=>{if(E&&!t)return Rv;if(!H||H===Rv||_.current!==n||a!=null){const K=new Map;for(let Y of n){if(!Y)continue;if(a&&a.length>0&&!a.includes(Y.id)&&Y.rect.current){K.set(Y.id,Y.rect.current);continue}const ie=Y.node.current,ce=ie?new bp(p(ie),ie):null;Y.rect.current=ce,ce&&K.set(Y.id,ce)}return K}return H},[n,a,t,E,p]);return A.useEffect(()=>{_.current=n},[n]),A.useEffect(()=>{E||C()},[t,E]),A.useEffect(()=>{a&&a.length>0&&c(null)},[JSON.stringify(a)]),A.useEffect(()=>{E||typeof h!="number"||b.current!==null||(b.current=setTimeout(()=>{C(),b.current=null},h))},[h,E,C,...i]),{droppableRects:M,measureDroppableContainers:C,measuringScheduled:a!=null};function D(){switch(y){case gl.Always:return!1;case gl.BeforeDragging:return t;default:return!t}}}function SE(n,e){return xl(t=>n?t||(typeof e=="function"?e(n):n):null,[e,n])}function _1(n,e){return SE(n,e)}function w1(n){let{callback:e,disabled:t}=n;const i=kp(e),o=A.useMemo(()=>{if(t||typeof window>"u"||typeof window.MutationObserver>"u")return;const{MutationObserver:a}=window;return new a(i)},[i,t]);return A.useEffect(()=>()=>o==null?void 0:o.disconnect(),[o]),o}function hd(n){let{callback:e,disabled:t}=n;const i=kp(e),o=A.useMemo(()=>{if(t||typeof window>"u"||typeof window.ResizeObserver>"u")return;const{ResizeObserver:a}=window;return new a(i)},[t]);return A.useEffect(()=>()=>o==null?void 0:o.disconnect(),[o]),o}function E1(n){return new bp(ia(n),n)}function Cv(n,e,t){e===void 0&&(e=E1);const[i,o]=A.useState(null);function a(){o(p=>{if(!n)return null;if(n.isConnected===!1){var y;return(y=p??t)!=null?y:null}const _=e(n);return JSON.stringify(p)===JSON.stringify(_)?p:_})}const c=w1({callback(p){if(n)for(const y of p){const{type:_,target:E}=y;if(_==="childList"&&E instanceof HTMLElement&&E.contains(n)){a();break}}}}),h=hd({callback:a});return Vr(()=>{a(),n?(h==null||h.observe(n),c==null||c.observe(document.body,{childList:!0,subtree:!0})):(h==null||h.disconnect(),c==null||c.disconnect())},[n]),i}function T1(n){const e=SE(n);return mE(n,e)}const Av=[];function I1(n){const e=A.useRef(n),t=xl(i=>n?i&&i!==Av&&n&&e.current&&n.parentNode===e.current.parentNode?i:dd(n):Av,[n]);return A.useEffect(()=>{e.current=n},[n]),t}function S1(n){const[e,t]=A.useState(null),i=A.useRef(n),o=A.useCallback(a=>{const c=sf(a.target);c&&t(h=>h?(h.set(c,Of(c)),new Map(h)):null)},[]);return A.useEffect(()=>{const a=i.current;if(n!==a){c(a);const h=n.map(p=>{const y=sf(p);return y?(y.addEventListener("scroll",o,{passive:!0}),[y,Of(y)]):null}).filter(p=>p!=null);t(h.length?new Map(h):null),i.current=n}return()=>{c(n),c(a)};function c(h){h.forEach(p=>{const y=sf(p);y==null||y.removeEventListener("scroll",o)})}},[o,n]),A.useMemo(()=>n.length?e?Array.from(e.values()).reduce((a,c)=>Mo(a,c),pr):EE(n):pr,[n,e])}function Pv(n,e){e===void 0&&(e=[]);const t=A.useRef(null);return A.useEffect(()=>{t.current=null},e),A.useEffect(()=>{const i=n!==pr;i&&!t.current&&(t.current=n),!i&&t.current&&(t.current=null)},[n]),t.current?pl(n,t.current):pr}function R1(n){A.useEffect(()=>{if(!cd)return;const e=n.map(t=>{let{sensor:i}=t;return i.setup==null?void 0:i.setup()});return()=>{for(const t of e)t==null||t()}},n.map(e=>{let{sensor:t}=e;return t}))}function C1(n,e){return A.useMemo(()=>n.reduce((t,i)=>{let{eventName:o,handler:a}=i;return t[o]=c=>{a(c,e)},t},{}),[n,e])}function RE(n){return A.useMemo(()=>n?Xx(n):null,[n])}const kv=[];function A1(n,e){e===void 0&&(e=ia);const[t]=n,i=RE(t?Sn(t):null),[o,a]=A.useState(kv);function c(){a(()=>n.length?n.map(p=>_E(p)?i:new bp(e(p),p)):kv)}const h=hd({callback:c});return Vr(()=>{h==null||h.disconnect(),c(),n.forEach(p=>h==null?void 0:h.observe(p))},[n]),o}function P1(n){if(!n)return null;if(n.children.length>1)return n;const e=n.children[0];return kl(e)?e:n}function k1(n){let{measure:e}=n;const[t,i]=A.useState(null),o=A.useCallback(y=>{for(const{target:_}of y)if(kl(_)){i(E=>{const T=e(_);return E?{...E,width:T.width,height:T.height}:T});break}},[e]),a=hd({callback:o}),c=A.useCallback(y=>{const _=P1(y);a==null||a.disconnect(),_&&(a==null||a.observe(_)),i(_?e(_):null)},[e,a]),[h,p]=Mc(c);return A.useMemo(()=>({nodeRef:h,rect:t,setRef:p}),[t,h,p])}const x1=[{sensor:Op,options:{}},{sensor:Np,options:{}}],b1={current:{}},yc={draggable:{measure:Ev},droppable:{measure:Ev,strategy:gl.WhileDragging,frequency:Vf.Optimized},dragOverlay:{measure:ia}};class nl extends Map{get(e){var t;return e!=null&&(t=super.get(e))!=null?t:void 0}toArray(){return Array.from(this.values())}getEnabled(){return this.toArray().filter(e=>{let{disabled:t}=e;return!t})}getNodeFor(e){var t,i;return(t=(i=this.get(e))==null?void 0:i.node.current)!=null?t:void 0}}const N1={activatorEvent:null,active:null,activeNode:null,activeNodeRect:null,collisions:null,containerNodeRect:null,draggableNodes:new Map,droppableRects:new Map,droppableContainers:new nl,over:null,dragOverlay:{nodeRef:{current:null},rect:null,setRef:Fc},scrollableAncestors:[],scrollableAncestorRects:[],measuringConfiguration:yc,measureDroppableContainers:Fc,windowRect:null,measuringScheduled:!1},D1={activatorEvent:null,activators:[],active:null,activeNodeRect:null,ariaDescribedById:{draggable:""},dispatch:Fc,draggableNodes:new Map,over:null,measureDroppableContainers:Fc},fd=A.createContext(D1),CE=A.createContext(N1);function O1(){return{draggable:{active:null,initialCoordinates:{x:0,y:0},nodes:new Map,translate:{x:0,y:0}},droppable:{containers:new nl}}}function L1(n,e){switch(e.type){case At.DragStart:return{...n,draggable:{...n.draggable,initialCoordinates:e.initialCoordinates,active:e.active}};case At.DragMove:return n.draggable.active==null?n:{...n,draggable:{...n.draggable,translate:{x:e.coordinates.x-n.draggable.initialCoordinates.x,y:e.coordinates.y-n.draggable.initialCoordinates.y}}};case At.DragEnd:case At.DragCancel:return{...n,draggable:{...n.draggable,active:null,initialCoordinates:{x:0,y:0},translate:{x:0,y:0}}};case At.RegisterDroppable:{const{element:t}=e,{id:i}=t,o=new nl(n.droppable.containers);return o.set(i,t),{...n,droppable:{...n.droppable,containers:o}}}case At.SetDroppableDisabled:{const{id:t,key:i,disabled:o}=e,a=n.droppable.containers.get(t);if(!a||i!==a.key)return n;const c=new nl(n.droppable.containers);return c.set(t,{...a,disabled:o}),{...n,droppable:{...n.droppable,containers:c}}}case At.UnregisterDroppable:{const{id:t,key:i}=e,o=n.droppable.containers.get(t);if(!o||i!==o.key)return n;const a=new nl(n.droppable.containers);return a.delete(t),{...n,droppable:{...n.droppable,containers:a}}}default:return n}}function V1(n){let{disabled:e}=n;const{active:t,activatorEvent:i,draggableNodes:o}=A.useContext(fd),a=Nf(i),c=Nf(t==null?void 0:t.id);return A.useEffect(()=>{if(!e&&!i&&a&&c!=null){if(!xp(a)||document.activeElement===a.target)return;const h=o.get(c);if(!h)return;const{activatorNode:p,node:y}=h;if(!p.current&&!y.current)return;requestAnimationFrame(()=>{for(const _ of[p.current,y.current]){if(!_)continue;const E=xx(_);if(E){E.focus();break}}})}},[i,e,o,c,a]),null}function M1(n,e){let{transform:t,...i}=e;return n!=null&&n.length?n.reduce((o,a)=>a({transform:o,...i}),t):t}function F1(n){return A.useMemo(()=>({draggable:{...yc.draggable,...n==null?void 0:n.draggable},droppable:{...yc.droppable,...n==null?void 0:n.droppable},dragOverlay:{...yc.dragOverlay,...n==null?void 0:n.dragOverlay}}),[n==null?void 0:n.draggable,n==null?void 0:n.droppable,n==null?void 0:n.dragOverlay])}function U1(n){let{activeNode:e,measure:t,initialRect:i,config:o=!0}=n;const a=A.useRef(!1),{x:c,y:h}=typeof o=="boolean"?{x:o,y:o}:o;Vr(()=>{if(!c&&!h||!e){a.current=!1;return}if(a.current||!i)return;const y=e==null?void 0:e.node.current;if(!y||y.isConnected===!1)return;const _=t(y),E=mE(_,i);if(c||(E.x=0),h||(E.y=0),a.current=!0,Math.abs(E.x)>0||Math.abs(E.y)>0){const T=gE(y);T&&T.scrollBy({top:E.y,left:E.x})}},[e,c,h,i,t])}const AE=A.createContext({...pr,scaleX:1,scaleY:1});var zi;(function(n){n[n.Uninitialized=0]="Uninitialized",n[n.Initializing=1]="Initializing",n[n.Initialized=2]="Initialized"})(zi||(zi={}));const j1=A.memo(function(e){var t,i,o,a;let{id:c,accessibility:h,autoScroll:p=!0,children:y,sensors:_=x1,collisionDetection:E=Hx,measuring:T,modifiers:C,...b}=e;const M=A.useReducer(L1,void 0,O1),[D,H]=M,[K,Y]=Vx(),[ie,ce]=A.useState(zi.Uninitialized),ue=ie===zi.Initialized,{draggable:{active:x,nodes:S,translate:R},droppable:{containers:N}}=D,O=x!=null?S.get(x):null,j=A.useRef({initial:null,translated:null}),k=A.useMemo(()=>{var Ke;return x!=null?{id:x,data:(Ke=O==null?void 0:O.data)!=null?Ke:b1,rect:j}:null},[x,O]),je=A.useRef(null),[et,st]=A.useState(null),[ee,Q]=A.useState(null),se=fl(b,Object.values(b)),re=bl("DndDescribedBy",c),F=A.useMemo(()=>N.getEnabled(),[N]),W=F1(T),{droppableRects:le,measureDroppableContainers:pe,measuringScheduled:ve}=v1(F,{dragging:ue,dependencies:[R.x,R.y],config:W.droppable}),_e=g1(S,x),xe=A.useMemo(()=>ee?Df(ee):null,[ee]),be=fn(),Oe=_1(_e,W.draggable.measure);U1({activeNode:x!=null?S.get(x):null,config:be.layoutShiftCompensation,initialRect:Oe,measure:W.draggable.measure});const Re=Cv(_e,W.draggable.measure,Oe),sn=Cv(_e?_e.parentElement:null),Ft=A.useRef({activatorEvent:null,active:null,activeNode:_e,collisionRect:null,collisions:null,droppableRects:le,draggableNodes:S,draggingNode:null,draggingNodeRect:null,droppableContainers:N,over:null,scrollableAncestors:[],scrollAdjustedTranslate:null}),on=N.getNodeFor((t=Ft.current.over)==null?void 0:t.id),Ut=k1({measure:W.dragOverlay.measure}),Rn=(i=Ut.nodeRef.current)!=null?i:_e,Ln=ue?(o=Ut.rect)!=null?o:Re:null,fi=!!(Ut.nodeRef.current&&Ut.rect),as=T1(fi?null:Re),mr=RE(Rn?Sn(Rn):null),bt=I1(ue?on??_e:null),hn=A1(bt),gr=M1(C,{transform:{x:R.x-as.x,y:R.y-as.y,scaleX:1,scaleY:1},activatorEvent:ee,active:k,activeNodeRect:Re,containerNodeRect:sn,draggingNodeRect:Ln,over:Ft.current.over,overlayNodeRect:Ut.rect,scrollableAncestors:bt,scrollableAncestorRects:hn,windowRect:mr}),Fr=xe?Mo(xe,R):null,Ur=S1(bt),ls=Pv(Ur),ht=Pv(Ur,[Re]),Qe=Mo(gr,ls),Gt=Ln?Kx(Ln,gr):null,Yn=k&&Gt?E({active:k,collisionRect:Gt,droppableRects:le,droppableContainers:F,pointerCoordinates:Fr}):null,Xn=fE(Yn,"id"),[Qt,yr]=A.useState(null),us=fi?gr:Mo(gr,ht),cs=Wx(us,(a=Qt==null?void 0:Qt.rect)!=null?a:null,Re),jr=A.useRef(null),pi=A.useCallback((Ke,gt)=>{let{sensor:tt,options:pn}=gt;if(je.current==null)return;const yt=S.get(je.current);if(!yt)return;const It=Ke.nativeEvent,vt=new tt({active:je.current,activeNode:yt,event:It,options:pn,context:Ft,onAbort(Ne){if(!S.get(Ne))return;const{onDragAbort:ct}=se.current,jt={id:Ne};ct==null||ct(jt),K({type:"onDragAbort",event:jt})},onPending(Ne,an,ct,jt){if(!S.get(Ne))return;const{onDragPending:Mn}=se.current,_t={id:Ne,constraint:an,initialCoordinates:ct,offset:jt};Mn==null||Mn(_t),K({type:"onDragPending",event:_t})},onStart(Ne){const an=je.current;if(an==null)return;const ct=S.get(an);if(!ct)return;const{onDragStart:jt}=se.current,Cn={activatorEvent:It,active:{id:an,data:ct.data,rect:j}};Ga.unstable_batchedUpdates(()=>{jt==null||jt(Cn),ce(zi.Initializing),H({type:At.DragStart,initialCoordinates:Ne,active:an}),K({type:"onDragStart",event:Cn}),st(jr.current),Q(It)})},onMove(Ne){H({type:At.DragMove,coordinates:Ne})},onEnd:Vn(At.DragEnd),onCancel:Vn(At.DragCancel)});jr.current=vt;function Vn(Ne){return async function(){const{active:ct,collisions:jt,over:Cn,scrollAdjustedTranslate:Mn}=Ft.current;let _t=null;if(ct&&Mn){const{cancelDrop:Jn}=se.current;_t={activatorEvent:It,active:ct,collisions:jt,delta:Mn,over:Cn},Ne===At.DragEnd&&typeof Jn=="function"&&await Promise.resolve(Jn(_t))&&(Ne=At.DragCancel)}je.current=null,Ga.unstable_batchedUpdates(()=>{H({type:Ne}),ce(zi.Uninitialized),yr(null),st(null),Q(null),jr.current=null;const Jn=Ne===At.DragEnd?"onDragEnd":"onDragCancel";if(_t){const hs=se.current[Jn];hs==null||hs(_t),K({type:Jn,event:_t})}})}}},[S]),ds=A.useCallback((Ke,gt)=>(tt,pn)=>{const yt=tt.nativeEvent,It=S.get(pn);if(je.current!==null||!It||yt.dndKit||yt.defaultPrevented)return;const vt={active:It};Ke(tt,gt.options,vt)===!0&&(yt.dndKit={capturedBy:gt.sensor},je.current=pn,pi(tt,gt))},[S,pi]),vr=y1(_,ds);R1(_),Vr(()=>{Re&&ie===zi.Initializing&&ce(zi.Initialized)},[Re,ie]),A.useEffect(()=>{const{onDragMove:Ke}=se.current,{active:gt,activatorEvent:tt,collisions:pn,over:yt}=Ft.current;if(!gt||!tt)return;const It={active:gt,activatorEvent:tt,collisions:pn,delta:{x:Qe.x,y:Qe.y},over:yt};Ga.unstable_batchedUpdates(()=>{Ke==null||Ke(It),K({type:"onDragMove",event:It})})},[Qe.x,Qe.y]),A.useEffect(()=>{const{active:Ke,activatorEvent:gt,collisions:tt,droppableContainers:pn,scrollAdjustedTranslate:yt}=Ft.current;if(!Ke||je.current==null||!gt||!yt)return;const{onDragOver:It}=se.current,vt=pn.get(Xn),Vn=vt&&vt.rect.current?{id:vt.id,rect:vt.rect.current,data:vt.data,disabled:vt.disabled}:null,Ne={active:Ke,activatorEvent:gt,collisions:tt,delta:{x:yt.x,y:yt.y},over:Vn};Ga.unstable_batchedUpdates(()=>{yr(Vn),It==null||It(Ne),K({type:"onDragOver",event:Ne})})},[Xn]),Vr(()=>{Ft.current={activatorEvent:ee,active:k,activeNode:_e,collisionRect:Gt,collisions:Yn,droppableRects:le,draggableNodes:S,draggingNode:Rn,draggingNodeRect:Ln,droppableContainers:N,over:Qt,scrollableAncestors:bt,scrollAdjustedTranslate:Qe},j.current={initial:Ln,translated:Gt}},[k,_e,Yn,Gt,S,Rn,Ln,le,N,Qt,bt,Qe]),f1({...be,delta:R,draggingRect:Gt,pointerCoordinates:Fr,scrollableAncestors:bt,scrollableAncestorRects:hn});const mi=A.useMemo(()=>({active:k,activeNode:_e,activeNodeRect:Re,activatorEvent:ee,collisions:Yn,containerNodeRect:sn,dragOverlay:Ut,draggableNodes:S,droppableContainers:N,droppableRects:le,over:Qt,measureDroppableContainers:pe,scrollableAncestors:bt,scrollableAncestorRects:hn,measuringConfiguration:W,measuringScheduled:ve,windowRect:mr}),[k,_e,Re,ee,Yn,sn,Ut,S,N,le,Qt,pe,bt,hn,W,ve,mr]),gi=A.useMemo(()=>({activatorEvent:ee,activators:vr,active:k,activeNodeRect:Re,ariaDescribedById:{draggable:re},dispatch:H,draggableNodes:S,over:Qt,measureDroppableContainers:pe}),[ee,vr,k,Re,H,re,S,Qt,pe]);return mt.createElement(hE.Provider,{value:Y},mt.createElement(fd.Provider,{value:gi},mt.createElement(CE.Provider,{value:mi},mt.createElement(AE.Provider,{value:cs},y)),mt.createElement(V1,{disabled:(h==null?void 0:h.restoreFocus)===!1})),mt.createElement(Ux,{...h,hiddenTextDescribedById:re}));function fn(){const Ke=(et==null?void 0:et.autoScrollEnabled)===!1,gt=typeof p=="object"?p.enabled===!1:p===!1,tt=ue&&!Ke&&!gt;return typeof p=="object"?{...p,enabled:tt}:{enabled:tt}}}),z1=A.createContext(null),xv="button",B1="Draggable";function $1(n){let{id:e,data:t,disabled:i=!1,attributes:o}=n;const a=bl(B1),{activators:c,activatorEvent:h,active:p,activeNodeRect:y,ariaDescribedById:_,draggableNodes:E,over:T}=A.useContext(fd),{role:C=xv,roleDescription:b="draggable",tabIndex:M=0}=o??{},D=(p==null?void 0:p.id)===e,H=A.useContext(D?AE:z1),[K,Y]=Mc(),[ie,ce]=Mc(),ue=C1(c,e),x=fl(t);Vr(()=>(E.set(e,{id:e,key:a,node:K,activatorNode:ie,data:x}),()=>{const R=E.get(e);R&&R.key===a&&E.delete(e)}),[E,e]);const S=A.useMemo(()=>({role:C,tabIndex:M,"aria-disabled":i,"aria-pressed":D&&C===xv?!0:void 0,"aria-roledescription":b,"aria-describedby":_.draggable}),[i,C,M,D,b,_.draggable]);return{active:p,activatorEvent:h,activeNodeRect:y,attributes:S,isDragging:D,listeners:i?void 0:ue,node:K,over:T,setNodeRef:Y,setActivatorNodeRef:ce,transform:H}}function H1(){return A.useContext(CE)}const W1="Droppable",q1={timeout:25};function K1(n){let{data:e,disabled:t=!1,id:i,resizeObserverConfig:o}=n;const a=bl(W1),{active:c,dispatch:h,over:p,measureDroppableContainers:y}=A.useContext(fd),_=A.useRef({disabled:t}),E=A.useRef(!1),T=A.useRef(null),C=A.useRef(null),{disabled:b,updateMeasurementsFor:M,timeout:D}={...q1,...o},H=fl(M??i),K=A.useCallback(()=>{if(!E.current){E.current=!0;return}C.current!=null&&clearTimeout(C.current),C.current=setTimeout(()=>{y(Array.isArray(H.current)?H.current:[H.current]),C.current=null},D)},[D]),Y=hd({callback:K,disabled:b||!c}),ie=A.useCallback((S,R)=>{Y&&(R&&(Y.unobserve(R),E.current=!1),S&&Y.observe(S))},[Y]),[ce,ue]=Mc(ie),x=fl(e);return A.useEffect(()=>{!Y||!ce.current||(Y.disconnect(),E.current=!1,Y.observe(ce.current))},[ce,Y]),A.useEffect(()=>(h({type:At.RegisterDroppable,element:{id:i,key:a,disabled:t,node:ce,rect:T,data:x}}),()=>h({type:At.UnregisterDroppable,key:a,id:i})),[i]),A.useEffect(()=>{t!==_.current.disabled&&(h({type:At.SetDroppableDisabled,id:i,key:a,disabled:t}),_.current.disabled=t)},[i,a,t,h]),{active:c,rect:T,isOver:(p==null?void 0:p.id)===i,node:ce,over:p,setNodeRef:ue}}function Lp(n,e,t){const i=n.slice();return i.splice(t<0?i.length+t:t,0,i.splice(e,1)[0]),i}function G1(n,e){return n.reduce((t,i,o)=>{const a=e.get(i);return a&&(t[o]=a),t},Array(n.length))}function rc(n){return n!==null&&n>=0}function Q1(n,e){if(n===e)return!0;if(n.length!==e.length)return!1;for(let t=0;t<n.length;t++)if(n[t]!==e[t])return!1;return!0}function Y1(n){return typeof n=="boolean"?{draggable:n,droppable:n}:n}const PE=n=>{let{rects:e,activeIndex:t,overIndex:i,index:o}=n;const a=Lp(e,i,t),c=e[o],h=a[o];return!h||!c?null:{x:h.left-c.left,y:h.top-c.top,scaleX:h.width/c.width,scaleY:h.height/c.height}},ic={scaleX:1,scaleY:1},X1=n=>{var e;let{activeIndex:t,activeNodeRect:i,index:o,rects:a,overIndex:c}=n;const h=(e=a[t])!=null?e:i;if(!h)return null;if(o===t){const y=a[c];return y?{x:0,y:t<c?y.top+y.height-(h.top+h.height):y.top-h.top,...ic}:null}const p=J1(a,o,t);return o>t&&o<=c?{x:0,y:-h.height-p,...ic}:o<t&&o>=c?{x:0,y:h.height+p,...ic}:{x:0,y:0,...ic}};function J1(n,e,t){const i=n[e],o=n[e-1],a=n[e+1];return i?t<e?o?i.top-(o.top+o.height):a?a.top-(i.top+i.height):0:a?a.top-(i.top+i.height):o?i.top-(o.top+o.height):0:0}const kE="Sortable",xE=mt.createContext({activeIndex:-1,containerId:kE,disableTransforms:!1,items:[],overIndex:-1,useDragOverlay:!1,sortedRects:[],strategy:PE,disabled:{draggable:!1,droppable:!1}});function Z1(n){let{children:e,id:t,items:i,strategy:o=PE,disabled:a=!1}=n;const{active:c,dragOverlay:h,droppableRects:p,over:y,measureDroppableContainers:_}=H1(),E=bl(kE,t),T=h.rect!==null,C=A.useMemo(()=>i.map(ue=>typeof ue=="object"&&"id"in ue?ue.id:ue),[i]),b=c!=null,M=c?C.indexOf(c.id):-1,D=y?C.indexOf(y.id):-1,H=A.useRef(C),K=!Q1(C,H.current),Y=D!==-1&&M===-1||K,ie=Y1(a);Vr(()=>{K&&b&&_(C)},[K,C,b,_]),A.useEffect(()=>{H.current=C},[C]);const ce=A.useMemo(()=>({activeIndex:M,containerId:E,disabled:ie,disableTransforms:Y,items:C,overIndex:D,useDragOverlay:T,sortedRects:G1(C,p),strategy:o}),[M,E,ie.draggable,ie.droppable,Y,C,D,p,T,o]);return mt.createElement(xE.Provider,{value:ce},e)}const eb=n=>{let{id:e,items:t,activeIndex:i,overIndex:o}=n;return Lp(t,i,o).indexOf(e)},tb=n=>{let{containerId:e,isSorting:t,wasDragging:i,index:o,items:a,newIndex:c,previousItems:h,previousContainerId:p,transition:y}=n;return!y||!i||h!==a&&o===c?!1:t?!0:c!==o&&e===p},nb={duration:200,easing:"ease"},bE="transform",rb=ml.Transition.toString({property:bE,duration:0,easing:"linear"}),ib={roleDescription:"sortable"};function sb(n){let{disabled:e,index:t,node:i,rect:o}=n;const[a,c]=A.useState(null),h=A.useRef(t);return Vr(()=>{if(!e&&t!==h.current&&i.current){const p=o.current;if(p){const y=ia(i.current,{ignoreTransform:!0}),_={x:p.left-y.left,y:p.top-y.top,scaleX:p.width/y.width,scaleY:p.height/y.height};(_.x||_.y)&&c(_)}}t!==h.current&&(h.current=t)},[e,t,i,o]),A.useEffect(()=>{a&&c(null)},[a]),a}function ob(n){let{animateLayoutChanges:e=tb,attributes:t,disabled:i,data:o,getNewIndex:a=eb,id:c,strategy:h,resizeObserverConfig:p,transition:y=nb}=n;const{items:_,containerId:E,activeIndex:T,disabled:C,disableTransforms:b,sortedRects:M,overIndex:D,useDragOverlay:H,strategy:K}=A.useContext(xE),Y=ab(i,C),ie=_.indexOf(c),ce=A.useMemo(()=>({sortable:{containerId:E,index:ie,items:_},...o}),[E,o,ie,_]),ue=A.useMemo(()=>_.slice(_.indexOf(c)),[_,c]),{rect:x,node:S,isOver:R,setNodeRef:N}=K1({id:c,data:ce,disabled:Y.droppable,resizeObserverConfig:{updateMeasurementsFor:ue,...p}}),{active:O,activatorEvent:j,activeNodeRect:k,attributes:je,setNodeRef:et,listeners:st,isDragging:ee,over:Q,setActivatorNodeRef:se,transform:re}=$1({id:c,data:ce,attributes:{...ib,...t},disabled:Y.draggable}),F=Cx(N,et),W=!!O,le=W&&!b&&rc(T)&&rc(D),pe=!H&&ee,ve=pe&&le?re:null,xe=le?ve??(h??K)({rects:M,activeNodeRect:k,activeIndex:T,overIndex:D,index:ie}):null,be=rc(T)&&rc(D)?a({id:c,items:_,activeIndex:T,overIndex:D}):ie,Oe=O==null?void 0:O.id,Re=A.useRef({activeId:Oe,items:_,newIndex:be,containerId:E}),sn=_!==Re.current.items,Ft=e({active:O,containerId:E,isDragging:ee,isSorting:W,id:c,index:ie,items:_,newIndex:Re.current.newIndex,previousItems:Re.current.items,previousContainerId:Re.current.containerId,transition:y,wasDragging:Re.current.activeId!=null}),on=sb({disabled:!Ft,index:ie,node:S,rect:x});return A.useEffect(()=>{W&&Re.current.newIndex!==be&&(Re.current.newIndex=be),E!==Re.current.containerId&&(Re.current.containerId=E),_!==Re.current.items&&(Re.current.items=_)},[W,be,E,_]),A.useEffect(()=>{if(Oe===Re.current.activeId)return;if(Oe!=null&&Re.current.activeId==null){Re.current.activeId=Oe;return}const Rn=setTimeout(()=>{Re.current.activeId=Oe},50);return()=>clearTimeout(Rn)},[Oe]),{active:O,activeIndex:T,attributes:je,data:ce,rect:x,index:ie,newIndex:be,items:_,isOver:R,isSorting:W,isDragging:ee,listeners:st,node:S,overIndex:D,over:Q,setNodeRef:F,setActivatorNodeRef:se,setDroppableNodeRef:N,setDraggableNodeRef:et,transform:on??xe,transition:Ut()};function Ut(){if(on||sn&&Re.current.newIndex===ie)return rb;if(!(pe&&!xp(j)||!y)&&(W||Ft))return ml.Transition.toString({...y,property:bE})}}function ab(n,e){var t,i;return typeof n=="boolean"?{draggable:n,droppable:!1}:{draggable:(t=n==null?void 0:n.draggable)!=null?t:e.draggable,droppable:(i=n==null?void 0:n.droppable)!=null?i:e.droppable}}function jc(n){if(!n)return!1;const e=n.data.current;return!!(e&&"sortable"in e&&typeof e.sortable=="object"&&"containerId"in e.sortable&&"items"in e.sortable&&"index"in e.sortable)}const lb=[Fe.Down,Fe.Right,Fe.Up,Fe.Left],ub=(n,e)=>{let{context:{active:t,collisionRect:i,droppableRects:o,droppableContainers:a,over:c,scrollableAncestors:h}}=e;if(lb.includes(n.code)){if(n.preventDefault(),!t||!i)return;const p=[];a.getEnabled().forEach(E=>{if(!E||E!=null&&E.disabled)return;const T=o.get(E.id);if(T)switch(n.code){case Fe.Down:i.top<T.top&&p.push(E);break;case Fe.Up:i.top>T.top&&p.push(E);break;case Fe.Left:i.left>T.left&&p.push(E);break;case Fe.Right:i.left<T.left&&p.push(E);break}});const y=pE({active:t,collisionRect:i,droppableRects:o,droppableContainers:p,pointerCoordinates:null});let _=fE(y,"id");if(_===(c==null?void 0:c.id)&&y.length>1&&(_=y[1].id),_!=null){const E=a.get(t.id),T=a.get(_),C=T?o.get(T.id):null,b=T==null?void 0:T.node.current;if(b&&C&&E&&T){const D=dd(b).some((ue,x)=>h[x]!==ue),H=NE(E,T),K=cb(E,T),Y=D||!H?{x:0,y:0}:{x:K?i.width-C.width:0,y:K?i.height-C.height:0},ie={x:C.left,y:C.top};return Y.x&&Y.y?ie:pl(ie,Y)}}}};function NE(n,e){return!jc(n)||!jc(e)?!1:n.data.current.sortable.containerId===e.data.current.sortable.containerId}function cb(n,e){return!jc(n)||!jc(e)||!NE(n,e)?!1:n.data.current.sortable.index<e.data.current.sortable.index}var DE={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},bv=mt.createContext&&mt.createContext(DE),db=["attr","size","title"];function hb(n,e){if(n==null)return{};var t=fb(n,e),i,o;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(n);for(o=0;o<a.length;o++)i=a[o],!(e.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(n,i)&&(t[i]=n[i])}return t}function fb(n,e){if(n==null)return{};var t={};for(var i in n)if(Object.prototype.hasOwnProperty.call(n,i)){if(e.indexOf(i)>=0)continue;t[i]=n[i]}return t}function zc(){return zc=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},zc.apply(this,arguments)}function Nv(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(o){return Object.getOwnPropertyDescriptor(n,o).enumerable})),t.push.apply(t,i)}return t}function Bc(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?Nv(Object(t),!0).forEach(function(i){pb(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):Nv(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function pb(n,e,t){return e=mb(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function mb(n){var e=gb(n,"string");return typeof e=="symbol"?e:e+""}function gb(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e||"default");if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function OE(n){return n&&n.map((e,t)=>mt.createElement(e.tag,Bc({key:t},e.attr),OE(e.child)))}function yb(n){return e=>mt.createElement(vb,zc({attr:Bc({},n.attr)},e),OE(n.child))}function vb(n){var e=t=>{var{attr:i,size:o,title:a}=n,c=hb(n,db),h=o||t.size||"1em",p;return t.className&&(p=t.className),n.className&&(p=(p?p+" ":"")+n.className),mt.createElement("svg",zc({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,i,c,{className:p,style:Bc(Bc({color:n.color||t.color},t.style),n.style),height:h,width:h,xmlns:"http://www.w3.org/2000/svg"}),a&&mt.createElement("title",null,a),n.children)};return bv!==void 0?mt.createElement(bv.Consumer,null,t=>e(t)):e(DE)}function _b(n){return yb({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0V0z"},child:[]},{tag:"path",attr:{d:"M11 18c0 1.1-.9 2-2 2s-2-.9-2-2 .9-2 2-2 2 .9 2 2zm-2-8c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0-6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm6 4c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm0 2c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0 6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z"},child:[]}]})(n)}function wb({data:n,id:e,onDelete:t}){const{attributes:i,listeners:o,setNodeRef:a,transform:c,transition:h}=ob({id:e}),p={transition:h,transform:ml.Transform.toString(c)},y=_=>{_.stopPropagation(),t(e)};return V.jsxs("div",{ref:a,...i,style:p,className:"flex flex-row justify-between items-center mt-3",children:[V.jsx(_b,{className:"sidebar-field-drag-handle",size:30,...o}),V.jsx("div",{className:"w-1/6 flex justify-center",children:V.jsx("ion-icon",{size:"large",name:"close-outline",className:"cursor-pointer text-red-500",onClick:y})}),V.jsx("div",{className:"w-1/6 flex justify-center",children:V.jsx("img",{src:n.imageUrl,width:50,alt:n.title})}),V.jsx("div",{className:"w-1/6 flex justify-center",children:V.jsx("p",{children:n.title})}),V.jsx("div",{className:"w-1/6 flex justify-center",children:V.jsx("p",{children:n.date})}),V.jsx("div",{className:"w-1/6 flex justify-center",children:V.jsx("p",{children:n.row})}),V.jsx("div",{className:"w-1/6 flex justify-center",children:V.jsx("p",{children:n.column})})]})}function Eb({data:n,onDelete:e}){return V.jsxs("div",{className:"w-full p-4 gap-4 rounded-lg border-2 border-black h-96 mt-3",children:[V.jsxs("ul",{className:"flex flex-row justify-between border-b-2 border-b-black",children:[V.jsx("li",{className:"ml-3",children:"Drag"}),V.jsx("li",{className:"w-1/6 text-center",children:"Action"}),V.jsx("li",{className:"w-1/6 text-center",children:"Image"}),V.jsx("li",{className:"w-1/6 text-center",children:"Title"}),V.jsx("li",{className:"w-1/6 text-center",children:"Date"}),V.jsx("li",{className:"w-1/6 text-center",children:"Height"}),V.jsx("li",{className:"w-1/6 text-center",children:"Width"})]}),V.jsx("div",{className:"overflow-y-auto max-h-80",children:V.jsx(Z1,{items:n,strategy:X1,children:n.map(t=>V.jsx(wb,{data:t,id:t.id,onDelete:e},t.id))})})]})}const Tb=({addEvent:n})=>{const[e,t]=A.useState(""),[i,o]=A.useState(""),[a,c]=A.useState(""),[h,p]=A.useState(""),[y,_]=A.useState(""),[E,T]=A.useState(""),C=M=>{M.preventDefault(),n({year:e,title:i,day:a,month:h,description:y,image:E}),t(""),o(""),c(""),p(""),_(""),T("")},b=M=>{const D=M.target.files[0];if(D){const H=new FileReader;H.onloadend=()=>{T(H.result)},H.readAsDataURL(D)}};return V.jsxs("form",{onSubmit:C,children:[V.jsx("input",{type:"text",placeholder:"Year",value:e,onChange:M=>t(M.target.value),required:!0}),V.jsx("input",{type:"text",placeholder:"Title",value:i,onChange:M=>o(M.target.value),required:!0}),V.jsx("input",{type:"text",placeholder:"Day",value:a,onChange:M=>c(M.target.value),required:!0}),V.jsx("input",{type:"text",placeholder:"Month",value:h,onChange:M=>p(M.target.value),required:!0}),V.jsx("textarea",{placeholder:"Description",value:y,onChange:M=>_(M.target.value),required:!0}),V.jsx("input",{type:"file",accept:"image/*",onChange:b}),V.jsx("button",{type:"submit",children:"Add Event"})]})},Ib=({events:n,deleteEvent:e})=>V.jsx("div",{children:Object.keys(n).sort((t,i)=>i-t).map(t=>V.jsxs("div",{children:[V.jsx("h3",{children:t}),V.jsx("ul",{children:Object.keys(n[t]).map(i=>i.slice(6)).sort((i,o)=>i-o).map(i=>{const o="event_"+i,a=n[t][o];return V.jsxs("li",{children:[a.title," - ",a.day,"/",a.month,V.jsx("button",{className:"rounded-lg bg-blue-400 text-white px-4 py-1 ml-5",onClick:()=>e(t,o),children:"Delete"})]},o)})})]},t))});function Sb({title:n,imageUrl:e,url:t,onDelete:i,id:o}){return V.jsx("div",{className:"grid-item",style:{backgroundImage:`url(${e})`},children:V.jsxs("div",{className:"tag flex flex-row",children:[V.jsx("div",{className:"title",children:n}),V.jsx("button",{onClick:()=>i(o),children:"X"})]})})}function Rb({onClick:n}){return V.jsx("button",{className:"grid-item bg-gray-300 flex items-center justify-center",onClick:n,children:V.jsx("img",{width:"100",height:"100",src:"https://cdn-icons-png.flaticon.com/512/2661/2661440.png",alt:"plus"})})}function Cb({isHidden:n,onDone:e,onCancel:t}){return V.jsx("div",{className:"art-edit-screen",hidden:n,children:V.jsxs("div",{className:"art-edit-form",children:[V.jsx("h1",{className:"text-xl text-center font-bold",children:"Edit"}),V.jsx("hr",{}),V.jsx("input",{type:"text",name:"title",id:"art-title-edit",placeholder:"Title"}),V.jsx("br",{}),V.jsx("input",{type:"text",name:"description",id:"art-description-edit",placeholder:"Description"}),V.jsx("br",{}),V.jsx("input",{type:"text",name:"imageUrl",id:"art-image-url-edit",placeholder:"Image URL"}),V.jsx("span",{children:" or "}),V.jsx("input",{type:"file",id:"art-file-edit",accept:"image/*"}),V.jsx("br",{}),V.jsx("input",{type:"date",name:"date",id:"art-date-edit",placeholder:"Date"}),V.jsx("br",{}),V.jsxs("div",{className:"flex flex-row",children:[V.jsx("button",{type:"submit",className:"transition duration-300 grow text-center mx-2 bg-blue-500 hover:bg-blue-400 text-white rounded",onClick:e,children:"Done"}),V.jsx("button",{type:"submit",className:"transition duration-300 grow text-center rounded hover:bg-gray-200 mx-2",onClick:t,children:"Cancel"})]})]})})}function Ab({onSubmit:n}){const[e,t]=A.useState(null),[i,o]=A.useState({title:"",date:"",row:"",column:"",imageUrl:"",description:""}),a=p=>{const y=p.target.files[0];if(y){const _=new FileReader;_.onload=()=>{const E=_.result;t(E),o(T=>({...T,imageUrl:E}))},_.readAsDataURL(y)}},c=p=>{const{name:y,value:_}=p.target;o({...i,[y]:_})},h=p=>{p.preventDefault(),i.title&&i.date&&i.imageUrl?(n(i),o({title:"",date:"",column:"",row:"",imageUrl:"",description:""}),t(null)):alert("Please fill out all required fields.")};return V.jsxs("form",{className:"mt-4",onSubmit:h,children:[V.jsx("div",{className:"file-upload-container",children:V.jsxs("div",{className:"file-upload",children:[V.jsx("input",{className:"file-input",id:"fileInput",type:"file",accept:"image/*",onChange:a}),V.jsxs("label",{className:"file-label",htmlFor:"fileInput",children:[V.jsx("i",{className:"upload-icon",children:""}),V.jsx("p",{children:"Drag & Drop your file here or click to upload"})]})]})}),e&&V.jsxs("div",{className:"horizontal-preview",children:[V.jsx("img",{src:e,alt:"Uploaded Preview",className:"preview-image"}),V.jsxs("div",{className:"inputs",children:[V.jsx("input",{type:"text",name:"title",value:i.title,onChange:c,placeholder:"Title",required:!0}),V.jsx("input",{type:"date",name:"date",value:i.date,onChange:c,required:!0}),V.jsx("input",{type:"text",name:"column",value:i.column,onChange:c,placeholder:"Width"}),V.jsx("input",{type:"text",name:"row",value:i.row,onChange:c,placeholder:"Height"}),V.jsx("input",{type:"text",className:"w-1/2 h-auto",name:"description",value:i.description,onChange:c,placeholder:"Description"}),V.jsx("button",{type:"submit",className:"rounded-lg bg-blue-500 py-2 px-4 text-white",children:"Add"})]})]})]})}const Pb=({Bio:n,onDelete:e})=>n?V.jsx("div",{className:"container mx-auto p-4",children:V.jsx("div",{className:"h-[80vh] overflow-y-auto border border-gray-300 rounded-lg p-4",children:Object.entries(n).map(([t,i])=>[t.slice(8),i]).sort((t,i)=>t[0]-i[0]).map(([t,i])=>["section_"+t,i]).map(([t,i])=>V.jsxs("div",{className:"w-full mb-8 border p-4 rounded-lg shadow-md",children:[V.jsxs("div",{className:"flex justify-between items-center",children:[V.jsx("h2",{className:"text-xl font-bold",children:t}),V.jsxs("h2",{children:["Overlay: ",i.overlay?"True":"False"]}),V.jsx("button",{onClick:()=>e(t),className:"text-white rounded-lg bg-red-500 py-2 px-4",children:"Delete"})]}),V.jsx("div",{className:"flex flex-row gap-4",children:Object.entries(i.parts||{}).map(([o,a])=>[o.slice(5),a]).sort((o,a)=>o[0]-a[0]).map(([o,a])=>["part_"+o,a]).map(([o,a])=>V.jsxs("div",{className:"flex-1 p-2",children:[V.jsx("p",{className:"text-sm font-semibold mb-2",children:o}),a.type==="image"?V.jsx("img",{src:a.imageUrl,alt:`Part ${o}`,className:"w-full h-auto rounded-md"}):V.jsxs(V.Fragment,{children:[V.jsxs("p",{className:"text-lg",children:["Text: ",a.text]}),V.jsxs("p",{children:[V.jsx("strong",{children:"Color:"})," ",a.color]}),V.jsxs("p",{children:[V.jsx("strong",{children:"Align:"})," ",a.align]})]}),V.jsxs("div",{className:"text-gray-500 text-sm mt-2",children:[V.jsxs("p",{children:[V.jsx("strong",{children:"Type:"})," ",a.type]}),V.jsxs("p",{children:[V.jsx("strong",{children:"Width:"})," ",a.width]}),a.scrollEffectType&&V.jsxs("p",{children:[V.jsx("strong",{children:"Effect:"})," ",a.scrollEffectType]}),a.startEffect&&V.jsxs("p",{children:[V.jsx("strong",{children:"Start:"})," ",a.startEffect]}),a.rangeEffect&&V.jsxs("p",{children:[V.jsx("strong",{children:"Range:"})," ",a.rangeEffect]})]})]},o))})]},t))})}):V.jsx("div",{children:"No data available."}),kb=["scroll-from-left","scroll-from-right","scroll-from-top","scroll-from-bottom","pop-from-center","slowly-move-up","slowly-zooming"];function xb({addSection:n}){const[e,t]=A.useState("400px"),[i,o]=A.useState(!1),[a,c]=A.useState([]),h=()=>{a.length<2?c(T=>[...T,{type:"text",text:"",align:"left",color:"black",scrollEffectType:"",width:"50%",movingRange:"",zoomingRange:""}]):alert("You can only add up to 2 parts.")},p=T=>{c(C=>C.filter((b,M)=>M!==T))},y=(T,C,b)=>{c(M=>{const D=[...M];return D[T]={...D[T],[C]:b},D})},_=T=>{T.preventDefault();const C={height:e,overlay:i,parts:a.map(b=>{const M=b.scrollEffectType?200:void 0,D=b.scrollEffectType?parseInt(e):void 0;return{...b,startEffect:M,rangeEffect:D}})};n(e,i,C),E()},E=()=>{t("400px"),o(!1),c([])};return V.jsxs("form",{onSubmit:_,className:"space-y-4",children:[V.jsxs("div",{children:[V.jsx("label",{className:"block",children:"Height:"}),V.jsx("input",{type:"text",value:e,onChange:T=>t(T.target.value),className:"border p-2",placeholder:"e.g., 400px"})]}),V.jsxs("div",{children:[V.jsx("label",{className:"block",children:"Overlay:"}),V.jsxs("select",{value:i,onChange:T=>o(T.target.value==="true"),className:"border p-2",children:[V.jsx("option",{value:!1,children:"False"}),V.jsx("option",{value:!0,children:"True"})]})]}),V.jsx("div",{children:V.jsx("button",{type:"button",onClick:h,className:"bg-blue-500 text-white p-2",children:"Add Part"})}),a.map((T,C)=>V.jsxs("div",{className:"border p-4 space-y-2",children:[V.jsxs("div",{children:[V.jsx("label",{className:"block",children:"Part Type:"}),V.jsxs("select",{value:T.type,onChange:b=>y(C,"type",b.target.value),className:"border p-2",children:[V.jsx("option",{value:"text",children:"Text"}),V.jsx("option",{value:"image",children:"Image"})]})]}),T.type==="image"&&V.jsxs(V.Fragment,{children:[V.jsxs("div",{children:[V.jsx("label",{className:"block",children:"Image URL:"}),V.jsx("input",{type:"text",value:T.imageUrl||"",onChange:b=>y(C,"imageUrl",b.target.value),className:"border p-2"})]}),V.jsxs("div",{children:[V.jsx("label",{className:"block",children:"Upload Image:"}),V.jsx("input",{type:"file",accept:"image/*",onChange:b=>{const M=b.target.files[0],D=new FileReader;D.onloadend=()=>{y(C,"imageUrl",D.result)},M&&D.readAsDataURL(M)},className:"border p-2"})]})]}),T.type==="text"&&V.jsxs(V.Fragment,{children:[V.jsxs("div",{children:[V.jsx("label",{className:"block",children:"Text:"}),V.jsx("textarea",{value:T.text,onChange:b=>y(C,"text",b.target.value),className:"border p-2"})]}),V.jsxs("div",{children:[V.jsx("label",{className:"block",children:"Align:"}),V.jsxs("select",{value:T.align,onChange:b=>y(C,"align",b.target.value),className:"border p-2",children:[V.jsx("option",{value:"left",children:"Left"}),V.jsx("option",{value:"center",children:"Center"}),V.jsx("option",{value:"right",children:"Right"})]})]}),V.jsxs("div",{children:[V.jsx("label",{className:"block",children:"Color:"}),V.jsx("input",{type:"color",value:T.color,onChange:b=>y(C,"color",b.target.value),className:"border p-2"})]})]}),V.jsxs("div",{children:[V.jsx("label",{className:"block",children:"Scroll Effect Type:"}),V.jsxs("select",{value:T.scrollEffectType,onChange:b=>y(C,"scrollEffectType",b.target.value),className:"border p-2",children:[V.jsx("option",{value:"",children:"None"}),kb.map(b=>V.jsx("option",{value:b,children:b},b))]})]}),T.scrollEffectType==="slowly-move-up"&&V.jsxs("div",{children:[V.jsx("label",{className:"block",children:"Moving Range:"}),V.jsx("input",{type:"text",value:T.movingRange,onChange:b=>y(C,"movingRange",b.target.value),className:"border p-2",placeholder:"e.g., 40%"})]}),T.scrollEffectType==="slowly-zooming"&&V.jsxs("div",{children:[V.jsx("label",{className:"block",children:"Zooming Range:"}),V.jsx("input",{type:"text",value:T.zoomingRange,onChange:b=>y(C,"zoomingRange",b.target.value),className:"border p-2",placeholder:"e.g., 20%"})]}),V.jsxs("div",{children:[V.jsx("label",{className:"block",children:"Width:"}),V.jsx("input",{type:"text",value:T.width,onChange:b=>y(C,"width",b.target.value),className:"border p-2",placeholder:"e.g., 50%"})]}),V.jsx("button",{type:"button",onClick:()=>p(C),className:"bg-red-500 text-white p-2",children:"Delete Part"})]},C)),V.jsx("button",{type:"submit",className:"bg-blue-500 text-white p-2",children:"Add Section"})]})}function bb(n){let e={};return n.forEach((t,i)=>{e[`item_${i}`]=t}),e}function Nb(n){let e=[];return Object.entries(n).map(t=>[t[0].slice(5),t[1]]).sort((t,i)=>t[0]-i[0]).forEach(([t,i])=>{e.push(i)}),e}function Db(n){let e={};return n.forEach((t,i)=>{e[`art_${i}`]=t}),e}function Ob(n){let e=[];return Object.entries(n).map(t=>[t[0].slice(4),t[1]]).sort((t,i)=>t[0]-i[0]).forEach(([t,i])=>{e.push(i)}),e}function Lb(){const[n,e]=A.useState(),[t,i]=A.useState(null),[o,a]=A.useState([]),[c,h]=A.useState([]),[p,y]=A.useState({}),[_,E]=A.useState({}),[T,C]=A.useState(!1),b=()=>{C(!0)},M=ee=>{h(Q=>Q.filter(se=>se.id!==ee))},D=()=>{const ee=document.getElementById("art-title-edit").value,Q=document.getElementById("art-image-url-edit"),se=document.getElementById("art-file-edit"),re=document.getElementById("art-date-edit").value,F=document.getElementById("art-description-edit").value;let W=Q.value;if(se.files&&se.files[0]){const le=se.files[0],pe=new FileReader;pe.onload=()=>{const ve=pe.result;h(_e=>[{title:ee,imageUrl:ve,date:re,description:F,id:_e.length+1},..._e]),K()},pe.readAsDataURL(le)}else W&&(h(le=>[{title:ee,imageUrl:W,date:re,description:F,id:le.length+1},...le]),K());C(!1)},H=()=>{K(),C(!1)},K=()=>{document.getElementById("art-title-edit").value="",document.getElementById("art-image-url-edit").value="",document.getElementById("art-file-edit").value="",document.getElementById("art-redirect-url-edit").value=""},Y=ee=>{a(Q=>[{...ee,id:Q.length+1},...Q])},ie=ee=>o.findIndex(Q=>Q.id===ee),ce=async()=>{const ee=document.getElementById("email").value,Q=document.getElementById("password").value;await WR(vv,ee,Q)},ue=async()=>{try{const ee=ei(Ba,"admin",t),Q=ei(ee,"data","gallery"),se=bb(o);await tc(Q,{data:se}),console.log("Gallery saved")}catch(ee){console.error("Error saving gallery:",ee)}},x=async()=>{try{const ee=ei(Ba,"admin",t),Q=ei(ee,"data","news");await tc(Q,{data:p}),console.log("News saved")}catch(ee){console.error("Error saving news:",ee)}},S=async()=>{try{const ee=ei(Ba,"admin",t),Q=ei(ee,"data","arts"),se=Db(c);await tc(Q,{data:se}),console.log("Arts saved")}catch(ee){console.error("Error saving arts:",ee)}},R=async()=>{try{const ee=ei(Ba,"admin",t),Q=ei(ee,"data","bio");await tc(Q,{data:_}),console.log("Bio saved")}catch(ee){console.error("Error saving bio:",ee)}},N=async ee=>{try{const Q=ei(Ba,"admin",ee),se=nx(Q,"data");(await Ex(se)).forEach(F=>{const W=F.data(),le=Nb(W.data),pe=Ob(W.data);F.id==="gallery"&&W&&W.data?a(le):F.id==="arts"&&W&&W.data?h(pe):F.id==="news"&&W&&W.data?y(W.data):F.id==="bio"&&W&&W.data&&(console.log(W.data),E(W.data))})}catch(Q){console.error("Error fetching data:",Q)}};A.useEffect(()=>{const ee=GR(vv,Q=>{e(Q),i(Q.uid),Q&&N(Q.uid)});return()=>ee()},[]);const O=ee=>{const{active:Q,over:se}=ee;Q.id!==se.id&&a(re=>{const F=ie(Q.id),W=ie(se.id);return Lp(re,F,W)})};nc(nc(Op),nc(IE),nc(Np,{coordinateGetter:ub}));const j=ee=>{a(o.filter(Q=>Q.id!==ee))},k=(ee,Q)=>{y(se=>{const re={...se};return re[ee]&&(delete re[ee][Q],Object.keys(re[ee]).length===0&&delete re[ee]),re})},je=({year:ee,title:Q,day:se,month:re,image:F,description:W})=>{y(le=>{const pe={...le};pe[ee]||(pe[ee]={});const ve=`event_${Object.keys(pe[ee]).length}`;return pe[ee][ve]={title:Q,day:se,month:re,imageUrl:F,description:W,date:`${se}-${re}-${ee}`},pe})},et=ee=>{const Q={..._};delete Q[ee];const se={};let re=200,F=0;Object.entries(Q).forEach(([W,le])=>{const pe=`section_${F}`,ve={...le.parts};Object.entries(ve).forEach(([_e,xe])=>{xe.scrollEffectType&&(xe.startEffect=re,xe.rangeEffect=parseInt(le.height))}),se[pe]={...le,parts:ve},re+=parseInt(le.height),F++}),E(se)},st=(ee,Q,se)=>{console.log(se);const re=Object.keys(_).length,F=`section_${re}`,W=Object.keys(_).reduce((ve,_e)=>ve+parseInt(_[_e].height),0),le=re===0?200:W+200,pe={height:ee,overlay:Q,parts:{}};se.parts.forEach((ve,_e)=>{pe.parts[`part_${_e}`]={...ve,startEffect:le,rangeEffect:parseInt(ee)}}),E(ve=>({...ve,[F]:pe})),console.log(pe)};return V.jsx(V.Fragment,{children:n?V.jsxs("div",{className:"p-5",children:[V.jsx("h1",{className:"font-bold text-2xl",children:"Admin page"}),V.jsx("h2",{children:"Gallery"}),V.jsxs(j1,{onDragEnd:O,collisionDetection:pE,children:[V.jsx("button",{onClick:ue,className:"text-white rounded-lg bg-blue-500 py-2 px-4",children:"Save changes"}),V.jsx(Eb,{data:o,onDelete:j}),V.jsx(Ab,{onSubmit:Y})]}),V.jsx("h2",{className:"font-bold text-xl",children:"Arts"}),V.jsx("button",{onClick:S,className:"text-white rounded-lg bg-blue-500 py-2 px-4",children:"Save changes"}),V.jsx("hr",{className:"border-black"}),V.jsxs("div",{className:"arts-container",children:[V.jsxs("div",{id:"arts-grid",className:"arts-grid",children:[V.jsx(Rb,{onClick:b}),c.map((ee,Q)=>V.jsx(Sb,{onDelete:M,id:ee.id,title:ee.title,imageUrl:ee.imageUrl},Q))]}),V.jsx(Cb,{isHidden:!T,onDone:D,onCancel:H})]}),V.jsx("h2",{className:"mt-4",children:"News"}),V.jsx("button",{onClick:x,className:"text-white rounded-lg bg-blue-500 py-2 px-4",children:"Save changes"}),V.jsx(Tb,{addEvent:je}),V.jsx(Ib,{events:p,deleteEvent:k}),V.jsx("h2",{className:"mt-4",children:"Bio"}),V.jsx("button",{onClick:R,className:"text-white rounded-lg bg-blue-500 py-2 px-4",children:"Save changes"}),V.jsx(xb,{addSection:st}),V.jsx(Pb,{Bio:_,onDelete:et})]}):V.jsx("div",{className:"container",children:V.jsxs("div",{className:"login-box",children:[V.jsx("div",{className:"login-header",children:V.jsx("header",{children:"Login"})}),V.jsx("div",{className:"input-box",children:V.jsx("input",{type:"text",className:"input-field",placeholder:"Email",autoComplete:"off",required:!0,id:"email"})}),V.jsx("div",{className:"input-box",children:V.jsx("input",{type:"password",className:"input-field",placeholder:"Password",autoComplete:"off",required:!0,id:"password"})}),V.jsxs("div",{className:"forgot",children:[V.jsxs("section",{children:[V.jsx("input",{type:"checkbox",id:"check"}),V.jsx("label",{htmlFor:"check",children:"Remember me"})]}),V.jsx("section",{children:V.jsx("a",{href:"#",children:"Forgot password"})})]}),V.jsx("div",{className:"input-submit",children:V.jsx("button",{className:"submit-btn",id:"submit",onClick:ce,children:"Sign In"})})]})})})}const Vb=document.getElementById("root");WT.createRoot(Vb).render(V.jsx(oS,{basename:"/admin-landing-page-1",children:V.jsx(VI,{children:V.jsx(qv,{path:"/",element:V.jsx(Lb,{})})})}));
